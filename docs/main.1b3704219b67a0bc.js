"use strict";(self.webpackChunkmy_ecommerce=self.webpackChunkmy_ecommerce||[]).push([[179],{2011:(bt,He,O)=>{O.d(He,{Dh:()=>we,GT:()=>Ee,cc:()=>Ue,on:()=>ke,pX:()=>le,xv:()=>be});var s=O(4650),F=O(9260);bt=O.hmd(bt);const k=["ngOnDestroy"],le=(oe,de,rt,it={})=>new Proxy(oe,{get:(Oe,De)=>rt.runOutsideAngular(()=>{var me;if(oe[De])return!(null===(me=it?.spy)||void 0===me)&&me.get&&it.spy.get(De,oe[De]),oe[De];if(k.indexOf(De)>-1)return()=>{};const Be=de.toPromise().then(te=>{const ie=te&&te[De];return"function"==typeof ie?ie.bind(te):ie&&ie.then?ie.then(he=>rt.run(()=>he)):rt.run(()=>ie)});return new Proxy(()=>{},{get:(te,ie)=>Be[ie],apply:(te,ie,he)=>Be.then(K=>{var Y;const ae=K&&K(...he);return!(null===(Y=it?.spy)||void 0===Y)&&Y.apply&&it.spy.apply(De,he,ae),ae})})})}),Ee=(oe,de)=>{de.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(it=>{Object.defineProperty(oe.prototype,it,Object.getOwnPropertyDescriptor(rt.prototype||rt,it))})})};class Me{constructor(de){return de}}const we=new s.OlP("angularfire2.app.options"),be=new s.OlP("angularfire2.app.name");function ke(oe,de,rt){const Oe="object"==typeof rt&&rt||{};Oe.name=Oe.name||"string"==typeof rt&&rt||"[DEFAULT]";const me=F.Z.apps.filter(Be=>Be&&Be.name===Oe.name)[0]||de.runOutsideAngular(()=>F.Z.initializeApp(oe,Oe));try{JSON.stringify(oe)!==JSON.stringify(me.options)&&G("error",`${me.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Me(me)}const G=(oe,...de)=>{(0,s.X6Q)()&&typeof console<"u"&&console[oe](...de)};function Ue(oe,de,rt,it,Oe){const[,De,me]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===oe)||[];if(De)return function Re(oe,de){try{return oe.toString()===de.toString()}catch{return oe===de}}(Oe,me)||(Qe("error",`${de} was already initialized on the ${rt} Firebase App with different settings.${Se?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:Oe,was:me})),De;{const Be=it();return globalThis.\u0275AngularfireInstanceCache.push([oe,Be,Oe]),Be}}const Se=!!bt.hot,Qe=(oe,...de)=>{(0,s.X6Q)()&&typeof console<"u"&&console[oe](...de)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},552:(bt,He,O)=>{O.d(He,{$:()=>Ho,A:()=>$,B:()=>Re,G:()=>yi,H:()=>Cr,J:()=>C1,L:()=>B,M:()=>Pl,N:()=>Rl,P:()=>t0,Q:()=>s3,R:()=>q5,T:()=>o3,U:()=>Ai,V:()=>Ni,W:()=>y5,X:()=>P9,Y:()=>Ao,Z:()=>It,_:()=>R9,a:()=>Z1,a0:()=>T5,a1:()=>u2,a2:()=>t4,a3:()=>d3,a4:()=>E5,a5:()=>F9,a6:()=>t2,a7:()=>o1,a8:()=>Vo,a9:()=>q1,aA:()=>R,aB:()=>C4,aC:()=>Zo,aD:()=>n0,aE:()=>_t,aI:()=>Ms,aL:()=>vs,aa:()=>U9,ab:()=>h3,ac:()=>g3,af:()=>N5,ag:()=>H5,ah:()=>Gl,ak:()=>xo,al:()=>k5,an:()=>O5,ao:()=>M3,ap:()=>he,aq:()=>Ie,ar:()=>nt,as:()=>it,at:()=>Ls,au:()=>Ns,av:()=>Nt,aw:()=>Oe,ax:()=>te,ay:()=>As,az:()=>Y,b:()=>Vi,c:()=>m4,d:()=>K5,e:()=>G9,f:()=>r0,g:()=>q9,h:()=>Y5,i:()=>h4,j:()=>a0,k:()=>ur,l:()=>Un,m:()=>On,n:()=>Ko,o:()=>be,q:()=>bs,r:()=>r2,s:()=>on,u:()=>gn,v:()=>zo,y:()=>s4});var s=O(5861),F=O(2090),k=O(9681),le=O(1877),Ee=O(655),Me=O(4859);const be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Se=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),de=new le.Yd("@firebase/auth");function rt(b,...m){de.logLevel<=le.in.ERROR&&de.error(`Auth (${k.SDK_VERSION}): ${b}`,...m)}function it(b,...m){throw Be(b,...m)}function Oe(b,...m){return Be(b,...m)}function De(b,m,_){const w=Object.assign(Object.assign({},Se()),{[m]:_});return new F.LL("auth","Firebase",w).create(m,{appName:b.name})}function me(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&it(b,"argument-error"),De(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Be(b,...m){if("string"!=typeof b){const _=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return Qe.create(b,...m)}function te(b,m,..._){if(!b)throw Be(m,..._)}function ie(b){const m="INTERNAL ASSERTION FAILED: "+b;throw rt(m),new Error(m)}function he(b,m){b||ie(m)}const K=new Map;function Y(b){he(b instanceof Function,"Expected a class definition");let m=K.get(b);return m?(he(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,K.set(b,m),m)}function Le(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function ze(){return"http:"===ht()||"https:"===ht()}function ht(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class je{constructor(m,_){this.shortDelay=m,this.longDelay=_,he(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function Jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ze()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(b,m){he(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Zn{static initialize(m,_,w){this.fetchImpl=m,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Xt=new je(3e4,6e4);function Bt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function kt(b,m,_,w){return G2.apply(this,arguments)}function G2(){return(G2=(0,s.Z)(function*(b,m,_,w,E={}){return e1(b,E,(0,s.Z)(function*(){let I={},J={};w&&("GET"===m?J=w:I={body:JSON.stringify(w)});const ye=(0,F.xO)(Object.assign({key:b.config.apiKey},J)).slice(1),et=yield b._getAdditionalHeaders();return et["Content-Type"]="application/json",b.languageCode&&(et["X-Firebase-Locale"]=b.languageCode),Zn.fetch()(v1(b,b.config.apiHost,_,ye),Object.assign({method:m,headers:et,referrerPolicy:"no-referrer"},I))}))})).apply(this,arguments)}function e1(b,m,_){return B1.apply(this,arguments)}function B1(){return(B1=(0,s.Z)(function*(b,m,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},pn),m);try{const E=new q2(b),I=yield Promise.race([_(),E.promise]);E.clearNetworkTimeout();const J=yield I.json();if("needConfirmation"in J)throw Z2(b,"account-exists-with-different-credential",J);if(I.ok&&!("errorMessage"in J))return J;{const ye=I.ok?J.errorMessage:J.error.message,[et,mt]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===et)throw Z2(b,"credential-already-in-use",J);if("EMAIL_EXISTS"===et)throw Z2(b,"email-already-in-use",J);if("USER_DISABLED"===et)throw Z2(b,"user-disabled",J);const Tt=w[et]||et.toLowerCase().replace(/[_\s]+/g,"-");if(mt)throw De(b,Tt,mt);it(b,Tt)}}catch(E){if(E instanceof F.ZR)throw E;it(b,"network-request-failed")}})).apply(this,arguments)}function Rn(b,m,_,w){return j1.apply(this,arguments)}function j1(){return(j1=(0,s.Z)(function*(b,m,_,w,E={}){const I=yield kt(b,m,_,w,E);return"mfaPendingCredential"in I&&it(b,"multi-factor-auth-required",{_serverResponse:I}),I})).apply(this,arguments)}function v1(b,m,_,w){const E=`${m}${_}?${w}`;return b.config.emulator?hn(b.config,E):`${b.config.apiScheme}://${E}`}class q2{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(Oe(this.auth,"network-request-failed")),Xt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Z2(b,m,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const E=Oe(b,m,w);return E.customData._tokenResponse=_,E}function _i(){return(_i=(0,s.Z)(function*(b,m){return kt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Je(b,m){return C2.apply(this,arguments)}function C2(){return(C2=(0,s.Z)(function*(b,m){return kt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function l2(b,m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(b,m){return kt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function sr(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function Nn(){return(Nn=(0,s.Z)(function*(b,m=!1){const _=(0,F.m9)(b),w=yield _.getIdToken(m),E=pt(w);te(E&&E.exp&&E.auth_time&&E.iat,_.auth,"internal-error");const I="object"==typeof E.firebase?E.firebase:void 0,J=I?.sign_in_provider;return{claims:E,token:w,authTime:sr(mn(E.auth_time)),issuedAtTime:sr(mn(E.iat)),expirationTime:sr(mn(E.exp)),signInProvider:J||null,signInSecondFactor:I?.sign_in_second_factor||null}})).apply(this,arguments)}function mn(b){return 1e3*Number(b)}function pt(b){const[m,_,w]=b.split(".");if(void 0===m||void 0===_||void 0===w)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const E=(0,F.tV)(_);return E?JSON.parse(E):(rt("Failed to decode base64 JWT payload"),null)}catch(E){return rt("Caught error parsing JWT payload as JSON",E?.toString()),null}}function Vt(b,m){return or.apply(this,arguments)}function or(){return(or=(0,s.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(w){throw w instanceof F.ZR&&y2(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function y2({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class W2{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const E=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,E)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),w)}iteration(){var m=this;return(0,s.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class xt{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function K2(b){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(b){var m;const _=b.auth,w=yield b.getIdToken(),E=yield Vt(b,l2(_,{idToken:w}));te(E?.users.length,_,"internal-error");const I=E.users[0];b._notifyReloadListener(I);const J=null!==(m=I.providerUserInfo)&&void 0!==m&&m.length?Ln(I.providerUserInfo):[],ye=E2(b.providerData,J),Tt=!!b.isAnonymous&&!(b.email&&I.passwordHash||ye?.length),bn={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:ye,metadata:new xt(I.createdAt,I.lastLoginAt),isAnonymous:Tt};Object.assign(b,bn)})).apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(b){const m=(0,F.m9)(b);yield K2(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function E2(b,m){return[...b.filter(w=>!m.some(E=>E.providerId===w.providerId)),...m]}function Ln(b){return b.map(m=>{var{providerId:_}=m,w=(0,Ee._T)(m,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ve(){return(ve=(0,s.Z)(function*(b,m){const _=yield e1(b,{},(0,s.Z)(function*(){const w=(0,F.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:E,apiKey:I}=b.config,J=v1(b,E,"/v1/token",`key=${I}`),ye=yield b._getAdditionalHeaders();return ye["Content-Type"]="application/x-www-form-urlencoded",Zn.fetch()(J,{method:"POST",headers:ye,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){te(m.idToken,"internal-error"),te(typeof m.idToken<"u","internal-error"),te(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function gt(b){const m=pt(b);return te(m,"internal-error"),te(typeof m.exp<"u","internal-error"),te(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var w=this;return(0,s.Z)(function*(){return te(!w.accessToken||w.refreshToken,m,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var w=this;return(0,s.Z)(function*(){const{accessToken:E,refreshToken:I,expiresIn:J}=yield function We(b,m){return ve.apply(this,arguments)}(m,_);w.updateTokensAndExpiration(E,I,Number(J))})()}updateTokensAndExpiration(m,_,w){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,_){const{refreshToken:w,accessToken:E,expirationTime:I}=_,J=new Xe;return w&&(te("string"==typeof w,"internal-error",{appName:m}),J.refreshToken=w),E&&(te("string"==typeof E,"internal-error",{appName:m}),J.accessToken=E),I&&(te("number"==typeof I,"internal-error",{appName:m}),J.expirationTime=I),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Xe,this.toJSON())}_performRefresh(){return ie("not implemented")}}function wt(b,m){te("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class At{constructor(m){var{uid:_,auth:w,stsTokenManager:E}=m,I=(0,Ee._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=E,this.accessToken=E.accessToken,this.displayName=I.displayName||null,this.email=I.email||null,this.emailVerified=I.emailVerified||!1,this.phoneNumber=I.phoneNumber||null,this.photoURL=I.photoURL||null,this.isAnonymous=I.isAnonymous||!1,this.tenantId=I.tenantId||null,this.providerData=I.providerData?[...I.providerData]:[],this.metadata=new xt(I.createdAt||void 0,I.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,s.Z)(function*(){const w=yield Vt(_,_.stsTokenManager.getToken(_.auth,m));return te(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(m){return function An(b){return Nn.apply(this,arguments)}(this,m)}reload(){return function t1(b){return Wt.apply(this,arguments)}(this)}_assign(m){this!==m&&(te(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new At(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var w=this;return(0,s.Z)(function*(){let E=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),E=!0),_&&(yield K2(w)),yield w.auth._persistUserIfCurrent(w),E&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,s.Z)(function*(){const _=yield m.getIdToken();return yield Vt(m,function _1(b,m){return _i.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var w,E,I,J,ye,et,mt,Tt;const bn=null!==(w=_.displayName)&&void 0!==w?w:void 0,Pr=null!==(E=_.email)&&void 0!==E?E:void 0,S1=null!==(I=_.phoneNumber)&&void 0!==I?I:void 0,Yo=null!==(J=_.photoURL)&&void 0!==J?J:void 0,Kn=null!==(ye=_.tenantId)&&void 0!==ye?ye:void 0,u1=null!==(et=_._redirectEventId)&&void 0!==et?et:void 0,Qo=null!==(mt=_.createdAt)&&void 0!==mt?mt:void 0,g0=null!==(Tt=_.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:$i,emailVerified:k3,isAnonymous:O3,providerData:Jo,stsTokenManager:Xo}=_;te($i&&Xo,m,"internal-error");const m0=Xe.fromJSON(this.name,Xo);te("string"==typeof $i,m,"internal-error"),wt(bn,m.name),wt(Pr,m.name),te("boolean"==typeof k3,m,"internal-error"),te("boolean"==typeof O3,m,"internal-error"),wt(S1,m.name),wt(Yo,m.name),wt(Kn,m.name),wt(u1,m.name),wt(Qo,m.name),wt(g0,m.name);const P3=new At({uid:$i,auth:m,email:Pr,emailVerified:k3,displayName:bn,isAnonymous:O3,photoURL:Yo,phoneNumber:S1,tenantId:Kn,stsTokenManager:m0,createdAt:Qo,lastLoginAt:g0});return Jo&&Array.isArray(Jo)&&(P3.providerData=Jo.map(Gi=>Object.assign({},Gi))),u1&&(P3._redirectEventId=u1),P3}static _fromIdTokenResponse(m,_,w=!1){return(0,s.Z)(function*(){const E=new Xe;E.updateFromServerResponse(_);const I=new At({uid:_.localId,auth:m,stsTokenManager:E,isAnonymous:w});return yield K2(I),I})()}}const B=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,w){var E=this;return(0,s.Z)(function*(){E.storage[_]=w})()}_get(_){var w=this;return(0,s.Z)(function*(){const E=w.storage[_];return void 0===E?null:E})()}_remove(_){var w=this;return(0,s.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function R(b,m,_){return`firebase:${b}:${m}:${_}`}class Z{constructor(m,_,w){this.persistence=m,this.auth=_,this.userKey=w;const{config:E,name:I}=this.auth;this.fullUserKey=R(this.userKey,E.apiKey,I),this.fullPersistenceKey=R("persistence",E.apiKey,I),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,s.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?At._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,s.Z)(function*(){if(_.persistence===m)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,w="authUser"){return(0,s.Z)(function*(){if(!_.length)return new Z(Y(B),m,w);const E=(yield Promise.all(_.map(function(){var mt=(0,s.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return mt.apply(this,arguments)}}()))).filter(mt=>mt);let I=E[0]||Y(B);const J=R(w,m.config.apiKey,m.name);let ye=null;for(const mt of _)try{const Tt=yield mt._get(J);if(Tt){const bn=At._fromJSON(m,Tt);mt!==I&&(ye=bn),I=mt;break}}catch{}const et=E.filter(mt=>mt._shouldAllowMigration);return I._shouldAllowMigration&&et.length?(I=et[0],ye&&(yield I._set(J,ye.toJSON())),yield Promise.all(_.map(function(){var mt=(0,s.Z)(function*(Tt){if(Tt!==I)try{yield Tt._remove(J)}catch{}});return function(Tt){return mt.apply(this,arguments)}}())),new Z(I,m,w)):new Z(I,m,w)})()}}function P(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ne(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(N(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ut(m))return"Blackberry";if(Ce(m))return"Webos";if(L(m))return"Safari";if((m.includes("chrome/")||ee(m))&&!m.includes("edge/"))return"Chrome";if(nt(m))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function N(b=(0,F.z$)()){return/firefox\//i.test(b)}function L(b=(0,F.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ee(b=(0,F.z$)()){return/crios\//i.test(b)}function Ne(b=(0,F.z$)()){return/iemobile/i.test(b)}function nt(b=(0,F.z$)()){return/android/i.test(b)}function ut(b=(0,F.z$)()){return/blackberry/i.test(b)}function Ce(b=(0,F.z$)()){return/webos/i.test(b)}function Ie(b=(0,F.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Nt(b=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function dn(b=(0,F.z$)()){return Ie(b)||nt(b)||Ce(b)||ut(b)||/windows phone/i.test(b)||Ne(b)}function wn(b,m=[]){let _;switch(b){case"Browser":_=P((0,F.z$)());break;case"Worker":_=`${P((0,F.z$)())}-${b}`;break;default:_=b}const w=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${k.SDK_VERSION}/${w}`}class Mo{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const w=I=>new Promise((J,ye)=>{try{J(m(I))}catch(et){ye(et)}});w.onAbort=_,this.queue.push(w);const E=this.queue.length-1;return()=>{this.queue[E]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,s.Z)(function*(){if(_.auth.currentUser===m)return;const w=[];try{for(const E of _.queue)yield E(m),E.onAbort&&w.push(E.onAbort)}catch(E){w.reverse();for(const I of w)try{I()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:E?.message})}})()}}class wo{constructor(m,_,w){this.app=m,this.heartbeatServiceProvider=_,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ci(this),this.idTokenSubscription=new Ci(this),this.beforeStateQueue=new Mo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(m,_){var w=this;return _&&(this._popupRedirectResolver=Y(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var E,I;if(!w._deleted&&(w.persistenceManager=yield Z.create(w,m),!w._deleted)){if(null!==(E=w._popupRedirectResolver)&&void 0!==E&&E._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(I=w.currentUser)||void 0===I?void 0:I.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,s.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,s.Z)(function*(){var w;const E=yield _.assertedPersistence.getCurrentUser();let I=E,J=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const ye=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,et=I?._redirectEventId,mt=yield _.tryRedirectSignIn(m);(!ye||ye===et)&&mt?.user&&(I=mt.user,J=!0)}if(!I)return _.directlySetCurrentUser(null);if(!I._redirectEventId){if(J)try{yield _.beforeStateQueue.runMiddleware(I)}catch(ye){I=E,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(ye))}return I?_.reloadAndSetCurrentUserOrClear(I):_.directlySetCurrentUser(null)}return te(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===I._redirectEventId?_.directlySetCurrentUser(I):_.reloadAndSetCurrentUserOrClear(I)})()}tryRedirectSignIn(m){var _=this;return(0,s.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,s.Z)(function*(){try{yield K2(m)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Ut(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,s.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,s.Z)(function*(){const w=m?(0,F.m9)(m):null;return w&&te(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(m,_=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return m&&te(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,s.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(Y(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new F.LL("auth","Firebase",m())}onAuthStateChanged(m,_,w){return this.registerStateListener(this.authStateSubscription,m,_,w)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,w){return this.registerStateListener(this.idTokenSubscription,m,_,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var w=this;return(0,s.Z)(function*(){const E=yield w.getOrInitRedirectPersistenceManager(_);return null===m?E.removeCurrentUser():E.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const w=m&&Y(m)||_._popupRedirectResolver;te(w,_,"argument-error"),_.redirectPersistenceManager=yield Z.create(_,[Y(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,s.Z)(function*(){var w,E;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===m?_._currentUser:(null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,s.Z)(function*(){if(m===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,w,E){if(this._deleted)return()=>{};const I="function"==typeof _?_:_.next.bind(_),J=this._isInitialized?Promise.resolve():this._initializationPromise;return te(J,this,"internal-error"),J.then(()=>I(this.currentUser)),"function"==typeof _?m.addObserver(_,w,E):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=wn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,s.Z)(function*(){var _;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const E=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return E&&(w["X-Firebase-Client"]=E),w})()}}function _t(b){return(0,F.m9)(b)}class Ci{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,F.ne)(_=>this.observer=_)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yi(b,m,_){const w=_t(b);te(w._canInitEmulator,w,"emulator-config-failed"),te(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const E=!!_?.disableWarnings,I=$a(m),{host:J,port:ye}=function bi(b){const m=$a(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",E=/^(\[[^\]]+\])(:|$)/.exec(w);if(E){const I=E[1];return{host:I,port:e2(w.substr(I.length+1))}}{const[I,J]=w.split(":");return{host:I,port:e2(J)}}}(m);w.config.emulator={url:`${I}//${J}${null===ye?"":`:${ye}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:J,port:ye,protocol:I.replace(":",""),options:Object.freeze({disableWarnings:E})}),E||function Mi(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function $a(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function e2(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Cr{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return ie("not implemented")}_getIdTokenResponse(m){return ie("not implemented")}_linkToIdToken(m,_){return ie("not implemented")}_getReauthenticationResolver(m){return ie("not implemented")}}function yr(b,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,s.Z)(function*(b,m){return kt(b,"POST","/v1/accounts:resetPassword",Bt(b,m))})).apply(this,arguments)}function Ga(b,m){return rn.apply(this,arguments)}function rn(){return(rn=(0,s.Z)(function*(b,m){return kt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function v5(b,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,s.Z)(function*(b,m){return kt(b,"POST","/v1/accounts:update",Bt(b,m))})).apply(this,arguments)}function Do(){return(Do=(0,s.Z)(function*(b,m){return Rn(b,"POST","/v1/accounts:signInWithPassword",Bt(b,m))})).apply(this,arguments)}function Fn(b,m){return Si.apply(this,arguments)}function Si(){return(Si=(0,s.Z)(function*(b,m){return kt(b,"POST","/v1/accounts:sendOobCode",Bt(b,m))})).apply(this,arguments)}function Di(b,m){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,s.Z)(function*(b,m){return Fn(b,m)})).apply(this,arguments)}function _5(b,m){return b2.apply(this,arguments)}function b2(){return(b2=(0,s.Z)(function*(b,m){return Fn(b,m)})).apply(this,arguments)}function ar(b,m){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,s.Z)(function*(b,m){return Fn(b,m)})).apply(this,arguments)}function Za(b,m){return gs.apply(this,arguments)}function gs(){return(gs=(0,s.Z)(function*(b,m){return Fn(b,m)})).apply(this,arguments)}function Wa(){return(Wa=(0,s.Z)(function*(b,m){return Rn(b,"POST","/v1/accounts:signInWithEmailLink",Bt(b,m))})).apply(this,arguments)}function Ka(){return(Ka=(0,s.Z)(function*(b,m){return Rn(b,"POST","/v1/accounts:signInWithEmailLink",Bt(b,m))})).apply(this,arguments)}class Lr extends Cr{constructor(m,_,w,E=null){super("password",w),this._email=m,this._password=_,this._tenantId=E}static _fromEmailAndPassword(m,_){return new Lr(m,_,"password")}static _fromEmailAndCode(m,_,w=null){return new Lr(m,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,s.Z)(function*(){switch(_.signInMethod){case"password":return function So(b,m){return Do.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function r1(b,m){return Wa.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:it(m,"internal-error")}})()}_linkToIdToken(m,_){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return Ga(m,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function I9(b,m){return Ka.apply(this,arguments)}(m,{idToken:_,email:w._email,oobCode:w._password});default:it(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ei(b,m){return br.apply(this,arguments)}function br(){return(br=(0,s.Z)(function*(b,m){return Rn(b,"POST","/v1/accounts:signInWithIdp",Bt(b,m))})).apply(this,arguments)}class C1 extends Cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new C1(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):it("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:E}=_,I=(0,Ee._T)(_,["providerId","signInMethod"]);if(!w||!E)return null;const J=new C1(w,E);return J.idToken=I.idToken||void 0,J.accessToken=I.accessToken||void 0,J.secret=I.secret,J.nonce=I.nonce,J.pendingToken=I.pendingToken||null,J}_getIdTokenResponse(m){return Ei(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,Ei(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ei(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,F.xO)(_)}return m}}function L9(b,m){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,s.Z)(function*(b,m){return kt(b,"POST","/v1/accounts:sendVerificationCode",Bt(b,m))})).apply(this,arguments)}function zl(){return(zl=(0,s.Z)(function*(b,m){return Rn(b,"POST","/v1/accounts:signInWithPhoneNumber",Bt(b,m))})).apply(this,arguments)}function Ya(){return(Ya=(0,s.Z)(function*(b,m){const _=yield Rn(b,"POST","/v1/accounts:signInWithPhoneNumber",Bt(b,m));if(_.temporaryProof)throw Z2(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const C5={USER_NOT_FOUND:"user-not-found"};function kl(){return(kl=(0,s.Z)(function*(b,m){return Rn(b,"POST","/v1/accounts:signInWithPhoneNumber",Bt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),C5)})).apply(this,arguments)}class ms extends Cr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new ms({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new ms({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function z9(b,m){return zl.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function k9(b,m){return Ya.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function O9(b,m){return kl.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:w,verificationCode:E}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:w,code:E}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:w,phoneNumber:E,temporaryProof:I}=m;return w||_||E||I?new ms({verificationId:_,verificationCode:w,phoneNumber:E,temporaryProof:I}):null}}class Qa{constructor(m){var _,w,E,I,J,ye;const et=(0,F.zd)((0,F.pd)(m)),mt=null!==(_=et.apiKey)&&void 0!==_?_:null,Tt=null!==(w=et.oobCode)&&void 0!==w?w:null,bn=function Ol(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(E=et.mode)&&void 0!==E?E:null);te(mt&&Tt&&bn,"argument-error"),this.apiKey=mt,this.operation=bn,this.code=Tt,this.continueUrl=null!==(I=et.continueUrl)&&void 0!==I?I:null,this.languageCode=null!==(J=et.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(ye=et.tenantId)&&void 0!==ye?ye:null}static parseLink(m){const _=function r3(b){const m=(0,F.zd)((0,F.pd)(b)).link,_=m?(0,F.zd)((0,F.pd)(m)).deep_link_id:null,w=(0,F.zd)((0,F.pd)(b)).deep_link_id;return(w?(0,F.zd)((0,F.pd)(w)).link:null)||w||_||m||b}(m);try{return new Qa(_)}catch{return null}}}let Pl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return Lr._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const E=Qa.parseLink(w);return te(E,"argument-error"),Lr._fromEmailAndCode(_,E.code,E.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class x2{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class xi extends x2{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ai extends xi{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return te("providerId"in _&&"signInMethod"in _,"argument-error"),C1._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return te(m.idToken||m.accessToken,"argument-error"),C1._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ai.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ai.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:E,pendingToken:I,nonce:J,providerId:ye}=m;if(!w&&!E&&!_&&!I||!ye)return null;try{return new Ai(ye)._credential({idToken:_,accessToken:w,nonce:J,pendingToken:I})}catch{return null}}}let Rl=(()=>{class b extends xi{constructor(){super("facebook.com")}static credential(_){return C1._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),s3=(()=>{class b extends xi{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return C1._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:E}=_;if(!w&&!E)return null;try{return b.credential(w,E)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),o3=(()=>{class b extends xi{constructor(){super("github.com")}static credential(_){return C1._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class vs extends Cr{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Ei(m,this.buildRequest())}_linkToIdToken(m,_){const w=this.buildRequest();return w.idToken=_,Ei(m,w)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ei(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:E,pendingToken:I}=_;return w&&E&&I&&w===E?new vs(w,I):null}static _create(m,_){return new vs(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ni extends x2{constructor(m){te(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Ni.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Ni.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=vs.fromJSON(m);return te(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:w}=m;if(!_||!w)return null;try{return vs._create(w,_)}catch{return null}}}let y5=(()=>{class b extends xi{constructor(){super("twitter.com")}static credential(_,w){return C1._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:E}=_;if(!w||!E)return null;try{return b.credential(w,E)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function cr(b,m){return To.apply(this,arguments)}function To(){return(To=(0,s.Z)(function*(b,m){return Rn(b,"POST","/v1/accounts:signUp",Bt(b,m))})).apply(this,arguments)}class Q2{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,w,E=!1){return(0,s.Z)(function*(){const I=yield At._fromIdTokenResponse(m,w,E),J=Eo(w);return new Q2({user:I,providerId:J,_tokenResponse:w,operationType:_})})()}static _forOperation(m,_,w){return(0,s.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const E=Eo(w);return new Q2({user:m,providerId:E,_tokenResponse:w,operationType:_})})()}}function Eo(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function P9(b){return b5.apply(this,arguments)}function b5(){return(b5=(0,s.Z)(function*(b){var m;const _=_t(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Q2({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield cr(_,{returnSecureToken:!0}),E=yield Q2._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(E.user),E})).apply(this,arguments)}class zn extends F.ZR{constructor(m,_,w,E){var I;super(_.code,_.message),this.operationType=w,this.user=E,Object.setPrototypeOf(this,zn.prototype),this.customData={appName:m.name,tenantId:null!==(I=m.tenantId)&&void 0!==I?I:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,_,w,E){return new zn(m,_,w,E)}}function Ul(b,m,_,w){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(I=>{throw"auth/multi-factor-auth-required"===I.code?zn._fromErrorAndOperation(b,I,m,w):I})}function M5(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function xo(b,m){return z2.apply(this,arguments)}function z2(){return(z2=(0,s.Z)(function*(b,m){const _=(0,F.m9)(b);yield $1(!0,_,m);const{providerUserInfo:w}=yield Je(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),E=M5(w||[]);return _.providerData=_.providerData.filter(I=>E.has(I.providerId)),E.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Bl(b,m){return _s.apply(this,arguments)}function _s(){return(_s=(0,s.Z)(function*(b,m,_=!1){const w=yield Vt(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return Q2._forOperation(b,"link",w)})).apply(this,arguments)}function $1(b,m,_){return sn.apply(this,arguments)}function sn(){return(sn=(0,s.Z)(function*(b,m,_){yield K2(m);const E=!1===b?"provider-already-linked":"no-such-provider";te(M5(m.providerData).has(_)===b,m.auth,E)})).apply(this,arguments)}function w5(b,m){return G1.apply(this,arguments)}function G1(){return(G1=(0,s.Z)(function*(b,m,_=!1){const{auth:w}=b,E="reauthenticate";try{const I=yield Vt(b,Ul(w,E,m,b),_);te(I.idToken,w,"internal-error");const J=pt(I.idToken);te(J,w,"internal-error");const{sub:ye}=J;return te(b.uid===ye,w,"user-mismatch"),Q2._forOperation(b,E,I)}catch(I){throw"auth/user-not-found"===I?.code&&it(w,"user-mismatch"),I}})).apply(this,arguments)}function S5(b,m){return s1.apply(this,arguments)}function s1(){return(s1=(0,s.Z)(function*(b,m,_=!1){const w="signIn",E=yield Ul(b,w,m),I=yield Q2._fromIdTokenResponse(b,w,E);return _||(yield b._updateCurrentUser(I.user)),I})).apply(this,arguments)}function Ao(b,m){return No.apply(this,arguments)}function No(){return(No=(0,s.Z)(function*(b,m){return S5(_t(b),m)})).apply(this,arguments)}function It(b,m){return a3.apply(this,arguments)}function a3(){return(a3=(0,s.Z)(function*(b,m){const _=(0,F.m9)(b);return yield $1(!1,_,m.providerId),Bl(_,m)})).apply(this,arguments)}function R9(b,m){return c3.apply(this,arguments)}function c3(){return(c3=(0,s.Z)(function*(b,m){return w5((0,F.m9)(b),m)})).apply(this,arguments)}function D5(b,m){return l3.apply(this,arguments)}function l3(){return(l3=(0,s.Z)(function*(b,m){return Rn(b,"POST","/v1/accounts:signInWithCustomToken",Bt(b,m))})).apply(this,arguments)}function Ho(b,m){return u3.apply(this,arguments)}function u3(){return(u3=(0,s.Z)(function*(b,m){const _=_t(b),w=yield D5(_,{token:m,returnSecureToken:!0}),E=yield Q2._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(E.user),E})).apply(this,arguments)}class Ja{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Te._fromServerResponse(m,_):it(m,"internal-error")}}class Te extends Ja{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Te(_)}}function qt(b,m,_){var w;te((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),te(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(te(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(te(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function T5(b,m,_){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(function*(b,m,_){const w=(0,F.m9)(b),E={requestType:"PASSWORD_RESET",email:m};_&&qt(w,E,_),yield _5(w,E)})).apply(this,arguments)}function u2(b,m,_){return e4.apply(this,arguments)}function e4(){return(e4=(0,s.Z)(function*(b,m,_){yield yr((0,F.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function t4(b,m){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,s.Z)(function*(b,m){yield v5((0,F.m9)(b),{oobCode:m})})).apply(this,arguments)}function d3(b,m){return n4.apply(this,arguments)}function n4(){return(n4=(0,s.Z)(function*(b,m){const _=(0,F.m9)(b),w=yield yr(_,{oobCode:m}),E=w.requestType;switch(te(E,_,"internal-error"),E){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(w.mfaInfo,_,"internal-error");default:te(w.email,_,"internal-error")}let I=null;return w.mfaInfo&&(I=Ja._fromServerResponse(_t(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:I},operation:E}})).apply(this,arguments)}function E5(b,m){return f3.apply(this,arguments)}function f3(){return(f3=(0,s.Z)(function*(b,m){const{data:_}=yield d3((0,F.m9)(b),m);return _.email})).apply(this,arguments)}function F9(b,m,_){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,s.Z)(function*(b,m,_){const w=_t(b),E=yield cr(w,{returnSecureToken:!0,email:m,password:_}),I=yield Q2._fromIdTokenResponse(w,"signIn",E);return yield w._updateCurrentUser(I.user),I})).apply(this,arguments)}function t2(b,m,_){return Ao((0,F.m9)(b),Pl.credential(m,_))}function o1(b,m,_){return Io.apply(this,arguments)}function Io(){return(Io=(0,s.Z)(function*(b,m,_){const w=(0,F.m9)(b),E={requestType:"EMAIL_SIGNIN",email:m};te(_.handleCodeInApp,w,"argument-error"),_&&qt(w,E,_),yield ar(w,E)})).apply(this,arguments)}function Vo(b,m){return"EMAIL_SIGNIN"===Qa.parseLink(m)?.operation}function q1(b,m,_){return jl.apply(this,arguments)}function jl(){return(jl=(0,s.Z)(function*(b,m,_){const w=(0,F.m9)(b),E=Pl.credentialWithLink(m,_||Le());return te(E._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ao(w,E)})).apply(this,arguments)}function x5(b,m){return $l.apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(b,m){return kt(b,"POST","/v1/accounts:createAuthUri",Bt(b,m))})).apply(this,arguments)}function U9(b,m){return r4.apply(this,arguments)}function r4(){return(r4=(0,s.Z)(function*(b,m){const w={identifier:m,continueUri:ze()?Le():"http://localhost"},{signinMethods:E}=yield x5((0,F.m9)(b),w);return E||[]})).apply(this,arguments)}function h3(b,m){return p3.apply(this,arguments)}function p3(){return(p3=(0,s.Z)(function*(b,m){const _=(0,F.m9)(b),E={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&qt(_.auth,E,m);const{email:I}=yield Di(_.auth,E);I!==b.email&&(yield b.reload())})).apply(this,arguments)}function g3(b,m,_){return m3.apply(this,arguments)}function m3(){return(m3=(0,s.Z)(function*(b,m,_){const w=(0,F.m9)(b),I={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&qt(w.auth,I,_);const{email:J}=yield Za(w.auth,I);J!==b.email&&(yield b.reload())})).apply(this,arguments)}function A5(b,m){return i4.apply(this,arguments)}function i4(){return(i4=(0,s.Z)(function*(b,m){return kt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function N5(b,m){return v3.apply(this,arguments)}function v3(){return(v3=(0,s.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const w=(0,F.m9)(b),I={idToken:yield w.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},J=yield Vt(w,A5(w.auth,I));w.displayName=J.displayName||null,w.photoURL=J.photoUrl||null;const ye=w.providerData.find(({providerId:et})=>"password"===et);ye&&(ye.displayName=w.displayName,ye.photoURL=w.photoURL),yield w._updateTokensIfNecessary(J)})).apply(this,arguments)}function H5(b,m){return ys((0,F.m9)(b),m,null)}function Gl(b,m){return ys((0,F.m9)(b),null,m)}function ys(b,m,_){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,s.Z)(function*(b,m,_){const{auth:w}=b,I={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(I.email=m),_&&(I.password=_);const J=yield Vt(b,Ga(w,I));yield b._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Hn{constructor(m,_,w={}){this.isNewUser=m,this.providerId=_,this.profile=w}}class y1 extends Hn{constructor(m,_,w,E){super(m,_,w),this.username=E}}class En extends Hn{constructor(m,_){super(m,"facebook.com",_)}}class V5 extends y1{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class L5 extends Hn{constructor(m,_){super(m,"google.com",_)}}class z5 extends y1{constructor(m,_,w){super(m,"twitter.com",_,w)}}function k5(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function I5(b){var m,_;if(!b)return null;const{providerId:w}=b,E=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},I=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const J=null===(_=null===(m=pt(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(J)return new Hn(I,"anonymous"!==J&&"custom"!==J?J:null)}if(!w)return null;switch(w){case"facebook.com":return new En(I,E);case"github.com":return new V5(I,E);case"google.com":return new L5(I,E);case"twitter.com":return new z5(I,E,b.screenName||null);case"custom":case"anonymous":return new Hn(I,null);default:return new Hn(I,w,E)}}(_)}function bs(b,m,_,w){return(0,F.m9)(b).onIdTokenChanged(m,_,w)}function zo(b,m,_,w){return(0,F.m9)(b).onAuthStateChanged(m,_,w)}function s4(b){return(0,F.m9)(b).signOut()}class wr{constructor(m,_,w){this.type=m,this.credential=_,this.auth=w}static _fromIdtoken(m,_){return new wr("enroll",m,_)}static _fromMfaPendingCredential(m){return new wr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,w;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return wr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return wr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class y3{constructor(m,_,w){this.session=m,this.hints=_,this.signInResolver=w}static _fromError(m,_){const w=_t(m),E=_.customData._serverResponse,I=(E.mfaInfo||[]).map(ye=>Ja._fromServerResponse(w,ye));te(E.mfaPendingCredential,w,"internal-error");const J=wr._fromMfaPendingCredential(E.mfaPendingCredential);return new y3(J,I,function(){var ye=(0,s.Z)(function*(et){const mt=yield et._process(w,J);delete E.mfaInfo,delete E.mfaPendingCredential;const Tt=Object.assign(Object.assign({},E),{idToken:mt.idToken,refreshToken:mt.refreshToken});switch(_.operationType){case"signIn":const bn=yield Q2._fromIdTokenResponse(w,_.operationType,Tt);return yield w._updateCurrentUser(bn.user),bn;case"reauthenticate":return te(_.user,w,"internal-error"),Q2._forOperation(_.user,_.operationType,Tt);default:it(w,"internal-error")}});return function(et){return ye.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,s.Z)(function*(){return _.signInResolver(m)})()}}function O5(b,m){var _;const w=(0,F.m9)(b),E=m;return te(m.customData.operationType,w,"argument-error"),te(null===(_=E.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),y3._fromError(w,E)}function ko(b,m){return kt(b,"POST","/v2/accounts/mfaEnrollment:start",Bt(b,m))}class a4{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Ja._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new a4(m)}getSession(){var m=this;return(0,s.Z)(function*(){return wr._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var w=this;return(0,s.Z)(function*(){const E=m,I=yield w.getSession(),J=yield Vt(w.user,E._process(w.user.auth,I,_));return yield w.user._updateTokensIfNecessary(J),w.user.reload()})()}unenroll(m){var _=this;return(0,s.Z)(function*(){const w="string"==typeof m?m:m.uid,E=yield _.user.getIdToken(),I=yield Vt(_.user,function o4(b,m){return kt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Bt(b,m))}(_.user.auth,{idToken:E,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:J})=>J!==w),yield _.user._updateTokensIfNecessary(I);try{yield _.user.reload()}catch(J){if("auth/user-token-expired"!==J?.code)throw J}})()}}const P5=new WeakMap;function M3(b){const m=(0,F.m9)(b);return P5.has(m)||P5.set(m,a4._fromUser(m)),P5.get(m)}const b1="__sak";class w3{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(b1,"1"),this.storage.removeItem(b1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vi=(()=>{class b extends w3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function S3(){const b=(0,F.z$)();return L(b)||Ie(b)}()&&function n1(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const E=this.storage.getItem(w),I=this.localCache[w];E!==I&&_(w,I,E)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ye,et,mt)=>{this.notifyListeners(ye,mt)});const E=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(E);if(_.newValue!==ye)null!==_.newValue?this.storage.setItem(E,_.newValue):this.storage.removeItem(E);else if(this.localCache[E]===_.newValue&&!w)return}const I=()=>{const ye=this.storage.getItem(E);!w&&this.localCache[E]===ye||this.notifyListeners(E,ye)},J=this.storage.getItem(E);!function Ot(){return(0,F.w1)()&&10===document.documentMode}()||J===_.newValue||_.newValue===_.oldValue?I():setTimeout(I,10)}notifyListeners(_,w){this.localCache[_]=w;const E=this.listeners[_];if(E)for(const I of Array.from(E))I(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,E)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:E}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var E=()=>super._set,I=this;return(0,s.Z)(function*(){yield E().call(I,_,w),I.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,E=this;return(0,s.Z)(function*(){const I=yield w().call(E,_);return E.localCache[_]=JSON.stringify(I),I})()}_remove(_){var w=()=>super._remove,E=this;return(0,s.Z)(function*(){yield w().call(E,_),delete E.localCache[_]})()}}return b.type="LOCAL",b})(),Z1=(()=>{class b extends w3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let c4=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(I=>I.isListeningto(_));if(w)return w;const E=new b(_);return this.receivers.push(E),E}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,s.Z)(function*(){const E=_,{eventId:I,eventType:J,data:ye}=E.data,et=w.handlersMap[J];if(!et?.size)return;E.ports[0].postMessage({status:"ack",eventId:I,eventType:J});const mt=Array.from(et).map(function(){var bn=(0,s.Z)(function*(Pr){return Pr(E.origin,ye)});return function(Pr){return bn.apply(this,arguments)}}()),Tt=yield function D3(b){return Promise.all(b.map(function(){var m=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return m.apply(this,arguments)}}()))}(mt);E.ports[0].postMessage({status:"done",eventId:I,eventType:J,response:Tt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Ms(b="",m=10){let _="";for(let w=0;w<m;w++)_+=Math.floor(10*Math.random());return b+_}class U5{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,w=50){var E=this;return(0,s.Z)(function*(){const I=typeof MessageChannel<"u"?new MessageChannel:null;if(!I)throw new Error("connection_unavailable");let J,ye;return new Promise((et,mt)=>{const Tt=Ms("",20);I.port1.start();const bn=setTimeout(()=>{mt(new Error("unsupported_event"))},w);ye={messageChannel:I,onMessage(Pr){const S1=Pr;if(S1.data.eventId===Tt)switch(S1.data.status){case"ack":clearTimeout(bn),J=setTimeout(()=>{mt(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),et(S1.data.response);break;default:clearTimeout(bn),clearTimeout(J),mt(new Error("invalid_response"))}}},E.handlers.add(ye),I.port1.addEventListener("message",ye.onMessage),E.target.postMessage({eventType:m,eventId:Tt,data:_},[I.port2])}).finally(()=>{ye&&E.removeMessageHandler(ye)})})()}}function n2(){return window}function kr(){return typeof n2().WorkerGlobalScope<"u"&&"function"==typeof n2().importScripts}function Li(){return(Li=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Po="firebaseLocalStorageDb",Fo="firebaseLocalStorage",u4="fbase_key";class zi{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function d4(b,m){return b.transaction([Fo],m?"readwrite":"readonly").objectStore(Fo)}function Yl(){const b=indexedDB.open(Po,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(Fo,{keyPath:u4})}catch(E){_(E)}}),b.addEventListener("success",(0,s.Z)(function*(){const w=b.result;w.objectStoreNames.contains(Fo)?m(w):(w.close(),yield function Kl(){const b=indexedDB.deleteDatabase(Po);return new zi(b).toPromise()}(),m(yield Yl()))}))})}function Uo(b,m,_){return W1.apply(this,arguments)}function W1(){return(W1=(0,s.Z)(function*(b,m,_){const w=d4(b,!0).put({[u4]:m,value:_});return new zi(w).toPromise()})).apply(this,arguments)}function f4(){return(f4=(0,s.Z)(function*(b,m){const _=d4(b,!1).get(m),w=yield new zi(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ql(b,m){const _=d4(b,!0).delete(m);return new zi(_).toPromise()}const h4=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield Yl()),_.db})()}_withRetries(_){var w=this;return(0,s.Z)(function*(){let E=0;for(;;)try{const I=yield w._openDb();return yield _(I)}catch(I){if(E++>3)throw I;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return kr()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=c4._getInstance(function l4(){return kr()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(E,I){return{keyProcessed:(yield _._poll()).includes(I.key)}});return function(E,I){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(E,I){return["keyChanged"]});return function(E,I){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var w,E;if(_.activeServiceWorker=yield function B5(){return Li.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new U5(_.activeServiceWorker);const I=yield _.sender._send("ping",{},800);!I||(null===(w=I[0])||void 0===w?void 0:w.fulfilled)&&(null===(E=I[0])||void 0===E?void 0:E.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function T3(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Yl();return yield Uo(_,b1,"1"),yield Ql(_,b1),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var E=this;return(0,s.Z)(function*(){return E._withPendingWrite((0,s.Z)(function*(){return yield E._withRetries(I=>Uo(I,_,w)),E.localCache[_]=w,E.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,s.Z)(function*(){const E=yield w._withRetries(I=>function j5(b,m){return f4.apply(this,arguments)}(I,_));return w.localCache[_]=E,E})()}_remove(_){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(E=>Ql(E,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const w=yield _._withRetries(J=>{const ye=d4(J,!1).getAll();return new zi(ye).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const E=[],I=new Set;for(const{fbase_key:J,value:ye}of w)I.add(J),JSON.stringify(_.localCache[J])!==JSON.stringify(ye)&&(_.notifyListeners(J,ye),E.push(J));for(const J of Object.keys(_.localCache))_.localCache[J]&&!I.has(J)&&(_.notifyListeners(J,null),E.push(J));return E})()}notifyListeners(_,w){this.localCache[_]=w;const E=this.listeners[_];if(E)for(const I of Array.from(E))I(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function $5(b,m){return kt(b,"POST","/v2/accounts/mfaSignIn:start",Bt(b,m))}function ki(){return(ki=(0,s.Z)(function*(b){return(yield kt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ws(b){return new Promise((m,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=m,w.onerror=E=>{const I=Oe("internal-error");I.customData=E,_(I)},w.type="text/javascript",w.charset="UTF-8",function jo(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(w)})}function E3(b){return`__${b}${Math.floor(1e6*Math.random())}`}const e0=1e12;class B9{constructor(m){this.auth=m,this.counter=e0,this._widgets=new Map}render(m,_){const w=this.counter;return this._widgets.set(w,new yn(m,this.auth.name,_||{})),this.counter++,w}reset(m){var _;const w=m||e0;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(m){var _;return(null===(_=this._widgets.get(m||e0))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,s.Z)(function*(){var w;return null===(w=_._widgets.get(m||e0))||void 0===w||w.execute(),""})()}}class yn{constructor(m,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const E="string"==typeof m?document.getElementById(m):m;te(E,"argument-error",{appName:_}),this.container=E,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function j9(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const G5=E3("rcb"),Sy=new je(3e4,6e4);class Ty{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=n2().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return te(function Ey(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(n2().grecaptcha):new Promise((w,E)=>{const I=n2().setTimeout(()=>{E(Oe(m,"network-request-failed"))},Sy.get());n2()[G5]=()=>{n2().clearTimeout(I),delete n2()[G5];const ye=n2().grecaptcha;if(!ye)return void E(Oe(m,"internal-error"));const et=ye.render;ye.render=(mt,Tt)=>{const bn=et(mt,Tt);return this.counter++,bn},this.hostLanguage=_,w(ye)},ws(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:G5,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(I),E(Oe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=n2().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xy{load(m){return(0,s.Z)(function*(){return new B9(m)})()}clearedOneInstance(){}}const Oi="recaptcha",$9={theme:"light",type:"image"};class q5{constructor(m,_=Object.assign({},$9),w){this.parameters=_,this.type=Oi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_t(w),this.isInvisible="invisible"===this.parameters.size,te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const E="string"==typeof m?document.getElementById(m):m;te(E,this.auth,"argument-error"),this.container=E,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xy:new Ty,this.validateStartingState()}verify(){var m=this;return(0,s.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(_)||new Promise(I=>{const J=ye=>{!ye||(m.tokenChangeListeners.delete(J),I(ye))};m.tokenChangeListeners.add(J),m.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof m)m(_);else if("string"==typeof m){const w=n2()[m];"function"==typeof w&&w(_)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,s.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,s.Z)(function*(){te(ze()&&!kr(),m.auth,"internal-error"),yield function d2(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function g4(b){return ki.apply(this,arguments)}(m.auth);te(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sr{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=ms._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function on(b,m,_){return tt.apply(this,arguments)}function tt(){return(tt=(0,s.Z)(function*(b,m,_){const w=_t(b),E=yield vn(w,m,(0,F.m9)(_));return new Sr(E,I=>Ao(w,I))})).apply(this,arguments)}function Un(b,m,_){return en.apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(b,m,_){const w=(0,F.m9)(b);yield $1(!1,w,"phone");const E=yield vn(w.auth,m,(0,F.m9)(_));return new Sr(E,I=>It(w,I))})).apply(this,arguments)}function r2(b,m,_){return Or.apply(this,arguments)}function Or(){return(Or=(0,s.Z)(function*(b,m,_){const w=(0,F.m9)(b),E=yield vn(w.auth,m,(0,F.m9)(_));return new Sr(E,I=>R9(w,I))})).apply(this,arguments)}function vn(b,m,_){return fn.apply(this,arguments)}function fn(){return(fn=(0,s.Z)(function*(b,m,_){var w;const E=yield _.verify();try{let I;if(te("string"==typeof E,b,"argument-error"),te(_.type===Oi,b,"argument-error"),I="string"==typeof m?{phoneNumber:m}:m,"session"in I){const J=I.session;if("phoneNumber"in I)return te("enroll"===J.type,b,"internal-error"),(yield ko(b,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:I.phoneNumber,recaptchaToken:E}})).phoneSessionInfo.sessionInfo;{te("signin"===J.type,b,"internal-error");const ye=(null===(w=I.multiFactorHint)||void 0===w?void 0:w.uid)||I.multiFactorUid;return te(ye,b,"missing-multi-factor-info"),(yield $5(b,{mfaPendingCredential:J.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:E}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield L9(b,{phoneNumber:I.phoneNumber,recaptchaToken:E});return J}}finally{_._reset()}})).apply(this,arguments)}function gn(b,m){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,s.Z)(function*(b,m){yield Bl((0,F.m9)(b),m)})).apply(this,arguments)}let t0=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=_t(_)}verifyPhoneNumber(_,w){return vn(this.auth,_,(0,F.m9)(w))}static credential(_,w){return ms._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:E}=_;return w&&E?ms._fromTokenResponse(w,E):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Pi(b,m){return m?Y(m):(te(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class a1 extends Cr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ei(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Ei(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Ei(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Z5(b){return S5(b.auth,new a1(b),b.bypassAuthState)}function lr(b){const{auth:m,user:_}=b;return te(_,m,"internal-error"),w5(_,new a1(b),b.bypassAuthState)}function x3(b){return Y1.apply(this,arguments)}function Y1(){return(Y1=(0,s.Z)(function*(b){const{auth:m,user:_}=b;return te(_,m,"internal-error"),Bl(_,new a1(b),b.bypassAuthState)})).apply(this,arguments)}class W5{constructor(m,_,w,E,I=!1){this.auth=m,this.resolver=w,this.user=E,this.bypassAuthState=I,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,s.Z)(function*(w,E){m.pendingPromise={resolve:w,reject:E};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(I){m.reject(I)}});return function(w,E){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:E,postBody:I,tenantId:J,error:ye,type:et}=m;if(ye)return void _.reject(ye);const mt={auth:_.auth,requestUri:w,sessionId:E,tenantId:J||void 0,postBody:I||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(et)(mt))}catch(Tt){_.reject(Tt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Z5;case"linkViaPopup":case"linkViaRedirect":return x3;case"reauthViaPopup":case"reauthViaRedirect":return lr;default:it(this.auth,"internal-error")}}resolve(m){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const A3=new je(2e3,1e4);function m4(b,m,_){return c1.apply(this,arguments)}function c1(){return(c1=(0,s.Z)(function*(b,m,_){const w=_t(b);me(b,m,x2);const E=Pi(w,_);return new Ss(w,"signInViaPopup",m,E).executeNotNull()})).apply(this,arguments)}function G9(b,m,_){return N3.apply(this,arguments)}function N3(){return(N3=(0,s.Z)(function*(b,m,_){const w=(0,F.m9)(b);me(w.auth,m,x2);const E=Pi(w.auth,_);return new Ss(w.auth,"reauthViaPopup",m,E,w).executeNotNull()})).apply(this,arguments)}function K5(b,m,_){return v4.apply(this,arguments)}function v4(){return(v4=(0,s.Z)(function*(b,m,_){const w=(0,F.m9)(b);me(w.auth,m,x2);const E=Pi(w.auth,_);return new Ss(w.auth,"linkViaPopup",m,E,w).executeNotNull()})).apply(this,arguments)}let Ss=(()=>{class b extends W5{constructor(_,w,E,I,J){super(_,w,I,J),this.provider=E,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const w=yield _.execute();return te(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,s.Z)(function*(){he(1===_.filter.length,"Popup operations only handle one event");const w=Ms();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(E=>{_.reject(E)}),_.resolver._isIframeWebStorageSupported(_.auth,E=>{E||_.reject(Oe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,E;this.pollId=null!==(E=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==E&&E.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,A3.get())};_()}}return b.currentPopupAction=null,b})();const _4=new Map;class M1 extends W5{constructor(m,_,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,s.Z)(function*(){let w=_4.get(_.auth._key());if(!w){try{const I=(yield function kn(b,m){return Q1.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;w=()=>Promise.resolve(I)}catch(E){w=()=>Promise.reject(E)}_4.set(_.auth._key(),w)}return _.bypassAuthState||_4.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(w,m);if("unknown"!==m.type){if(m.eventId){const E=yield w.auth._redirectUserForId(m.eventId);if(E)return w.user=E,_().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Q1(){return(Q1=(0,s.Z)(function*(b,m){const _=X1(m),w=J1(b);if(!(yield w._isAvailable()))return!1;const E="true"===(yield w._get(_));return yield w._remove(_),E})).apply(this,arguments)}function qo(b,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,s.Z)(function*(b,m){return J1(b)._set(X1(m),"true")})).apply(this,arguments)}function n0(){_4.clear()}function Zo(b,m){_4.set(b._key(),m)}function J1(b){return Y(b._redirectPersistence)}function X1(b){return R("pendingRedirect",b.config.apiKey,b.name)}function r0(b,m,_){return function Wn(b,m,_){return H3.apply(this,arguments)}(b,m,_)}function H3(){return(H3=(0,s.Z)(function*(b,m,_){const w=_t(b);me(b,m,x2);const E=Pi(w,_);return yield qo(E,w),E._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function Y5(b,m,_){return function s0(b,m,_){return Ts.apply(this,arguments)}(b,m,_)}function Ts(){return(Ts=(0,s.Z)(function*(b,m,_){const w=(0,F.m9)(b);me(w.auth,m,x2);const E=Pi(w.auth,_);yield qo(E,w.auth);const I=yield I3(w);return E._openRedirect(w.auth,m,"reauthViaRedirect",I)})).apply(this,arguments)}function q9(b,m,_){return function Z9(b,m,_){return o0.apply(this,arguments)}(b,m,_)}function o0(){return(o0=(0,s.Z)(function*(b,m,_){const w=(0,F.m9)(b);me(w.auth,m,x2);const E=Pi(w.auth,_);yield $1(!1,w,m.providerId),yield qo(E,w.auth);const I=yield I3(w);return E._openRedirect(w.auth,m,"linkViaRedirect",I)})).apply(this,arguments)}function a0(b,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,s.Z)(function*(b,m){return yield _t(b)._initializationPromise,C4(b,m,!1)})).apply(this,arguments)}function C4(b,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,s.Z)(function*(b,m,_=!1){const w=_t(b),E=Pi(w,m),J=yield new M1(w,E,_).execute();return J&&!_&&(delete J.user._redirectEventId,yield w._persistUserIfCurrent(J.user),yield w._setRedirectUser(null,m)),J})).apply(this,arguments)}function I3(b){return xs.apply(this,arguments)}function xs(){return(xs=(0,s.Z)(function*(b){const m=Ms(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class As{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(_=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Q5(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return y4(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var w;if(m.error&&!y4(m)){const E=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(Oe(this.auth,E))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const w=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(V3(m))}saveEventToCache(m){this.cachedEventUids.add(V3(m)),this.lastProcessedEventTime=Date.now()}}function V3(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function y4({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Ns(b){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,s.Z)(function*(b,m={}){return kt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const J5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W9=/^https?/;function c0(){return(c0=(0,s.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Ns(b);for(const _ of m)try{if(Yt(_))return}catch{}it(b,"unauthorized-domain")})).apply(this,arguments)}function Yt(b){const m=Le(),{protocol:_,hostname:w}=new URL(m);if(b.startsWith("chrome-extension://")){const J=new URL(b);return""===J.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&J.hostname===w}if(!W9.test(_))return!1;if(J5.test(b))return w===b;const E=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+E+"|"+E+")$","i").test(w)}const f2=new je(3e4,6e4);function l0(){const b=n2().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Ui=null;function u0(b){return Ui=Ui||function b4(b){return new Promise((m,_)=>{var w,E,I;function J(){l0(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{l0(),_(Oe(b,"network-request-failed"))},timeout:f2.get()})}if(null!==(E=null===(w=n2().gapi)||void 0===w?void 0:w.iframes)&&void 0!==E&&E.Iframe)m(gapi.iframes.getContext());else{if(null===(I=n2().gapi)||void 0===I||!I.load){const ye=E3("iframefcb");return n2()[ye]=()=>{gapi.load?J():_(Oe(b,"network-request-failed"))},ws(`https://apis.google.com/js/api.js?onload=${ye}`).catch(et=>_(et))}J()}}).catch(m=>{throw Ui=null,m})}(b),Ui}const ed=new je(5e3,15e3),f0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Is=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nd(b){const m=b.config;te(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?hn(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:m.apiKey,appName:b.name,v:k.SDK_VERSION},E=Is.get(b.config.apiHost);E&&(w.eid=E);const I=b._getFrameworks();return I.length&&(w.fw=I.join(",")),`${_}?${(0,F.xO)(w).slice(1)}`}function Bi(){return Bi=(0,s.Z)(function*(b){const m=yield u0(b),_=n2().gapi;return te(_,b,"internal-error"),m.open({where:document.body,url:nd(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f0,dontclear:!0},w=>new Promise(function(){var E=(0,s.Z)(function*(I,J){yield w.restyle({setHideOnLeave:!1});const ye=Oe(b,"network-request-failed"),et=n2().setTimeout(()=>{J(ye)},ed.get());function mt(){n2().clearTimeout(et),I(w)}w.ping(mt).then(mt,()=>{J(ye)})});return function(I,J){return E.apply(this,arguments)}}()))}),Bi.apply(this,arguments)}const id={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wo{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ls(b,m,_,w,E,I){te(b.config.authDomain,b,"auth-domain-config-required"),te(b.config.apiKey,b,"invalid-api-key");const J={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:k.SDK_VERSION,eventId:E};if(m instanceof x2){m.setDefaultLanguage(b.languageCode),J.providerId=m.providerId||"",(0,F.xb)(m.getCustomParameters())||(J.customParameters=JSON.stringify(m.getCustomParameters()));for(const[et,mt]of Object.entries(I||{}))J[et]=mt}if(m instanceof xi){const et=m.getScopes().filter(mt=>""!==mt);et.length>0&&(J.scopes=et.join(","))}b.tenantId&&(J.tid=b.tenantId);const ye=J;for(const et of Object.keys(ye))void 0===ye[et]&&delete ye[et];return`${function zs({config:b}){return b.emulator?hn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,F.xO)(ye).slice(1)}`}const Dr="webStorageSupport",ur=class w4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z1,this._completeRedirectFn=C4,this._overrideRedirectResult=Zo}_openPopup(m,_,w,E){var I=this;return(0,s.Z)(function*(){var J;he(null===(J=I.eventManagers[m._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const ye=Ls(m,_,w,Le(),E);return function Q9(b,m,_,w=500,E=600){const I=Math.max((window.screen.availHeight-E)/2,0).toString(),J=Math.max((window.screen.availWidth-w)/2,0).toString();let ye="";const et=Object.assign(Object.assign({},id),{width:w.toString(),height:E.toString(),top:I,left:J}),mt=(0,F.z$)().toLowerCase();_&&(ye=ee(mt)?"_blank":_),N(mt)&&(m=m||"http://localhost",et.scrollbars="yes");const Tt=Object.entries(et).reduce((Pr,[S1,Yo])=>`${Pr}${S1}=${Yo},`,"");if(function un(b=(0,F.z$)()){var m;return Ie(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(mt)&&"_self"!==ye)return function M4(b,m){const _=document.createElement("a");_.href=b,_.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(m||"",ye),new Wo(null);const bn=window.open(m||"",ye,Tt);te(bn,b,"popup-blocked");try{bn.focus()}catch{}return new Wo(bn)}(m,ye,Ms())})()}_openRedirect(m,_,w,E){var I=this;return(0,s.Z)(function*(){return yield I._originValidation(m),function Wl(b){n2().location.href=b}(Ls(m,_,w,Le(),E)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:E,promise:I}=this.eventManagers[_];return E?Promise.resolve(E):(he(I,"If manager is not set, promise should be"),I)}const w=this.initAndGetManager(m);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(m){var _=this;return(0,s.Z)(function*(){const w=yield function rd(b){return Bi.apply(this,arguments)}(m),E=new As(m);return w.register("authEvent",I=>(te(I?.authEvent,m,"invalid-auth-event"),{status:E.onEvent(I.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:E},_.iframes[m._key()]=w,E})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Dr,{type:Dr},E=>{var I;const J=null===(I=E?.[0])||void 0===I?void 0:I[Dr];void 0!==J&&_(!!J),it(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function X5(b){return c0.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return dn()||L()||Ie()}};class _n extends class h0{constructor(m){this.factorId=m}_process(m,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,w);case"signin":return this._finalizeSignIn(m,_.credential);default:return ie("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new _n(m)}_finalizeEnroll(m,_,w){return function b3(b,m){return kt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Bt(b,m))}(m,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function p4(b,m){return kt(b,"POST","/v2/accounts/mfaSignIn:finalize",Bt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let On=(()=>{class b{constructor(){}static assertion(_){return _n._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var w1="@firebase/auth";class p0{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(w=>{m(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ei=(0,F.Pz)("authIdTokenMaxAge")||300;let z3=null;const s2=b=>function(){var m=(0,s.Z)(function*(_){const w=_&&(yield _.getIdTokenResult()),E=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(E&&E>ei)return;const I=w?.token;z3!==I&&(z3=I,yield fetch(b,{method:I?"POST":"DELETE",headers:I?{Authorization:`Bearer ${I}`}:{}}))});return function(_){return m.apply(this,arguments)}}();function Ko(b=(0,k.getApp)()){const m=(0,k._getProvider)(b,"auth");if(m.isInitialized())return m.getImmediate();const _=function ae(b,m){const _=(0,k._getProvider)(b,"auth");if(_.isInitialized()){const E=_.getImmediate(),I=_.getOptions();if((0,F.vZ)(I,m??{}))return E;it(E,"already-initialized")}return _.initialize({options:m})}(b,{popupRedirectResolver:ur,persistence:[h4,Vi,Z1]}),w=(0,F.Pz)("authTokenSyncURL");if(w){const I=s2(w);(function Lo(b,m,_){(0,F.m9)(b).beforeAuthStateChanged(m,_)})(_,I,()=>I(_.currentUser)),bs(_,J=>I(J))}const E=(0,F.q4)("auth");return E&&yi(_,`http://${E}`),_}!function Tr(b){(0,k._registerComponent)(new Me.wA("auth",(m,{options:_})=>{const w=m.getProvider("app").getImmediate(),E=m.getProvider("heartbeat"),{apiKey:I,authDomain:J}=w.options;return((ye,et)=>{te(I&&!I.includes(":"),"invalid-api-key",{appName:ye.name}),te(!J?.includes(":"),"argument-error",{appName:ye.name});const mt={apiKey:I,authDomain:J,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wn(b)},Tt=new wo(ye,et,mt);return function ne(b,m){const _=m?.persistence||[],w=(Array.isArray(_)?_:[_]).map(Y);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(w,m?.popupRedirectResolver)}(Tt,_),Tt})(w,E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,w)=>{m.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new Me.wA("auth-internal",m=>{const _=_t(m.getProvider("auth").getImmediate());return new p0(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(w1,"0.21.0",function od(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,k.registerVersion)(w1,"0.21.0","esm2017")}("Browser")},2090:(bt,He,O)=>{O.d(He,{$s:()=>Xe,BH:()=>Ut,G6:()=>me,L:()=>be,LL:()=>pn,P0:()=>ze,Pz:()=>Jt,Sg:()=>je,UG:()=>Se,US:()=>Me,ZB:()=>$,ZR:()=>Zn,aH:()=>ht,b$:()=>de,eu:()=>te,hl:()=>Be,jU:()=>Qe,m9:()=>Qt,ne:()=>Nn,pd:()=>bo,q4:()=>Le,r3:()=>q2,ru:()=>oe,tV:()=>ke,uI:()=>Re,vZ:()=>Je,w1:()=>it,xO:()=>Tn,xb:()=>_1,z$:()=>Ue,zI:()=>ie,zd:()=>sr});const le=function(B){const R=[];let Z=0;for(let P=0;P<B.length;P++){let N=B.charCodeAt(P);N<128?R[Z++]=N:N<2048?(R[Z++]=N>>6|192,R[Z++]=63&N|128):55296==(64512&N)&&P+1<B.length&&56320==(64512&B.charCodeAt(P+1))?(N=65536+((1023&N)<<10)+(1023&B.charCodeAt(++P)),R[Z++]=N>>18|240,R[Z++]=N>>12&63|128,R[Z++]=N>>6&63|128,R[Z++]=63&N|128):(R[Z++]=N>>12|224,R[Z++]=N>>6&63|128,R[Z++]=63&N|128)}return R},Me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,R){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,P=[];for(let N=0;N<B.length;N+=3){const L=B[N],ee=N+1<B.length,Ne=ee?B[N+1]:0,nt=N+2<B.length,ut=nt?B[N+2]:0;let Nt=(15&Ne)<<2|ut>>6,un=63&ut;nt||(un=64,ee||(Nt=64)),P.push(Z[L>>2],Z[(3&L)<<4|Ne>>4],Z[Nt],Z[un])}return P.join("")},encodeString(B,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(B):this.encodeByteArray(le(B),R)},decodeString(B,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(B):function(B){const R=[];let Z=0,P=0;for(;Z<B.length;){const N=B[Z++];if(N<128)R[P++]=String.fromCharCode(N);else if(N>191&&N<224){const L=B[Z++];R[P++]=String.fromCharCode((31&N)<<6|63&L)}else if(N>239&&N<365){const nt=((7&N)<<18|(63&B[Z++])<<12|(63&B[Z++])<<6|63&B[Z++])-65536;R[P++]=String.fromCharCode(55296+(nt>>10)),R[P++]=String.fromCharCode(56320+(1023&nt))}else{const L=B[Z++],ee=B[Z++];R[P++]=String.fromCharCode((15&N)<<12|(63&L)<<6|63&ee)}}return R.join("")}(this.decodeStringToByteArray(B,R))},decodeStringToByteArray(B,R){this.init_();const Z=R?this.charToByteMapWebSafe_:this.charToByteMap_,P=[];for(let N=0;N<B.length;){const L=Z[B.charAt(N++)],Ne=N<B.length?Z[B.charAt(N)]:0;++N;const ut=N<B.length?Z[B.charAt(N)]:64;++N;const Ie=N<B.length?Z[B.charAt(N)]:64;if(++N,null==L||null==Ne||null==ut||null==Ie)throw Error();P.push(L<<2|Ne>>4),64!==ut&&(P.push(Ne<<4&240|ut>>2),64!==Ie&&P.push(ut<<6&192|Ie))}return P},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},be=function(B){return function(B){const R=le(B);return Me.encodeByteArray(R,!0)}(B).replace(/\./g,"")},ke=function(B){try{return Me.decodeString(B,!0)}catch(R){console.error("base64Decode failed: ",R)}return null};function $(B,R){if(!(R instanceof Object))return R;switch(R.constructor){case Date:return new Date(R.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return R}for(const Z in R)!R.hasOwnProperty(Z)||!Q(Z)||(B[Z]=$(B[Z],R[Z]));return B}function Q(B){return"__proto__"!==B}function Ue(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function Se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qe(){return"object"==typeof self&&self.self===self}function oe(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function de(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){const B=Ue();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function me(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){try{return"object"==typeof indexedDB}catch{return!1}}function te(){return new Promise((B,R)=>{try{let Z=!0;const P="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(P);N.onsuccess=()=>{N.result.close(),Z||self.indexedDB.deleteDatabase(P),B(!0)},N.onupgradeneeded=()=>{Z=!1},N.onerror=()=>{var L;R((null===(L=N.error)||void 0===L?void 0:L.message)||"")}}catch(Z){R(Z)}})}function ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ne=()=>{try{return function he(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const R=B&&ke(B[1]);return R&&JSON.parse(R)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},Le=B=>{var R,Z;return null===(Z=null===(R=ne())||void 0===R?void 0:R.emulatorHosts)||void 0===Z?void 0:Z[B]},ze=B=>{const R=Le(B);if(!R)return;const Z=R.lastIndexOf(":");if(Z<=0||Z+1===R.length)throw new Error(`Invalid host ${R} with no separate hostname and port!`);const P=parseInt(R.substring(Z+1),10);return"["===R[0]?[R.substring(1,Z-1),P]:[R.substring(0,Z),P]},ht=()=>{var B;return null===(B=ne())||void 0===B?void 0:B.config},Jt=B=>{var R;return null===(R=ne())||void 0===R?void 0:R[`_${B}`]};class Ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((R,Z)=>{this.resolve=R,this.reject=Z})}wrapCallback(R){return(Z,P)=>{Z?this.reject(Z):this.resolve(P),"function"==typeof R&&(this.promise.catch(()=>{}),1===R.length?R(Z):R(Z,P))}}}function je(B,R){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const P=R||"demo-project",N=B.iat||0,L=B.sub||B.user_id;if(!L)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${P}`,aud:P,iat:N,exp:N+3600,auth_time:N,sub:L,user_id:L,firebase:{sign_in_provider:"custom",identities:{}}},B);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(ee)),""].join(".")}class Zn extends Error{constructor(R,Z,P){super(Z),this.code=R,this.customData=P,this.name="FirebaseError",Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pn.prototype.create)}}class pn{constructor(R,Z,P){this.service=R,this.serviceName=Z,this.errors=P}create(R,...Z){const P=Z[0]||{},N=`${this.service}/${R}`,L=this.errors[R],ee=L?function Xt(B,R){return B.replace(Bt,(Z,P)=>{const N=R[P];return null!=N?String(N):`<${P}?>`})}(L,P):"Error";return new Zn(N,`${this.serviceName}: ${ee} (${N}).`,P)}}const Bt=/\{\$([^}]+)}/g;function q2(B,R){return Object.prototype.hasOwnProperty.call(B,R)}function _1(B){for(const R in B)if(Object.prototype.hasOwnProperty.call(B,R))return!1;return!0}function Je(B,R){if(B===R)return!0;const Z=Object.keys(B),P=Object.keys(R);for(const N of Z){if(!P.includes(N))return!1;const L=B[N],ee=R[N];if(C2(L)&&C2(ee)){if(!Je(L,ee))return!1}else if(L!==ee)return!1}for(const N of P)if(!Z.includes(N))return!1;return!0}function C2(B){return null!==B&&"object"==typeof B}function Tn(B){const R=[];for(const[Z,P]of Object.entries(B))Array.isArray(P)?P.forEach(N=>{R.push(encodeURIComponent(Z)+"="+encodeURIComponent(N))}):R.push(encodeURIComponent(Z)+"="+encodeURIComponent(P));return R.length?"&"+R.join("&"):""}function sr(B){const R={};return B.replace(/^\?/,"").split("&").forEach(P=>{if(P){const[N,L]=P.split("=");R[decodeURIComponent(N)]=decodeURIComponent(L)}}),R}function bo(B){const R=B.indexOf("?");if(!R)return"";const Z=B.indexOf("#",R);return B.substring(R,Z>0?Z:void 0)}function Nn(B,R){const Z=new mn(B,R);return Z.subscribe.bind(Z)}class mn{constructor(R,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{R(this)}).catch(P=>{this.error(P)})}next(R){this.forEachObserver(Z=>{Z.next(R)})}error(R){this.forEachObserver(Z=>{Z.error(R)}),this.close(R)}complete(){this.forEachObserver(R=>{R.complete()}),this.close()}subscribe(R,Z,P){let N;if(void 0===R&&void 0===Z&&void 0===P)throw new Error("Missing Observer.");N=function gt(B,R){if("object"!=typeof B||null===B)return!1;for(const Z of R)if(Z in B&&"function"==typeof B[Z])return!0;return!1}(R,["next","error","complete"])?R:{next:R,error:Z,complete:P},void 0===N.next&&(N.next=Vt),void 0===N.error&&(N.error=Vt),void 0===N.complete&&(N.complete=Vt);const L=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),L}unsubscribeOne(R){void 0===this.observers||void 0===this.observers[R]||(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(R){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,R)}sendOne(R,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[R])try{Z(this.observers[R])}catch(P){typeof console<"u"&&console.error&&console.error(P)}})}close(R){this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vt(){}function Xe(B,R=1e3,Z=2){const P=R*Math.pow(Z,B),N=Math.round(.5*P*(Math.random()-.5)*2);return Math.min(144e5,P+N)}function Qt(B){return B&&B._delegate?B._delegate:B}},6829:(bt,He,O)=>{var s=O(4650);let F=null;function k(){return F}const we=new s.OlP("DocumentToken");let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function ke(){return(0,s.LFG)($)}()},providedIn:"platform"}),n})();const G=new s.OlP("Location Initialized");let $=(()=>{class n extends be{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(we))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Ue(){return new $((0,s.LFG)(we))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Re(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Se(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Qe(n){return n&&"?"!==n[0]?"?"+n:n}let oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(rt)},providedIn:"root"}),n})();const de=new s.OlP("appBaseHref");let rt=(()=>{class n extends oe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Re(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const l=this.prepareExternalUrl(i+Qe(o));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,o){const l=this.prepareExternalUrl(i+Qe(o));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(be),s.LFG(de,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),it=(()=>{class n extends oe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Re(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let l=this.prepareExternalUrl(i+Qe(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,o){let l=this.prepareExternalUrl(i+Qe(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(be),s.LFG(de,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(t){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Se(Be(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qe(r))}normalize(t){return n.stripTrailingSlash(function me(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Qe,n.joinWithSlash=Re,n.stripTrailingSlash=Se,n.\u0275fac=function(t){return new(t||n)(s.LFG(oe))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function De(){return new Oe((0,s.LFG)(oe))}()},providedIn:"root"}),n})();function Be(n){return n.replace(/\/index.html$/,"")}var ie=(()=>((ie=ie||{})[ie.Decimal=0]="Decimal",ie[ie.Percent=1]="Percent",ie[ie.Currency=2]="Currency",ie[ie.Scientific=3]="Scientific",ie))(),ne=(()=>((ne=ne||{})[ne.Decimal=0]="Decimal",ne[ne.Group=1]="Group",ne[ne.List=2]="List",ne[ne.PercentSign=3]="PercentSign",ne[ne.PlusSign=4]="PlusSign",ne[ne.MinusSign=5]="MinusSign",ne[ne.Exponential=6]="Exponential",ne[ne.SuperscriptingExponent=7]="SuperscriptingExponent",ne[ne.PerMille=8]="PerMille",ne[ne.Infinity=9]="Infinity",ne[ne.NaN=10]="NaN",ne[ne.TimeSeparator=11]="TimeSeparator",ne[ne.CurrencyDecimal=12]="CurrencyDecimal",ne[ne.CurrencyGroup=13]="CurrencyGroup",ne))();function kt(n,e){const t=(0,s.cg1)(n),r=t[s.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ne.CurrencyDecimal)return t[s.wAp.NumberSymbols][ne.Decimal];if(e===ne.CurrencyGroup)return t[s.wAp.NumberSymbols][ne.Group]}return r}const nt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function e2(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function Ga(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}let rn=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Do{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,l)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Do(i.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===o?void 0:o);else if(null!==o){const d=r.get(o);r.move(d,l),Si(d,i)}});for(let i=0,o=r.length;i<o;i++){const d=r.get(i).context;d.index=i,d.count=o,d.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Si(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Si(n,e){n.context.$implicit=e.item}let Gt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){b2("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){b2("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class _5{constructor(){this.$implicit=null,this.ngIf=null}}function b2(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}let Ka=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),l=-1===i.indexOf("-")?void 0:s.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,l):this._renderer.removeStyle(this._ngEl.nativeElement,i,l)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Lr=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:l}=this;this._viewRef=r.createEmbeddedView(i,o,l?{injector:l}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[s.TTD]}),n})();function br(n,e){return new s.vHH(2100,!1)}const k9=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ya=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw br();return t.replace(k9,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=s.Yjl({name:"titlecase",type:n,pure:!0,standalone:!0}),n})(),C5=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw br();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=s.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})(),xi=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function s3(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function _t(n,e,t){return function wn(n,e,t,r,i,o,l=!1){let d="",p=!1;if(isFinite(n)){let v=function $a(n){let r,i,o,l,d,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;"0"===e.charAt(o);o++);if(o===(d=e.length))r=[0],i=1;else{for(d--;"0"===e.charAt(d);)d--;for(i-=o,r=[],l=0;o<=d;o++,l++)r[l]=Number(e.charAt(o))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);l&&(v=function yi(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(v));let y=e.minInt,D=e.minFrac,x=e.maxFrac;if(o){const ue=o.match(nt);if(null===ue)throw new Error(`${o} is not a valid digit info`);const ge=ue[1],fe=ue[3],xe=ue[5];null!=ge&&(y=e2(ge)),null!=fe&&(D=e2(fe)),null!=xe?x=e2(xe):null!=fe&&D>x&&(x=D)}!function bi(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const o=Math.min(Math.max(e,i),t);let l=o+n.integerLen,d=r[l];if(l>0){r.splice(Math.max(n.integerLen,l));for(let D=l;D<r.length;D++)r[D]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,l=o+1),r[0]=0;for(let D=1;D<l;D++)r[D]=0}if(d>=5)if(l-1<0){for(let D=0;D>l;D--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[l-1]++;for(;i<Math.max(0,o);i++)r.push(0);let p=0!==o;const v=e+n.integerLen,y=r.reduceRight(function(D,x,H,z){return z[H]=(x+=D)<10?x:x-10,p&&(0===z[H]&&H>=v?z.pop():p=!1),x>=10?1:0},0);y&&(r.unshift(y),n.integerLen++)}(v,D,x);let H=v.digits,z=v.integerLen;const U=v.exponent;let q=[];for(p=H.every(ue=>!ue);z<y;z++)H.unshift(0);for(;z<0;z++)H.unshift(0);z>0?q=H.splice(z,H.length):(q=H,H=[0]);const re=[];for(H.length>=e.lgSize&&re.unshift(H.splice(-e.lgSize,H.length).join(""));H.length>e.gSize;)re.unshift(H.splice(-e.gSize,H.length).join(""));H.length&&re.unshift(H.join("")),d=re.join(kt(t,r)),q.length&&(d+=kt(t,i)+q.join("")),U&&(d+=kt(t,ne.Exponential)+"+"+U)}else d=kt(t,ne.Infinity);return d=n<0&&!p?e.negPre+d+e.negSuf:e.posPre+d+e.posSuf,d}(n,function Ci(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],o=r[1],l=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],d=l[0],p=l[1]||"";t.posPre=d.substring(0,d.indexOf("#"));for(let y=0;y<p.length;y++){const D=p.charAt(y);"0"===D?t.minFrac=t.maxFrac=y+1:"#"===D?t.maxFrac=y+1:t.posSuf+=D}const v=d.split(",");if(t.gSize=v[1]?v[1].length:0,t.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,o){const y=i.length-t.posPre.length-t.posSuf.length,D=o.indexOf("#");t.negPre=o.substring(0,D).replace(/'/g,""),t.negSuf=o.slice(D+y).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function G2(n,e){return(0,s.cg1)(n)[s.wAp.NumberFormats][e]}(e,ie.Decimal),kt(e,ne.MinusSign)),e,ne.Group,ne.Decimal,t)}(function o3(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(o){throw br()}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.soG,16))},n.\u0275pipe=s.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})();let Y2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Ni="browser";function Q2(n){return n===Ni}function Eo(n){return"server"===n}let Ul=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new M5((0,s.LFG)(we),window)}),n})();class M5{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function z2(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const l=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=xo(this.window.history)||xo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _s{}class ys extends class Gl extends class Me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ee(n){F||(F=n)}(new ys)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function I5(){return Hi=Hi||document.querySelector("base"),Hi?Hi.getAttribute("href"):null}();return null==t?null:function y1(n){Hn=Hn||document.createElement("a"),Hn.setAttribute("href",n);const e=Hn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Hi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ga(document.cookie,e)}}let Hn,Hi=null;const En=new s.OlP("TRANSITION_ID"),L5=[{provide:s.ip1,useFactory:function V5(n,e,t){return()=>{t.get(s.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[En,we,s.zs3],multi:!0}];let k5=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const _3=new s.OlP("EventManagerPlugins");let bs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const l=i[o];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(_3),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Lo{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let zo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ii=(()=>{class n extends zo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const l=this._doc.createElement("style");l.textContent=o,i.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(C3),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(C3))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(we))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function C3(n){k().remove(n)}const s4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ql=/%COMP%/g;function o4(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?o4(n,i,t):(i=i.replace(ql,n),t.push(i))}return t}function a4(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let M3=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new b1(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case s.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Zl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case s.ifc.ShadowDom:return new R5(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=o4(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(bs),s.LFG(Ii),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class b1{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(s4[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Oo(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Oo(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=s4[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=s4[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,r,i&s.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,a4(r)):this.eventManager.addEventListener(e,t,a4(r))}}function Oo(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Zl extends b1{constructor(e,t,r,i){super(e),this.component=r;const o=o4(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr=function ko(n){return"_ngcontent-%COMP%".replace(ql,n)}(i+"-"+r.id),this.hostAttr=function b3(n){return"_nghost-%COMP%".replace(ql,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class R5 extends b1{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=o4(i.id,i.styles,[]);for(let l=0;l<o.length;l++){const d=document.createElement("style");d.textContent=o[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Vi=(()=>{class n extends Lo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(we))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const F5=["alt","control","meta","shift"],Z1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},D3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let c4=(()=>{class n extends Lo{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),l=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,o.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let l="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),l="code."),F5.forEach(v=>{const y=r.indexOf(v);y>-1&&(r.splice(y,1),l+=v+".")}),l+=o,0!=r.length||0===o.length)return null;const p={};return p.domEventName=i,p.fullKey=l,p}static matchEventFullKeyCode(t,r){let i=Z1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),F5.forEach(l=>{l!==i&&(0,D3[l])(t)&&(o+=l+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(we))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Po=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Ni},{provide:s.g9A,useValue:function B5(){ys.makeCurrent()},multi:!0},{provide:we,useFactory:function T3(){return(0,s.RDi)(document),document},deps:[]}]),Ro=new s.OlP(""),Fo=[{provide:s.rWj,useClass:class z5{addToWindow(e){s.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let o=i.length,l=!1;const d=function(p){l=l||p,o--,0==o&&r(l)};i.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],u4=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Li(){return new s.qLn},deps:[]},{provide:_3,useClass:Vi,multi:!0,deps:[we,s.R0b,s.Lbi]},{provide:_3,useClass:c4,multi:!0,deps:[we]},{provide:M3,useClass:M3,deps:[bs,Ii,s.AFp]},{provide:s.FYo,useExisting:M3},{provide:zo,useExisting:Ii},{provide:Ii,useClass:Ii,deps:[we]},{provide:bs,useClass:bs,deps:[_3,s.R0b]},{provide:_s,useClass:k5,deps:[]},[]];let zi=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId},{provide:En,useExisting:s.AFp},L5]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Ro,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...u4,...Fo],imports:[Y2,s.hGG]}),n})(),W1=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(we))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Uo(){return new W1((0,s.LFG)(we))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let Oi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):s.LFG(q5),r},providedIn:"root"}),n})(),q5=(()=>{class n extends Oi{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case s.q3G.NONE:return r;case s.q3G.HTML:return(0,s.qzn)(r,"HTML")?(0,s.z3N)(r):(0,s.EiD)(this._doc,String(r)).toString();case s.q3G.STYLE:return(0,s.qzn)(r,"Style")?(0,s.z3N)(r):r;case s.q3G.SCRIPT:if((0,s.qzn)(r,"Script"))return(0,s.z3N)(r);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(r,"URL")?(0,s.z3N)(r):(0,s.mCW)(String(r));case s.q3G.RESOURCE_URL:if((0,s.qzn)(r,"ResourceURL"))return(0,s.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,s.JVY)(t)}bypassSecurityTrustStyle(t){return(0,s.L6k)(t)}bypassSecurityTrustScript(t){return(0,s.eBb)(t)}bypassSecurityTrustUrl(t){return(0,s.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,s.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(we))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function $9(n){return new q5(n.get(we))}(s.LFG(s.zs3)),r},providedIn:"root"}),n})();var Sr=O(3269),on=O(8996);function tt(...n){const e=(0,Sr.yG)(n);return(0,on.D)(n,e)}var Un=O(9751),en=O(5577),r2=O(576);function Or(n,e){return(0,r2.m)(e)?(0,en.z)(n,e,1):(0,en.z)(n,1)}var vn=O(4482),fn=O(5403);function gn(n,e){return(0,vn.e)((t,r)=>{let i=0;t.subscribe((0,fn.x)(r,o=>n.call(e,o,i++)&&r.next(o)))})}var Ke=O(4004);class t0{}class Pi{}class a1{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),l=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof a1?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new a1;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof a1?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let l=this.headers.get(t);if(!l)return;l=l.filter(d=>-1===o.indexOf(d)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class lr{encodeKey(e){return A3(e)}encodeValue(e){return A3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Y1=/%(\d[a-f0-9])/gi,W5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function A3(n){return encodeURIComponent(n).replace(Y1,(e,t)=>W5[t]??e)}function m4(n){return`${n}`}class c1{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new lr,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function x3(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[l,d]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],p=t.get(l)||[];p.push(d),t.set(l,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(m4):[m4(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new c1({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(m4(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(m4(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class N3{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function v4(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ss(n){return typeof Blob<"u"&&n instanceof Blob}function Go(n){return typeof FormData<"u"&&n instanceof FormData}class M1{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function K5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new a1),this.context||(this.context=new N3),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+l}}else this.params=new c1,this.urlWithParams=t}serializeBody(){return null===this.body?null:v4(this.body)||Ss(this.body)||Go(this.body)||function _4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof c1?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Go(this.body)?null:Ss(this.body)?this.body.type||null:v4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof c1?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,d=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,v=e.params||this.params;const y=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((D,x)=>D.set(x,e.setHeaders[x]),p)),e.setParams&&(v=Object.keys(e.setParams).reduce((D,x)=>D.set(x,e.setParams[x]),v)),new M1(t,r,o,{params:v,headers:p,context:y,reportProgress:d,responseType:i,withCredentials:l})}}var kn=(()=>((kn=kn||{})[kn.Sent=0]="Sent",kn[kn.UploadProgress=1]="UploadProgress",kn[kn.ResponseHeader=2]="ResponseHeader",kn[kn.DownloadProgress=3]="DownloadProgress",kn[kn.Response=4]="Response",kn[kn.User=5]="User",kn))();class Q1{constructor(e,t=200,r="OK"){this.headers=e.headers||new a1,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class qo extends Q1{constructor(e={}){super(e),this.type=kn.ResponseHeader}clone(e={}){return new qo({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ds extends Q1{constructor(e={}){super(e),this.type=kn.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ds({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class n0 extends Q1{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Zo(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let J1=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof M1)o=t;else{let p,v;p=i.headers instanceof a1?i.headers:new a1(i.headers),i.params&&(v=i.params instanceof c1?i.params:new c1({fromObject:i.params})),o=new M1(t,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const l=tt(o).pipe(Or(p=>this.handler.handle(p)));if(t instanceof M1||"events"===i.observe)return l;const d=l.pipe(gn(p=>p instanceof Ds));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe((0,Ke.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,Ke.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,Ke.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,Ke.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new c1).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Zo(i,r))}post(t,r,i={}){return this.request("POST",t,Zo(i,r))}put(t,r,i={}){return this.request("PUT",t,Zo(i,r))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(t0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class X1{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const r0=new s.OlP("HTTP_INTERCEPTORS");let Wn=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const C4=/^\)\]\}',?\n/;let I3=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Un.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((H,z)=>i.setRequestHeader(H,z.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const H=t.detectContentTypeHeader();null!==H&&i.setRequestHeader("Content-Type",H)}if(t.responseType){const H=t.responseType.toLowerCase();i.responseType="json"!==H?H:"text"}const o=t.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const H=i.statusText||"OK",z=new a1(i.getAllResponseHeaders()),U=function Ri(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return l=new qo({headers:z,status:i.status,statusText:H,url:U}),l},p=()=>{let{headers:H,status:z,statusText:U,url:q}=d(),re=null;204!==z&&(re=typeof i.response>"u"?i.responseText:i.response),0===z&&(z=re?200:0);let ue=z>=200&&z<300;if("json"===t.responseType&&"string"==typeof re){const ge=re;re=re.replace(C4,"");try{re=""!==re?JSON.parse(re):null}catch(fe){re=ge,ue&&(ue=!1,re={error:fe,text:re})}}ue?(r.next(new Ds({body:re,headers:H,status:z,statusText:U,url:q||void 0})),r.complete()):r.error(new n0({error:re,headers:H,status:z,statusText:U,url:q||void 0}))},v=H=>{const{url:z}=d(),U=new n0({error:H,status:i.status||0,statusText:i.statusText||"Unknown Error",url:z||void 0});r.error(U)};let y=!1;const D=H=>{y||(r.next(d()),y=!0);let z={type:kn.DownloadProgress,loaded:H.loaded};H.lengthComputable&&(z.total=H.total),"text"===t.responseType&&!!i.responseText&&(z.partialText=i.responseText),r.next(z)},x=H=>{let z={type:kn.UploadProgress,loaded:H.loaded};H.lengthComputable&&(z.total=H.total),r.next(z)};return i.addEventListener("load",p),i.addEventListener("error",v),i.addEventListener("timeout",v),i.addEventListener("abort",v),t.reportProgress&&(i.addEventListener("progress",D),null!==o&&i.upload&&i.upload.addEventListener("progress",x)),i.send(o),r.next({type:kn.Sent}),()=>{i.removeEventListener("error",v),i.removeEventListener("abort",v),i.removeEventListener("load",p),i.removeEventListener("timeout",v),t.reportProgress&&(i.removeEventListener("progress",D),null!==o&&i.upload&&i.upload.removeEventListener("progress",x)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(_s))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const xs=new s.OlP("XSRF_COOKIE_NAME"),Fi=new s.OlP("XSRF_HEADER_NAME");class As{}let V3=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ga(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(we),s.LFG(s.Lbi),s.LFG(xs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),y4=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(As),s.LFG(Fi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Q5=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(r0,[]);this.chain=r.reduceRight((i,o)=>new X1(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Pi),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),J5=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:y4,useClass:Wn}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:xs,useValue:t.cookieName}:[],t.headerName?{provide:Fi,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[y4,{provide:r0,useExisting:y4,multi:!0},{provide:As,useClass:V3},{provide:xs,useValue:"XSRF-TOKEN"},{provide:Fi,useValue:"X-XSRF-TOKEN"}]}),n})(),W9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[J1,{provide:t0,useClass:Q5},I3,{provide:Pi,useExisting:I3}],imports:[J5.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var Yt=O(7579);class f2 extends Yt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const b4=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Ui}=Array,{getPrototypeOf:u0,prototype:ed,keys:d0}=Object;function td(n){if(1===n.length){const e=n[0];if(Ui(e))return{args:e,keys:null};if(function f0(n){return n&&"object"==typeof n&&u0(n)===ed}(e)){const t=d0(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Is=O(4671);const{isArray:nd}=Array;function Bi(n){return(0,Ke.U)(e=>function rd(n,e){return nd(e)?n(...e):n(e)}(n,e))}function id(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var K9=O(9672);function Vs(...n){const e=(0,Sr.yG)(n),t=(0,Sr.jO)(n),{args:r,keys:i}=td(n);if(0===r.length)return(0,on.D)([],e);const o=new Un.y(function Y9(n,e,t=Is.y){return r=>{sd(e,()=>{const{length:i}=n,o=new Array(i);let l=i,d=i;for(let p=0;p<i;p++)sd(e,()=>{const v=(0,on.D)(n[p],e);let y=!1;v.subscribe((0,fn.x)(r,D=>{o[p]=D,y||(y=!0,d--),d||r.next(t(o.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>id(i,l):Is.y));return t?o.pipe(Bi(t)):o}function sd(n,e,t){n?(0,K9.f)(t,n,e):e()}var Wo=O(8189);function M4(...n){return function Q9(){return(0,Wo.J)(1)}()((0,on.D)(n,(0,Sr.yG)(n)))}var l1=O(8421);function L3(n){return new Un.y(e=>{(0,l1.Xf)(n()).subscribe(e)})}var Ls=O(9635);function zs(n,e){const t=(0,r2.m)(n)?n:()=>n,r=i=>i.error(t());return new Un.y(e?i=>e.schedule(r,0,i):r)}var Dr=O(515),w4=O(727);function ur(){return(0,vn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,fn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class h0 extends Un.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,vn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new w4.w0;const t=this.getSubject();e.add(this.source.subscribe((0,fn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=w4.w0.EMPTY)}return e}refCount(){return ur()(this)}}function _n(n,e){return(0,vn.e)((t,r)=>{let i=null,o=0,l=!1;const d=()=>l&&!i&&r.complete();t.subscribe((0,fn.x)(r,p=>{i?.unsubscribe();let v=0;const y=o++;(0,l1.Xf)(n(p,y)).subscribe(i=(0,fn.x)(r,D=>r.next(e?e(p,D,y,v++):D),()=>{i=null,d()}))},()=>{l=!0,d()}))})}function On(n){return n<=0?()=>Dr.E:(0,vn.e)((e,t)=>{let r=0;e.subscribe((0,fn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function w1(...n){const e=(0,Sr.yG)(n);return(0,vn.e)((t,r)=>{(e?M4(n,t,e):M4(n,t)).subscribe(r)})}function ji(n){return(0,vn.e)((e,t)=>{let r=!1;e.subscribe((0,fn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function p0(n=od){return(0,vn.e)((e,t)=>{let r=!1;e.subscribe((0,fn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function od(){return new b4}function Tr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?gn((i,o)=>n(i,o,r)):Is.y,On(1),t?ji(e):p0(()=>new b4))}function Ht(n,e,t){const r=(0,r2.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,vn.e)((i,o)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let d=!0;i.subscribe((0,fn.x)(o,p=>{var v;null===(v=r.next)||void 0===v||v.call(r,p),o.next(p)},()=>{var p;d=!1,null===(p=r.complete)||void 0===p||p.call(r),o.complete()},p=>{var v;d=!1,null===(v=r.error)||void 0===v||v.call(r,p),o.error(p)},()=>{var p,v;d&&(null===(p=r.unsubscribe)||void 0===p||p.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Is.y}function ei(n){return(0,vn.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe((0,fn.x)(t,void 0,void 0,l=>{o=(0,l1.Xf)(n(l,ei(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function z3(n,e,t,r,i){return(o,l)=>{let d=t,p=e,v=0;o.subscribe((0,fn.x)(l,y=>{const D=v++;p=d?n(p,y,D):(d=!0,y),r&&l.next(p)},i&&(()=>{d&&l.next(p),l.complete()})))}}function s2(n,e){return(0,vn.e)(z3(n,e,arguments.length>=2,!0))}function Ko(n){return n<=0?()=>Dr.E:(0,vn.e)((e,t)=>{let r=[];e.subscribe((0,fn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function b(n,e){const t=arguments.length>=2;return r=>r.pipe(n?gn((i,o)=>n(i,o,r)):Is.y,Ko(1),t?ji(e):p0(()=>new b4))}function _(n){return(0,Ke.U)(()=>n)}function w(n){return(0,vn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const E="primary",I=Symbol("RouteTitle");class J{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ye(n){return new J(n)}function et(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const l=r[o],d=n[o];if(l.startsWith(":"))i[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Tt(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!bn(n[i],e[i]))return!1;return!0}function bn(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function Pr(n){return Array.prototype.concat.apply([],n)}function S1(n){return n.length>0?n[n.length-1]:null}function Kn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function u1(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,on.D)(Promise.resolve(n)):tt(n)}const $i={exact:function Xo(n,e,t){if(!ta(n.segments,e.segments)||!S4(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Xo(n.children[r],e.children[r],t))return!1;return!0},subset:P3},k3={exact:function Jo(n,e){return Tt(n,e)},subset:function m0(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bn(n[t],e[t]))},ignored:()=>!0};function O3(n,e,t){return $i[t.paths](n.root,e.root,t.matrixParams)&&k3[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function P3(n,e,t){return Gi(n,e,e.segments,t)}function Gi(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ta(i,t)||e.hasChildren()||!S4(i,t,r))}if(n.segments.length===t.length){if(!ta(n.segments,t)||!S4(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!P3(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ta(n.segments,i)&&S4(n.segments,i,r)&&n.children[E])&&Gi(n.children[E],e,o,r)}}function S4(n,e,t){return e.every((r,i)=>k3[t](n[i].parameters,r.parameters))}class ks{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return Hy.serialize(this)}}class Kt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return R3(this)}}class ea{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ye(this.parameters)),this._parameterMap}toString(){return Os(this)}}function ta(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let J9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new ad},providedIn:"root"}),n})();class ad{parse(e){const t=new rp(e);return new ks(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${na(e.root,!0)}`,r=function ep(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${D4(t)}=${D4(i)}`).join("&"):`${D4(t)}=${D4(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Iy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Hy=new ad;function R3(n){return n.segments.map(e=>Os(e)).join("/")}function na(n,e){if(!n.hasChildren())return R3(n);if(e){const t=n.children[E]?na(n.children[E],!1):"",r=[];return Kn(n.children,(i,o)=>{o!==E&&r.push(`${o}:${na(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ny(n,e){let t=[];return Kn(n.children,(r,i)=>{i===E&&(t=t.concat(e(r,i)))}),Kn(n.children,(r,i)=>{i!==E&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===E?[na(n.children[E],!1)]:[`${i}:${na(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[E]?`${R3(n)}/${t[0]}`:`${R3(n)}/(${t.join("//")})`}}function cd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function D4(n){return cd(n).replace(/%3B/gi,";")}function ld(n){return cd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function F3(n){return decodeURIComponent(n)}function ud(n){return F3(n.replace(/\+/g,"%20"))}function Os(n){return`${ld(n.path)}${function X9(n){return Object.keys(n).map(e=>`;${ld(e)}=${ld(n[e])}`).join("")}(n.parameters)}`}const Vy=/^[^\/()?;=#]+/;function dd(n){const e=n.match(Vy);return e?e[0]:""}const v0=/^[^=?&#]+/,tp=/^[^&#]+/;class rp{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[E]=new Kt(e,t)),r}parseSegment(){const e=dd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(e),new ea(F3(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=dd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=dd(this.remaining);i&&(r=i,this.capture(r))}e[F3(t)]=F3(r)}parseQueryParam(e){const t=function Ly(n){const e=n.match(v0);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function np(n){const e=n.match(tp);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=ud(t),o=ud(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=dd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new s.vHH(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=E);const l=this.parseChildren();t[o]=1===Object.keys(l).length?l[E]:new Kt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new s.vHH(4011,!1)}}function U3(n){return n.segments.length>0?new Kt([],{[E]:n}):n}function B3(n){const e={};for(const r of Object.keys(n.children)){const o=B3(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function _0(n){if(1===n.numberOfChildren&&n.children[E]){const e=n.children[E];return new Kt(n.segments.concat(e.segments),e.children)}return n}(new Kt(n.segments,e))}function ti(n){return n instanceof ks}function j3(n,e,t,r,i){if(0===t.length)return E4(e.root,e.root,e.root,r,i);const o=function y0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new pd(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const d={};return Kn(o.outlets,(p,v)=>{d[v]="string"==typeof p?p.split("/"):p}),[...i,{outlets:d}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===l?(o.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?t=!0:".."===d?e++:""!=d&&i.push(d))}),i):[...i,o]},[]);return new pd(t,e,r)}(t);return o.toRoot()?E4(e.root,e.root,new Kt([],{}),r,i):function l(p){const v=function ra(n,e,t,r){if(n.isAbsolute)return new qi(e.root,!0,0);if(-1===r)return new qi(t,t===e.root,0);return function op(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new s.vHH(4005,!1);i=r.segments.length}return new qi(r,!1,i-o)}(t,r+($3(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,p),y=v.processChildren?G3(v.segmentGroup,v.index,o.commands):ap(v.segmentGroup,v.index,o.commands);return E4(e.root,v.segmentGroup,y,r,i)}(n.snapshot?._lastPathIndex)}function $3(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function T4(n){return"object"==typeof n&&null!=n&&n.outlets}function E4(n,e,t,r,i){let l,o={};r&&Kn(r,(p,v)=>{o[v]=Array.isArray(p)?p.map(y=>`${y}`):`${p}`}),l=n===e?t:sp(n,e,t);const d=U3(B3(l));return new ks(d,o,i)}function sp(n,e,t){const r={};return Kn(n.children,(i,o)=>{r[o]=i===e?t:sp(i,e,t)}),new Kt(n.segments,r)}class pd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$3(r[0]))throw new s.vHH(4003,!1);const i=r.find(T4);if(i&&i!==S1(r))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qi{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function ap(n,e,t){if(n||(n=new Kt([],{})),0===n.segments.length&&n.hasChildren())return G3(n,e,t);const r=function md(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const l=n.segments[i],d=t[r];if(T4(d))break;const p=`${d}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&v&&"object"==typeof v&&void 0===v.outlets){if(!b0(p,v,l))return o;r+=2}else{if(!b0(p,{},l))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Kt(n.segments.slice(0,r.pathIndex),{});return o.children[E]=new Kt(n.segments.slice(r.pathIndex),n.children),G3(o,0,i)}return r.match&&0===i.length?new Kt(n.segments,{}):r.match&&!n.hasChildren()?vd(n,e,t):r.match?G3(n,0,i):vd(n,e,t)}function G3(n,e,t){if(0===t.length)return new Kt(n.segments,{});{const r=function zy(n){return T4(n[0])?n[0].outlets:{[E]:n}}(t),i={};return Kn(r,(o,l)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[l]=ap(n.children[l],e,o))}),Kn(n.children,(o,l)=>{void 0===r[l]&&(i[l]=o)}),new Kt(n.segments,i)}}function vd(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(T4(o)){const p=cp(o.outlets);return new Kt(r,p)}if(0===i&&$3(t[0])){r.push(new ea(n.segments[e].path,q3(t[0]))),i++;continue}const l=T4(o)?o.outlets[E]:`${o}`,d=i<t.length-1?t[i+1]:null;l&&d&&$3(d)?(r.push(new ea(l,q3(d))),i+=2):(r.push(new ea(l,{})),i++)}return new Kt(r,{})}function cp(n){const e={};return Kn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=vd(new Kt([],{}),0,t))}),e}function q3(n){const e={};return Kn(n,(t,r)=>e[r]=`${t}`),e}function b0(n,e,t){return n==t.path&&Tt(e,t.parameters)}class ni{constructor(e,t){this.id=e,this.url=t}}class M0 extends ni{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ps extends ni{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ri extends ni{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lp extends ni{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ky extends ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oy extends ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Py extends ni{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ry extends ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zi extends ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class x4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fy{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uy{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class By{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jy{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $y{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class up{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_d(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=_d(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Cd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cd(e,this._root).map(t=>t.value)}}function _d(n,e){if(n===e.value)return e;for(const t of e.children){const r=_d(n,t);if(r)return r}return null}function Cd(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Cd(n,t);if(r.length)return r.unshift(e),r}return[]}class Wi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ki(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ii extends fp{constructor(e,t){super(e),this.snapshot=t,Z3(this,e)}toString(){return this.snapshot.toString()}}function A4(n,e){const t=function hp(n,e){const l=new bd([],{},{},"",{},E,e,null,n.root,-1,{});return new Gy("",new Wi(l,[]))}(n,e),r=new f2([new ea("",{})]),i=new f2({}),o=new f2({}),l=new f2({}),d=new f2(""),p=new Er(r,i,l,d,o,E,e,t.root);return p.snapshot=t.root,new ii(new Wi(p,[]),t)}class Er{constructor(e,t,r,i,o,l,d,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=d,this.title=this.data?.pipe((0,Ke.U)(v=>v[I]))??tt(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ke.U)(e=>ye(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ke.U)(e=>ye(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function nN(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class bd{constructor(e,t,r,i,o,l,d,p,v,y,D,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=d,this.title=this.data?.[I],this.routeConfig=p,this._urlSegment=v,this._lastPathIndex=y,this._correctedLastPathIndex=x??y,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ye(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gy extends fp{constructor(e,t){super(t),this.url=e,Z3(this,t)}toString(){return w0(this._root)}}function Z3(n,e){e.value._routerState=n,e.children.forEach(t=>Z3(n,t))}function w0(n){const e=n.children.length>0?` { ${n.children.map(w0).join(", ")} } `:"";return`${n.value}${e}`}function pp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Tt(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Tt(e.params,t.params)||n.params.next(t.params),function mt(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Tt(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Tt(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function gp(n,e){const t=Tt(n.params,e.params)&&function Ay(n,e){return ta(n,e)&&n.every((t,r)=>Tt(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||gp(n.parent,e.parent))}function W3(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function qy(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return W3(n,r,i);return W3(n,r)})}(n,e,t);return new Wi(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(d=>W3(n,d)),l}}const r=function Zy(n){return new Er(new f2(n.url),new f2(n.params),new f2(n.queryParams),new f2(n.fragment),new f2(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>W3(n,o));return new Wi(r,i)}}const Md="ngNavigationCancelingError";function wd(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ti(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=K3(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function K3(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Md]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Sd(n){return S0(n)&&ti(n.url)}function S0(n){return n&&n[Md]}class Wy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new In,this.attachRef=null}}let In=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Wy,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Y3=!1;let Dd=(()=>{class n{constructor(t,r,i,o,l){this.parentContexts=t,this.location=r,this.changeDetector=o,this.environmentInjector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=i||E,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,Y3);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,Y3);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,Y3);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new s.vHH(4013,Y3);this._activatedRoute=t;const i=this.location,l=t._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new Td(t,d,i.injector);if(r&&function vp(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(l);this.activated=i.createComponent(v,i.length,p)}else this.activated=i.createComponent(l,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(In),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class Td{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Er?this.route:e===In?this.childContexts:this.parent.get(e,t)}}let Ed=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")},dependencies:[Dd],encapsulation:2}),n})();function _p(n,e){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function D0(n){const e=n.children&&n.children.map(D0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==E&&(t.component=Ed),t}function Rr(n){return n.outlet||E}function bp(n,e){const t=n.filter(r=>Rr(r)===e);return t.push(...n.filter(r=>Rr(r)!==e)),t}function N4(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Ad{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ki(t);e.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,i[l],r),delete i[l]}),Kn(i,(o,l)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ki(e);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);if(r&&r.outlet){const l=r.outlet.detach(),d=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ki(e);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ki(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new $y(o.value.snapshot))}),e.children.length&&this.forwardEvent(new By(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(pp(i),i===o)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const d=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),pp(d.route.value),this.activateChildRoutes(e,null,l.children)}else{const d=N4(i.snapshot),p=d?.get(s._Vd)??null;l.attachRef=null,l.route=i,l.resolver=p,l.injector=d,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class Ky{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class T0{constructor(e,t){this.component=e,this.route=t}}function Nd(n,e,t){const r=n._root;return D1(r,e?e._root:null,t,[r.value])}function ia(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,s.Z0I)(n)?e.get(n):n:r}function D1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ki(e);return n.children.forEach(l=>{(function Yy(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,l=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const p=function Hd(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ta(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ta(n.url,e.url)||!Tt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gp(n,e)||!Tt(n.queryParams,e.queryParams);default:return!gp(n,e)}}(l,o,o.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new Ky(r)):(o.data=l.data,o._resolvedData=l._resolvedData),D1(n,e,o.component?d?d.children:null:t,r,i),p&&d&&d.outlet&&d.outlet.isActivated&&i.canDeactivateChecks.push(new T0(d.outlet.component,l))}else l&&Rs(e,d,i),i.canActivateChecks.push(new Ky(r)),D1(n,null,o.component?d?d.children:null:t,r,i)})(l,o[l.value.outlet],t,r.concat([l.value]),i),delete o[l.value.outlet]}),Kn(o,(l,d)=>Rs(l,t.getContext(d),i)),i}function Rs(n,e,t){const r=Ki(n),i=n.value;Kn(r,(o,l)=>{Rs(o,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new T0(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function J3(n){return"function"==typeof n}function Fs(n){return n instanceof b4||"EmptyError"===n?.name}const x0=Symbol("INITIAL_VALUE");function H4(){return _n(n=>Vs(n.map(e=>e.pipe(On(1),w1(x0)))).pipe((0,Ke.U)(e=>{for(const t of e)if(!0!==t){if(t===x0)return x0;if(!1===t||t instanceof ks)return t}return!0}),gn(e=>e!==x0),On(1)))}function I4(n){return(0,Ls.z)(Ht(e=>{if(ti(e))throw wd(0,e)}),(0,Ke.U)(e=>!0===e))}const Us={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function V4(n,e,t,r,i){const o=zd(n,e,t);return o.matched?function rb(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?tt(i.map(l=>{const d=ia(l,n);return u1(function Qy(n){return n&&J3(n.canMatch)}(d)?d.canMatch(e,t):n.runInContext(()=>d(e,t)))})).pipe(H4(),I4()):tt(!0)}(r=_p(e,r),e,t).pipe((0,Ke.U)(l=>!0===l?o:{...Us})):tt(o)}function zd(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Us}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||et)(t,n,e);if(!i)return{...Us};const o={};Kn(i.posParams,(d,p)=>{o[p]=d.path});const l=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function kd(n,e,t,r,i="corrected"){if(t.length>0&&function sb(n,e,t){return t.some(r=>X3(n,e,r)&&Rr(r)!==E)}(n,t,r)){const l=new Kt(e,function ib(n,e,t,r){const i={};i[E]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Rr(o)!==E){const l=new Kt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[Rr(o)]=l}return i}(n,e,r,new Kt(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function ob(n,e,t){return t.some(r=>X3(n,e,r))}(n,t,r)){const l=new Kt(n.segments,function xp(n,e,t,r,i,o){const l={};for(const d of r)if(X3(n,t,d)&&!i[Rr(d)]){const p=new Kt([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===o?n.segments.length:e.length,l[Rr(d)]=p}return{...i,...l}}(n,e,t,r,n.children,i));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const o=new Kt(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function X3(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Od(n,e,t,r){return!!(Rr(n)===r||r!==E&&X3(e,t,n))&&("**"===n.path||zd(e,n,t).matched)}function A0(n,e,t){return 0===e.length&&!n.children[t]}const L4=!1;class N0{constructor(e){this.segmentGroup=e||null}}class H0{constructor(e){this.urlTree=e}}function Yi(n){return zs(new N0(n))}function Ap(n){return zs(new H0(n))}class ub{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=kd(this.urlTree.root,[],[],this.config).segmentGroup,t=new Kt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,E).pipe((0,Ke.U)(o=>this.createUrlTree(B3(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ei(o=>{if(o instanceof H0)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof N0?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,E).pipe((0,Ke.U)(i=>this.createUrlTree(B3(i),e.queryParams,e.fragment))).pipe(ei(i=>{throw i instanceof N0?this.noMatchError(i):i}))}noMatchError(e){return new s.vHH(4002,L4)}createUrlTree(e,t,r){const i=U3(e);return new ks(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ke.U)(o=>new Kt([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,on.D)(i).pipe(Or(o=>{const l=r.children[o],d=bp(t,o);return this.expandSegmentGroup(e,d,l,o).pipe((0,Ke.U)(p=>({segment:p,outlet:o})))}),s2((o,l)=>(o[l.outlet]=l.segment,o),{}),b())}expandSegment(e,t,r,i,o,l){return(0,on.D)(r).pipe(Or(d=>this.expandSegmentAgainstRoute(e,t,r,d,i,o,l).pipe(ei(v=>{if(v instanceof N0)return tt(null);throw v}))),Tr(d=>!!d),ei((d,p)=>{if(Fs(d))return A0(t,i,o)?tt(new Kt([],{})):Yi(t);throw d}))}expandSegmentAgainstRoute(e,t,r,i,o,l,d){return Od(i,t,o,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,l):Yi(t):Yi(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ap(o):this.lineralizeSegments(r,o).pipe((0,en.z)(l=>{const d=new Kt(l,{});return this.expandSegment(e,d,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,l){const{matched:d,consumedSegments:p,remainingSegments:v,positionalParamSegments:y}=zd(t,i,o);if(!d)return Yi(t);const D=this.applyRedirectCommands(p,i.redirectTo,y);return i.redirectTo.startsWith("/")?Ap(D):this.lineralizeSegments(i,D).pipe((0,en.z)(x=>this.expandSegment(e,t,r,x.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=_p(r,e),r.loadChildren?(r._loadedRoutes?tt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Ke.U)(d=>(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,new Kt(i,{})))):tt(new Kt(i,{}))):V4(t,r,i,e).pipe(_n(({matched:l,consumedSegments:d,remainingSegments:p})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,en.z)(y=>{const D=y.injector??e,x=y.routes,{segmentGroup:H,slicedSegments:z}=kd(t,d,p,x),U=new Kt(H.segments,H.children);if(0===z.length&&U.hasChildren())return this.expandChildren(D,x,U).pipe((0,Ke.U)(ge=>new Kt(d,ge)));if(0===x.length&&0===z.length)return tt(new Kt(d,{}));const q=Rr(r)===o;return this.expandSegment(D,U,x,z,q?E:o,!0).pipe((0,Ke.U)(ue=>new Kt(d.concat(ue.segments),ue.children)))})):Yi(t)))}getChildConfig(e,t,r){return t.children?tt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?tt({routes:t._loadedRoutes,injector:t._loadedInjector}):function nb(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?tt(!0):tt(i.map(l=>{const d=ia(l,n);return u1(function E0(n){return n&&J3(n.canLoad)}(d)?d.canLoad(e,t):n.runInContext(()=>d(e,t)))})).pipe(H4(),I4())}(e,t,r).pipe((0,en.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(Ht(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function cb(n){return zs(K3(L4,3))}())):tt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return tt(r);if(i.numberOfChildren>1||!i.children[E])return zs(new s.vHH(4e3,L4));i=i.children[E]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new ks(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Kn(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const d=i.substring(1);r[o]=t[d]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let l={};return Kn(t.children,(d,p)=>{l[p]=this.createSegmentGroup(e,d,r,i)}),new Kt(o,l)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new s.vHH(4001,L4);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class z4{}class fb{constructor(e,t,r,i,o,l,d,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d,this.urlSerializer=p}recognize(){const e=kd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,E).pipe((0,Ke.U)(t=>{if(null===t)return null;const r=new bd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},E,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Wi(r,t),o=new Gy(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=yd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,on.D)(Object.keys(r.children)).pipe(Or(i=>{const o=r.children[i],l=bp(t,i);return this.processSegmentGroup(e,l,o,i)}),s2((i,o)=>i&&o?(i.push(...o),i):null),function m(n,e=!1){return(0,vn.e)((t,r)=>{let i=0;t.subscribe((0,fn.x)(r,o=>{const l=n(o,i++);(l||e)&&r.next(o),!l&&r.complete()}))})}(i=>null!==i),ji(null),b(),(0,Ke.U)(i=>{if(null===i)return null;const o=hb(i);return function cN(n){n.sort((e,t)=>e.value.outlet===E?-1:t.value.outlet===E?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return(0,on.D)(t).pipe(Or(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,o)),Tr(l=>!!l),ei(l=>{if(Fs(l))return A0(r,i,o)?tt([]):tt(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!Od(t,r,i,o))return tt(null);let l;if("**"===t.path){const d=i.length>0?S1(i).parameters:{},p=Pd(r)+i.length;l=tt({snapshot:new bd(i,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Rd(t),Rr(t),t.component??t._loadedComponent??null,t,pb(r),p,Lp(t),p),consumedSegments:[],remainingSegments:[]})}else l=V4(r,t,i,e).pipe((0,Ke.U)(({matched:d,consumedSegments:p,remainingSegments:v,parameters:y})=>{if(!d)return null;const D=Pd(r)+p.length;return{snapshot:new bd(p,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Rd(t),Rr(t),t.component??t._loadedComponent??null,t,pb(r),D,Lp(t),D),consumedSegments:p,remainingSegments:v}}));return l.pipe(_n(d=>{if(null===d)return tt(null);const{snapshot:p,consumedSegments:v,remainingSegments:y}=d;e=t._injector??e;const D=t._loadedInjector??e,x=function lN(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:H,slicedSegments:z}=kd(r,v,y,x.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);if(0===z.length&&H.hasChildren())return this.processChildren(D,x,H).pipe((0,Ke.U)(q=>null===q?null:[new Wi(p,q)]));if(0===x.length&&0===z.length)return tt([new Wi(p,[])]);const U=Rr(t)===o;return this.processSegment(D,x,H,z,U?E:o).pipe((0,Ke.U)(q=>null===q?null:[new Wi(p,q)]))}))}}function Hp(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hb(n){const e=[],t=new Set;for(const r of n){if(!Hp(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=hb(r.children);e.push(new Wi(r.value,i))}return e.filter(r=>!t.has(r))}function pb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Pd(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Rd(n){return n.data||{}}function Lp(n){return n.resolve||{}}function kp(n){return"string"==typeof n.title||null===n.title}function Fd(n){return _n(e=>{const t=n(e);return t?(0,on.D)(t).pipe((0,Ke.U)(()=>e)):tt(e)})}let Ud=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===E);return r}getResolvedTitleForRoute(t){return t.data[I]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Op)},providedIn:"root"}),n})(),Op=(()=>{class n extends Ud{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(W1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Cb{}class Pp extends class Pt{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const e6=new s.OlP("",{providedIn:"root",factory:()=>({})}),Bd=new s.OlP("ROUTES");let V0=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return tt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=u1(t.loadComponent()).pipe(Ht(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),w(()=>{this.componentLoaders.delete(t)})),i=new h0(r,()=>new Yt.x).pipe(ur());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return tt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Ke.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,v,y=!1;Array.isArray(d)?v=d:(p=d.create(t).injector,v=Pr(p.get(Bd,[],s.XFs.Self|s.XFs.Optional)));return{routes:v.map(D0),injector:p}}),w(()=>{this.childrenLoaders.delete(r)})),l=new h0(o,()=>new Yt.x).pipe(ur());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return u1(t()).pipe((0,en.z)(r=>r instanceof s.YKP||Array.isArray(r)?tt(r):(0,on.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yb{}class Up{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function bb(n){throw n}function dN(n,e,t){return e.parse("/")}const Bp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function $p(){const n=(0,s.f3M)(J9),e=(0,s.f3M)(In),t=(0,s.f3M)(Oe),r=(0,s.f3M)(s.zs3),i=(0,s.f3M)(s.Sil),o=(0,s.f3M)(Bd,{optional:!0})??[],l=(0,s.f3M)(e6,{optional:!0})??{},d=(0,s.f3M)(Op),p=(0,s.f3M)(Ud,{optional:!0}),v=(0,s.f3M)(yb,{optional:!0}),y=(0,s.f3M)(Cb,{optional:!0}),D=new Sn(null,n,e,t,r,i,Pr(o));return v&&(D.urlHandlingStrategy=v),y&&(D.routeReuseStrategy=y),D.titleStrategy=p??d,function oa(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,D),D}let Sn=(()=>{class n{constructor(t,r,i,o,l,d,p){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yt.x,this.errorHandler=bb,this.malformedUriErrorHandler=dN,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>tt(void 0),this.urlHandlingStrategy=new Up,this.routeReuseStrategy=new Pp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=l.get(V0),this.configLoader.onLoadEndListener=x=>this.triggerEvent(new Fy(x)),this.configLoader.onLoadStartListener=x=>this.triggerEvent(new x4(x)),this.ngModule=l.get(s.h0i),this.console=l.get(s.c2e);const D=l.get(s.R0b);this.isNgZoneEnabled=D instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function g0(){return new ks(new Kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=A4(this.currentUrlTree,this.rootComponentType),this.transitions=new f2({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(gn(i=>0!==i.id),(0,Ke.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),_n(i=>{let o=!1,l=!1;return tt(i).pipe(Ht(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_n(d=>{const p=this.browserUrlTree.toString(),v=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Gp(d.source)&&(this.browserUrlTree=d.extractedUrl),tt(d).pipe(_n(D=>{const x=this.transitions.getValue();return r.next(new M0(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),x!==this.transitions.getValue()?Dr.E:Promise.resolve(D)}),function Np(n,e,t,r){return _n(i=>function lb(n,e,t,r,i){return new ub(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ke.U)(o=>({...i,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ht(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},i.urlAfterRedirects=D.urlAfterRedirects}),function gb(n,e,t,r,i,o){return(0,en.z)(l=>function db(n,e,t,r,i,o,l="emptyOnly",d="legacy"){return new fb(n,e,t,r,i,l,d,o).recognize().pipe(_n(p=>null===p?function Qi(n){return new Un.y(e=>e.error(n))}(new z4):tt(p)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,i,o).pipe((0,Ke.U)(d=>({...l,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Ht(D=>{if(i.targetSnapshot=D.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(H,D)}this.browserUrlTree=D.urlAfterRedirects}const x=new ky(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);r.next(x)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:H,source:z,restoredState:U,extras:q}=d,re=new M0(x,this.serializeUrl(H),z,U);r.next(re);const ue=A4(H,this.rootComponentType).snapshot;return tt(i={...d,targetSnapshot:ue,urlAfterRedirects:H,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),Dr.E}),Ht(d=>{const p=new Oy(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,Ke.U)(d=>i={...d,guards:Nd(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function Jy(n,e){return(0,en.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=t;return 0===l.length&&0===o.length?tt({...t,guardsResult:!0}):function Xy(n,e,t,r){return(0,on.D)(n).pipe((0,en.z)(i=>function aN(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?tt(o.map(d=>{const p=N4(e)??i,v=ia(d,p);return u1(function Vd(n){return n&&J3(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):p.runInContext(()=>v(n,e,t,r))).pipe(Tr())})).pipe(H4()):tt(!0)}(i.component,i.route,t,e,r)),Tr(i=>!0!==i,!0))}(l,r,i,n).pipe((0,en.z)(d=>d&&function Id(n){return"boolean"==typeof n}(d)?function Ld(n,e,t,r){return(0,on.D)(e).pipe(Or(i=>M4(function Tp(n,e){return null!==n&&e&&e(new Uy(n)),tt(!0)}(i.route.parent,r),function eb(n,e){return null!==n&&e&&e(new jy(n)),tt(!0)}(i.route,r),function Ep(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(l=>function wp(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>L3(()=>tt(l.guards.map(p=>{const v=N4(l.node)??t,y=ia(p,v);return u1(function Sp(n){return n&&J3(n.canActivateChild)}(y)?y.canActivateChild(r,n):v.runInContext(()=>y(r,n))).pipe(Tr())})).pipe(H4())));return tt(o).pipe(H4())}(n,i.path,t),function tb(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return tt(!0);const i=r.map(o=>L3(()=>{const l=N4(e)??t,d=ia(o,l);return u1(function sa(n){return n&&J3(n.canActivate)}(d)?d.canActivate(e,n):l.runInContext(()=>d(e,n))).pipe(Tr())}));return tt(i).pipe(H4())}(n,i.route,t))),Tr(i=>!0!==i,!0))}(r,o,n,e):tt(d)),(0,Ke.U)(d=>({...t,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),Ht(d=>{if(i.guardsResult=d.guardsResult,ti(d.guardsResult))throw wd(0,d.guardsResult);const p=new Py(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),gn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Fd(d=>{if(d.guards.canActivateChecks.length)return tt(d).pipe(Ht(p=>{const v=new Ry(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),_n(p=>{let v=!1;return tt(p).pipe(function T1(n,e){return(0,en.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return tt(t);let o=0;return(0,on.D)(i).pipe(Or(l=>function mb(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!kp(i)&&(o[I]=i.title),function zp(n,e,t,r){const i=function vb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return tt({});const o={};return(0,on.D)(i).pipe((0,en.z)(l=>function _b(n,e,t,r){const i=N4(e)??r,o=ia(n,i);return u1(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[l],e,t,r).pipe(Tr(),Ht(d=>{o[l]=d}))),Ko(1),_(o),ei(l=>Fs(l)?Dr.E:zs(l)))}(o,n,e,r).pipe((0,Ke.U)(l=>(n._resolvedData=l,n.data=yd(n,t).resolve,i&&kp(i)&&(n.data[I]=i.title),null)))}(l.route,r,n,e)),Ht(()=>o++),Ko(1),(0,en.z)(l=>o===i.length?tt(t):Dr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ht({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),Ht(p=>{const v=new Zi(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}))}),Fd(d=>{const p=v=>{const y=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(v.routeConfig).pipe(Ht(D=>{v.component=D}),(0,Ke.U)(()=>{})));for(const D of v.children)y.push(...p(D));return y};return Vs(p(d.targetSnapshot.root)).pipe(ji(),On(1))}),Fd(()=>this.afterPreactivation()),(0,Ke.U)(d=>{const p=function mp(n,e,t){const r=W3(n,e._root,t?t._root:void 0);return new ii(r,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return i={...d,targetRouterState:p}}),Ht(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,Ke.U)(r=>(new Ad(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),Ht({next(){o=!0},complete(){o=!0}}),w(()=>{o||l||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ei(d=>{if(l=!0,S0(d)){Sd(d)||(this.navigated=!0,this.restoreHistory(i,!0));const p=new ri(i.id,this.serializeUrl(i.extractedUrl),d.message,d.cancellationCode);if(r.next(p),Sd(d)){const v=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gp(i.source)};this.scheduleNavigation(v,"imperative",null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const p=new lp(i.id,this.serializeUrl(i.extractedUrl),d,i.targetSnapshot??void 0);r.next(p);try{i.resolve(this.errorHandler(d))}catch(v){i.reject(v)}}return Dr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},o=t.state?.navigationId?t.state:null;if(o){const d={...o};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(i.state=d)}const l=this.parseUrl(t.url);this.scheduleNavigation(l,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(D0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:l,queryParamsHandling:d,preserveFragment:p}=r,v=i||this.routerState.root,y=p?this.currentUrlTree.fragment:l;let D=null;switch(d){case"merge":D={...this.currentUrlTree.queryParams,...o};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=o||null}return null!==D&&(D=this.removeEmptyProps(D)),j3(v,this.currentUrlTree,t,D,y??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ti(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function jd(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new s.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Bp}:!1===r?{...jp}:r,ti(t))return O3(this.currentUrlTree,t,i);const o=this.parseUrl(t);return O3(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ps(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,l){if(this.disposed)return Promise.resolve(!1);let d,p,v;l?(d=l.resolve,p=l.reject,v=l.promise):v=new Promise((x,H)=>{d=x,p=H});const y=++this.navigationId;let D;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),D=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):D=0,this.setTransition({id:y,targetPageId:D,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:d,reject:p,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(x=>Promise.reject(x))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const o=new ri(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return $p()},providedIn:"root"}),n})();function Gp(n){return"imperative"!==n}let E1=(()=>{class n{constructor(t,r,i,o,l){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Yt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,s.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,s.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,s.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Sn),s.Y36(Er),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&s.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})(),si=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Yt.x,this.subscription=t.events.subscribe(o=>{o instanceof Ps&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,s.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,s.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,s.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,o,l){return!!(0!==t||r||i||o||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Sn),s.Y36(Er),s.Y36(oe))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&s.NdJ("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&s.uIk("target",r.target)("href",r.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class $d{}let k4=(()=>{class n{constructor(t,r,i,o,l){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(gn(t=>t instanceof Ps),Or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,t,`Route: ${o.path}`));const l=o._injector??t,d=o._loadedInjector??l;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?i.push(this.preloadConfig(l,o)):(o.children||o._loadedRoutes)&&i.push(this.processRoutes(d,o.children??o._loadedRoutes))}return(0,on.D)(i).pipe((0,Wo.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):tt(null);const o=i.pipe((0,en.z)(l=>null===l?tt(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,on.D)([o,l]).pipe((0,Wo.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Sn),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG($d),s.LFG(V0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gd=new s.OlP("");let qd=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof M0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ps&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof up&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new up(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function O4(n,e){return{\u0275kind:n,\u0275providers:e}}function Wd(n){return[{provide:Bd,multi:!0,useValue:n}]}function qp(){const n=(0,s.f3M)(s.zs3);return e=>{const t=n.get(s.z2F);if(e!==t.components[0])return;const r=n.get(Sn),i=n.get(Zp);1===n.get(z0)&&r.initialNavigation(),n.get(k0,null,s.XFs.Optional)?.setUpPreloading(),n.get(Gd,null,s.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Zp=new s.OlP("",{factory:()=>new Yt.x}),z0=new s.OlP("",{providedIn:"root",factory:()=>1});const k0=new s.OlP("");function mN(n){return O4(0,[{provide:k0,useExisting:k4},{provide:$d,useExisting:n}])}const ca=new s.OlP("ROUTER_FORROOT_GUARD"),Qp=[Oe,{provide:J9,useClass:ad},{provide:Sn,useFactory:$p},In,{provide:Er,useFactory:function Zd(n){return n.routerState.root},deps:[Sn]},V0];function Jp(){return new s.PXZ("Router",Sn)}let t6=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Qp,[],Wd(t),{provide:ca,useFactory:Kd,deps:[[Sn,new s.FiY,new s.tp0]]},{provide:e6,useValue:r||{}},r?.useHash?{provide:oe,useClass:it}:{provide:oe,useClass:rt},{provide:Gd,useFactory:()=>{const n=(0,s.f3M)(Sn),e=(0,s.f3M)(Ul),t=(0,s.f3M)(e6);return t.scrollOffset&&e.setOffset(t.scrollOffset),new qd(n,e,t)}},r?.preloadingStrategy?mN(r.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:Jp},r?.initialNavigation?Ji(r):[],[{provide:P0,useFactory:qp},{provide:s.tb,multi:!0,useExisting:P0}]]}}static forChild(t){return{ngModule:n,providers:[Wd(t)]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ca,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ed]}),n})();function Kd(n){return"guarded"}function Ji(n){return["disabled"===n.initialNavigation?O4(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const e=(0,s.f3M)(Sn);return()=>{e.setUpLocationChangeListener()}}},{provide:z0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?O4(2,[{provide:z0,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:e=>{const t=e.get(G,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(o=>{const l=e.get(Sn),d=e.get(Zp);(function i(o){e.get(Sn).events.pipe(gn(d=>d instanceof Ps||d instanceof ri||d instanceof lp),(0,Ke.U)(d=>d instanceof Ps||d instanceof ri&&(0===d.code||1===d.code)&&null),gn(d=>null!==d),On(1)).subscribe(()=>{o()})})(()=>{o(!0),r=!0}),l.afterPreactivation=()=>(o(!0),r||d.closed?tt(void 0):d),l.initialNavigation()}))}}]).\u0275providers:[]]}const P0=new s.OlP("");var Rt=O(9681);(0,Rt.registerVersion)("firebase","9.15.0","app");var W=O(5861),st=O(2090),xr=O(4859),Fr=O(1877),Bs=O(8766);const Db="@firebase/installations",ig="w:0.6.0",sg="FIS_v2",oi=new st.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function cg(n){return n instanceof st.ZR&&n.code.includes("request-failed")}function n6({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Eb(n){return{token:n.token,requestStatus:2,expiresIn:yN(n.expiresIn),creationTime:Date.now()}}function lg(n,e){return ug.apply(this,arguments)}function ug(){return(ug=(0,W.Z)(function*(n,e){const r=(yield e.json()).error;return oi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function xb({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Ab(n,{refreshToken:e}){const t=xb(n);return t.append("Authorization",function bN(n){return`${sg} ${n}`}(e)),t}function dg(n){return fg.apply(this,arguments)}function fg(){return(fg=(0,W.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function yN(n){return Number(n.replace("s","000"))}function MN(n,e){return ai.apply(this,arguments)}function ai(){return(ai=(0,W.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=n6(n),i=xb(n),o=e.getImmediate({optional:!0});if(o){const v=yield o.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const d={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:sg,appId:n.appId,sdkVersion:ig})},p=yield dg(()=>fetch(r,d));if(p.ok){const v=yield p.json();return{fid:v.fid||t,registrationStatus:2,refreshToken:v.refreshToken,authToken:Eb(v.authToken)}}throw yield lg("Create Installation",p)})).apply(this,arguments)}function R0(n){return new Promise(e=>{setTimeout(e,n)})}const hg=/^[cdef][\w-]{21}$/;function pg(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Qd(n){return function Nb(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return hg.test(t)?t:""}catch{return""}}function P4(n){return`${n.appName}!${n.appId}`}const Ur=new Map;function Jd(n,e){const t=P4(n);Xd(t,e),function Vb(n,e){const t=function i6(){return!la&&"BroadcastChannel"in self&&(la=new BroadcastChannel("[Firebase] FID Change"),la.onmessage=n=>{Xd(n.data.key,n.data.fid)}),la}();t&&t.postMessage({key:n,fid:e}),function ua(){0===Ur.size&&la&&(la.close(),la=null)}()}(t,e)}function Xd(n,e){const t=Ur.get(n);if(t)for(const r of t)r(e)}let la=null;const Xi="firebase-installations-store";let F4=null;function F0(){return F4||(F4=(0,Bs.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Xi)}})),F4}function s6(n,e){return o6.apply(this,arguments)}function o6(){return(o6=(0,W.Z)(function*(n,e){const t=P4(n),i=(yield F0()).transaction(Xi,"readwrite"),o=i.objectStore(Xi),l=yield o.get(t);return yield o.put(e,t),yield i.done,(!l||l.fid!==e.fid)&&Jd(n,e.fid),e})).apply(this,arguments)}function a6(n){return U0.apply(this,arguments)}function U0(){return(U0=(0,W.Z)(function*(n){const e=P4(n),r=(yield F0()).transaction(Xi,"readwrite");yield r.objectStore(Xi).delete(e),yield r.done})).apply(this,arguments)}function da(n,e){return tf.apply(this,arguments)}function tf(){return(tf=(0,W.Z)(function*(n,e){const t=P4(n),i=(yield F0()).transaction(Xi,"readwrite"),o=i.objectStore(Xi),l=yield o.get(t),d=e(l);return void 0===d?yield o.delete(t):yield o.put(d,t),yield i.done,d&&(!l||l.fid!==d.fid)&&Jd(n,d.fid),d})).apply(this,arguments)}function gg(n){return nf.apply(this,arguments)}function nf(){return(nf=(0,W.Z)(function*(n){let e;const t=yield da(n.appConfig,r=>{const i=mg(r),o=Lb(n,i);return e=o.registrationPromise,o.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function mg(n){return _g(n||{fid:pg(),registrationStatus:0})}function Lb(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(oi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function vg(n,e){return B0.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:zb(n)}:{installationEntry:e}}function B0(){return(B0=(0,W.Z)(function*(n,e){try{const t=yield MN(n,e);return s6(n.appConfig,t)}catch(t){throw cg(t)&&409===t.customData.serverCode?yield a6(n.appConfig):yield s6(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function zb(n){return dr.apply(this,arguments)}function dr(){return(dr=(0,W.Z)(function*(n){let e=yield rf(n.appConfig);for(;1===e.registrationStatus;)yield R0(100),e=yield rf(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield gg(n);return r||t}return e})).apply(this,arguments)}function rf(n){return da(n,e=>{if(!e)throw oi.create("installation-not-found");return _g(e)})}function _g(n){return function wN(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function kb(n,e){return c6.apply(this,arguments)}function c6(){return(c6=(0,W.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=Cg(n,t),i=Ab(n,t),o=e.getImmediate({optional:!0});if(o){const v=yield o.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const d={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:ig,appId:n.appId}})},p=yield dg(()=>fetch(r,d));if(p.ok)return Eb(yield p.json());throw yield lg("Generate Auth Token",p)})).apply(this,arguments)}function Cg(n,{fid:e}){return`${n6(n)}/${e}/authTokens:generate`}function sf(n){return af.apply(this,arguments)}function af(){return(af=(0,W.Z)(function*(n,e=!1){let t;const r=yield da(n.appConfig,o=>{if(!Mg(o))throw oi.create("not-registered");const l=o.authToken;if(!e&&wg(l))return o;if(1===l.requestStatus)return t=Ob(n,e),o;{if(!navigator.onLine)throw oi.create("app-offline");const d=Pb(o);return t=bg(n,d),d}});return t?yield t:r.authToken})).apply(this,arguments)}function Ob(n,e){return j0.apply(this,arguments)}function j0(){return(j0=(0,W.Z)(function*(n,e){let t=yield yg(n.appConfig);for(;1===t.authToken.requestStatus;)yield R0(100),t=yield yg(n.appConfig);const r=t.authToken;return 0===r.requestStatus?sf(n,e):r})).apply(this,arguments)}function yg(n){return da(n,e=>{if(!Mg(e))throw oi.create("not-registered");return function ci(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function bg(n,e){return cf.apply(this,arguments)}function cf(){return(cf=(0,W.Z)(function*(n,e){try{const t=yield kb(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield s6(n.appConfig,r),t}catch(t){if(!cg(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield s6(n.appConfig,r)}else yield a6(n.appConfig);throw t}})).apply(this,arguments)}function Mg(n){return void 0!==n&&2===n.registrationStatus}function wg(n){return 2===n.requestStatus&&!function Sg(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function Pb(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function uf(){return(uf=(0,W.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield gg(e);return r?r.catch(console.error):sf(e).catch(console.error),t.fid})).apply(this,arguments)}function Dg(){return(Dg=(0,W.Z)(function*(n,e=!1){const t=n;return yield Tg(t),(yield sf(t,e)).token})).apply(this,arguments)}function Tg(n){return df.apply(this,arguments)}function df(){return(df=(0,W.Z)(function*(n){const{registrationPromise:e}=yield gg(n);e&&(yield e)})).apply(this,arguments)}function xg(n){return oi.create("missing-app-config-values",{valueName:n})}const G0="installations",Ag=n=>{const e=n.getProvider("app").getImmediate(),t=function $0(n){if(!n||!n.options)throw xg("App Configuration");if(!n.name)throw xg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw xg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Rt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},Ng=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Rt._getProvider)(e,G0).getImmediate();return{getId:()=>function lf(n){return uf.apply(this,arguments)}(t),getToken:i=>function Rb(n){return Dg.apply(this,arguments)}(t,i)}};(function Hg(){(0,Rt._registerComponent)(new xr.wA(G0,Ag,"PUBLIC")),(0,Rt._registerComponent)(new xr.wA("installations-internal",Ng,"PRIVATE"))})(),(0,Rt.registerVersion)(Db,"0.6.0"),(0,Rt.registerVersion)(Db,"0.6.0","esm2017");const q0="@firebase/remote-config",A2=new st.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qb{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,W.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&l.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(l),o})()}}function Zb(n=navigator){return n.languages&&n.languages[0]||n.language}class Wb{constructor(e,t,r,i,o,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=l}fetch(e){var t=this;return(0,W.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,d={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},p={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Zb()},v={method:"POST",headers:d,body:JSON.stringify(p)},y=fetch(l,v),D=new Promise((re,ue)=>{e.signal.addEventListener(()=>{const ge=new Error("The operation was aborted.");ge.name="AbortError",ue(ge)})});let x;try{yield Promise.race([y,D]),x=yield y}catch(re){let ue="fetch-client-network";throw"AbortError"===re?.name&&(ue="fetch-timeout"),A2.create(ue,{originalErrorMessage:re?.message})}let H=x.status;const z=x.headers.get("ETag")||void 0;let U,q;if(200===x.status){let re;try{re=yield x.json()}catch(ue){throw A2.create("fetch-client-parse",{originalErrorMessage:ue?.message})}U=re.entries,q=re.state}if("INSTANCE_STATE_UNSPECIFIED"===q?H=500:"NO_CHANGE"===q?H=304:("NO_TEMPLATE"===q||"EMPTY_CONFIG"===q)&&(U={}),304!==H&&200!==H)throw A2.create("fetch-status",{httpStatus:H});return{status:H,eTag:z,config:U}})()}}class ha{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,W.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,W.Z)(function*(){yield function Kb(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(A2.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function K0(n){if(!(n instanceof st.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const l={throttleEndTimeMillis:Date.now()+(0,st.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(l),i.attemptFetch(e,l)}})()}}class Yb{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Y0(n,e){const t=n.target.error||void 0;return A2.create(e,{originalErrorMessage:t&&t?.message})}const ts="app_namespace_store";class J2{constructor(e,t,r,i=function d6(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Y0(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ts,{keyPath:"compositeKey"})}}catch(t){e(A2.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,W.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const d=r.transaction([ts],"readonly").objectStore(ts),p=t.createCompositeKey(e);try{const v=d.get(p);v.onerror=y=>{o(Y0(y,"storage-get"))},v.onsuccess=y=>{const D=y.target.result;i(D?D.value:void 0)}}catch(v){o(A2.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,t){var r=this;return(0,W.Z)(function*(){const i=yield r.openDbPromise;return new Promise((o,l)=>{const p=i.transaction([ts],"readwrite").objectStore(ts),v=r.createCompositeKey(e);try{const y=p.put({compositeKey:v,value:t});y.onerror=D=>{l(Y0(D,"storage-set"))},y.onsuccess=()=>{o()}}catch(y){l(A2.create("storage-set",{originalErrorMessage:y?.message}))}})})()}delete(e){var t=this;return(0,W.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const d=r.transaction([ts],"readwrite").objectStore(ts),p=t.createCompositeKey(e);try{const v=d.delete(p);v.onerror=y=>{o(Y0(y,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){o(A2.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class pa{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,W.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const d=yield i;d&&(e.activeConfig=d)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function B4(){return js.apply(this,arguments)}function js(){return(js=(0,W.Z)(function*(){if(!(0,st.hl)())return!1;try{return yield(0,st.eu)()}catch{return!1}})).apply(this,arguments)}!function Q0(){(0,Rt._registerComponent)(new xr.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw A2.create("registration-window");if(!(0,st.hl)())throw A2.create("indexed-db-unavailable");const{projectId:o,apiKey:l,appId:d}=r.options;if(!o)throw A2.create("registration-project-id");if(!l)throw A2.create("registration-api-key");if(!d)throw A2.create("registration-app-id");const p=new J2(d,r.name,t=t||"firebase"),v=new pa(p),y=new Fr.Yd(q0);y.logLevel=Fr.in.ERROR;const D=new Wb(i,Rt.SDK_VERSION,t,o,l,d),x=new ha(D,p),H=new qb(x,p,v,y),z=new Yb(r,H,v,p,y);return function xN(n){const e=(0,st.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(z),z},"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(q0,"0.4.0"),(0,Rt.registerVersion)(q0,"0.4.0","esm2017")}();const j4="/firebase-messaging-sw.js",$4="/firebase-cloud-messaging-push-scope",ga="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ma="google.c.a.c_id",q4="google.c.a.c_l",Z4="google.c.a.ts",zg="google.c.a.e";var va=(()=>{return(n=va||(va={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",va;var n})();function ui(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function kg(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const J0="fcm_token_details_db",Cf="fcm_token_object_Store";function Pg(n){return yf.apply(this,arguments)}function yf(){return yf=(0,W.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(J0))return null;let e=null;return(yield(0,Bs.X3)(J0,5,{upgrade:(r=(0,W.Z)(function*(i,o,l,d){var p;if(o<2||!i.objectStoreNames.contains(Cf))return;const v=d.objectStore(Cf),y=yield v.index("fcmSenderId").get(n);if(yield v.clear(),y)if(2===o){const D=y;if(!D.auth||!D.p256dh||!D.endpoint)return;e={token:D.fcmToken,createTime:null!==(p=D.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:D.auth,p256dh:D.p256dh,endpoint:D.endpoint,swScope:D.swScope,vapidKey:"string"==typeof D.vapidKey?D.vapidKey:ui(D.vapidKey)}}}else if(3===o){const D=y;e={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:ui(D.auth),p256dh:ui(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:ui(D.vapidKey)}}}else if(4===o){const D=y;e={token:D.fcmToken,createTime:D.createTime,subscriptionOptions:{auth:ui(D.auth),p256dh:ui(D.p256dh),endpoint:D.endpoint,swScope:D.swScope,vapidKey:ui(D.vapidKey)}}}}),function(o,l,d,p){return r.apply(this,arguments)})})).close(),yield(0,Bs.Lj)(J0),yield(0,Bs.Lj)("fcm_vapid_details_db"),yield(0,Bs.Lj)("undefined"),Xb(e)?e:null;var r}),yf.apply(this,arguments)}function Xb(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const $s="firebase-messaging-store";let h6=null;function p6(){return h6||(h6=(0,Bs.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore($s)}})),h6}function Fg(n){return W4.apply(this,arguments)}function W4(){return(W4=(0,W.Z)(function*(n){const e=Q4(n),r=yield(yield p6()).transaction($s).objectStore($s).get(e);if(r)return r;{const i=yield Pg(n.appConfig.senderId);if(i)return yield K4(n,i),i}})).apply(this,arguments)}function K4(n,e){return g6.apply(this,arguments)}function g6(){return(g6=(0,W.Z)(function*(n,e){const t=Q4(n),i=(yield p6()).transaction($s,"readwrite");return yield i.objectStore($s).put(e,t),yield i.done,e})).apply(this,arguments)}function tM(n){return Y4.apply(this,arguments)}function Y4(){return(Y4=(0,W.Z)(function*(n){const e=Q4(n),r=(yield p6()).transaction($s,"readwrite");yield r.objectStore($s).delete(e),yield r.done})).apply(this,arguments)}function Q4({appConfig:n}){return n.appId}const N2=new st.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function bf(n,e){return X0.apply(this,arguments)}function X0(){return(X0=(0,W.Z)(function*(n,e){const t=yield tu(n),r=Sf(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(eu(n.appConfig),i)).json()}catch(l){throw N2.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(o.error)throw N2.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw N2.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function Bg(n,e){return m6.apply(this,arguments)}function m6(){return(m6=(0,W.Z)(function*(n,e){const t=yield tu(n),r=Sf(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${eu(n.appConfig)}/${e.token}`,i)).json()}catch(l){throw N2.create("token-update-failed",{errorInfo:l?.toString()})}if(o.error)throw N2.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw N2.create("token-update-no-token");return o.token})).apply(this,arguments)}function Mf(n,e){return wf.apply(this,arguments)}function wf(){return(wf=(0,W.Z)(function*(n,e){const r={method:"DELETE",headers:yield tu(n)};try{const o=yield(yield fetch(`${eu(n.appConfig)}/${e}`,r)).json();if(o.error)throw N2.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw N2.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function eu({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function tu(n){return nu.apply(this,arguments)}function nu(){return(nu=(0,W.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function Sf({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==ga&&(i.web.applicationPubKey=r),i}const nM=6048e5;function jg(n){return ru.apply(this,arguments)}function ru(){return(ru=(0,W.Z)(function*(n){const e=yield Gg(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ui(e.getKey("auth")),p256dh:ui(e.getKey("p256dh"))},r=yield Fg(n.firebaseDependencies);if(r){if(qg(r.subscriptionOptions,t))return Date.now()>=r.createTime+nM?$g(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Mf(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Df(n.firebaseDependencies,t)}return Df(n.firebaseDependencies,t)})).apply(this,arguments)}function iu(n){return J4.apply(this,arguments)}function J4(){return(J4=(0,W.Z)(function*(n){const e=yield Fg(n.firebaseDependencies);e&&(yield Mf(n.firebaseDependencies,e.token),yield tM(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function $g(n,e){return su.apply(this,arguments)}function su(){return(su=(0,W.Z)(function*(n,e){try{const t=yield Bg(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield K4(n.firebaseDependencies,r),t}catch(t){throw yield iu(n),t}})).apply(this,arguments)}function Df(n,e){return ou.apply(this,arguments)}function ou(){return(ou=(0,W.Z)(function*(n,e){const r={token:yield bf(n,e),createTime:Date.now(),subscriptionOptions:e};return yield K4(n,r),r.token})).apply(this,arguments)}function Gg(n,e){return au.apply(this,arguments)}function au(){return(au=(0,W.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:kg(e)})})).apply(this,arguments)}function qg(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function Tf(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function VN(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function rM(n,e){!e.data||(n.data=e.data)}(e,n),function iM(n,e){var t,r,i,o,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const d=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;d&&(n.fcmOptions.link=d);const p=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;p&&(n.fcmOptions.analyticsLabel=p)}(e,n),e}function Zg(n){return"object"==typeof n&&!!n&&ma in n}function Wg(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function cu(n){return N2.create("missing-app-config-values",{valueName:n})}Wg("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wg("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class sM{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function M2(n){if(!n||!n.options)throw cu("App Configuration Object");if(!n.name)throw cu("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw cu(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Kg(n){return lu.apply(this,arguments)}function lu(){return(lu=(0,W.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(j4,{scope:$4}),n.swRegistration.update().catch(()=>{})}catch(e){throw N2.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function oM(n,e){return uu.apply(this,arguments)}function uu(){return(uu=(0,W.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield Kg(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw N2.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Yg(n,e){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,W.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=ga)})).apply(this,arguments)}function Ef(){return(Ef=(0,W.Z)(function*(n,e){if(!navigator)throw N2.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw N2.create("permission-blocked");return yield Yg(n,e?.vapidKey),yield oM(n,e?.serviceWorkerRegistration),jg(n)})).apply(this,arguments)}function Jg(n,e,t){return xf.apply(this,arguments)}function xf(){return(xf=(0,W.Z)(function*(n,e,t){const r=Xg(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[ma],message_name:t[q4],message_time:t[Z4],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xg(n){switch(n){case va.NOTIFICATION_CLICKED:return"notification_open";case va.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function v6(){return(v6=(0,W.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===va.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Tf(t)):n.onMessageHandler.next(Tf(t)));const r=t.data;Zg(r)&&"1"===r[zg]&&(yield Jg(n,t.messageType,r))})).apply(this,arguments)}const du="@firebase/messaging",aM=n=>{const e=new sM(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function LN(n,e){return v6.apply(this,arguments)}(e,t)),e},em=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function Qg(n,e){return Ef.apply(this,arguments)}(e,r)}};function d1(){return Br.apply(this,arguments)}function Br(){return(Br=(0,W.Z)(function*(){try{yield(0,st.eu)()}catch{return!1}return typeof window<"u"&&(0,st.hl)()&&(0,st.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function di(){(0,Rt._registerComponent)(new xr.wA("messaging",aM,"PUBLIC")),(0,Rt._registerComponent)(new xr.wA("messaging-internal",em,"PRIVATE")),(0,Rt.registerVersion)(du,"0.12.0"),(0,Rt.registerVersion)(du,"0.12.0","esm2017")}();const pu="analytics",rm="firebase_id",sm="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_6="https://www.googletagmanager.com/gtag/js",k2=new Fr.Yd("@firebase/analytics");function Nf(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function om(n,e){const t=document.createElement("script");t.src=`${_6}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function gu(n,e,t,r,i,o){return C6.apply(this,arguments)}function C6(){return(C6=(0,W.Z)(function*(n,e,t,r,i,o){const l=r[i];try{if(l)yield e[l];else{const p=(yield Nf(t)).find(v=>v.measurementId===i);p&&(yield e[p.appId])}}catch(d){k2.error(d)}n("config",i,o)})).apply(this,arguments)}function If(n,e,t,r,i){return mu.apply(this,arguments)}function mu(){return(mu=(0,W.Z)(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const d=yield Nf(t);for(const p of l){const v=d.find(D=>D.measurementId===p),y=v&&e[v.appId];if(!y){o=[];break}o.push(y)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){k2.error(o)}})).apply(this,arguments)}function lm(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(_6)&&t.src.includes(n))return t;return null}const Ar=new st.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),dm=new class fM{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function hM(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function pM(n){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,W.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:hM(r)},o=sm.replace("{app-id}",t),l=yield fetch(o,i);if(200!==l.status&&304!==l.status){let d="";try{const p=yield l.json();null!==(e=p.error)&&void 0!==e&&e.message&&(d=p.error.message)}catch{}throw Ar.create("config-fetch-failed",{httpStatus:l.status,responseMessage:d})}return l.json()})).apply(this,arguments)}function gM(n){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,W.Z)(function*(n,e=dm,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Ar.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Ar.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new _M;return setTimeout((0,W.Z)(function*(){d.abort()}),void 0!==t?t:6e4),fm({appId:r,apiKey:i,measurementId:o},l,d,e)})).apply(this,arguments)}function fm(n,e,t){return zf.apply(this,arguments)}function zf(){return(zf=(0,W.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=dm){var o;const{appId:l,measurementId:d}=n;try{yield mM(r,e)}catch(p){if(d)return k2.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:d};throw p}try{const p=yield pM(n);return i.deleteThrottleMetadata(l),p}catch(p){const v=p;if(!vM(v)){if(i.deleteThrottleMetadata(l),d)return k2.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:l,measurementId:d};throw p}const y=503===Number(null===(o=v?.customData)||void 0===o?void 0:o.httpStatus)?(0,st.$s)(t,i.intervalMillis,30):(0,st.$s)(t,i.intervalMillis),D={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return i.setThrottleMetadata(l,D),k2.debug(`Calling attemptFetch again in ${y} millis`),fm(n,D,r,i)}})).apply(this,arguments)}function mM(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Ar.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function vM(n){if(!(n instanceof st.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class _M{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let kf,bu;function Of(){return(Of=(0,W.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function Pf(n){bu=n}function Mu(n){kf=n}function mm(){return ns.apply(this,arguments)}function ns(){return(ns=(0,W.Z)(function*(){if(!(0,st.hl)())return k2.warn(Ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,st.eu)()}catch(n){return k2.warn(Ar.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function Rf(){return(Rf=(0,W.Z)(function*(n,e,t,r,i,o,l){var d;const p=gM(n);p.then(H=>{t[H.measurementId]=H.appId,n.options.measurementId&&H.measurementId!==n.options.measurementId&&k2.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${H.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(H=>k2.error(H)),e.push(p);const v=mm().then(H=>{if(H)return r.getId()}),[y,D]=yield Promise.all([p,v]);lm(o)||om(o,y.measurementId),bu&&(i("consent","default",bu),Pf(void 0)),i("js",new Date);const x=null!==(d=l?.config)&&void 0!==d?d:{};return x.origin="firebase",x.update=!0,null!=D&&(x[rm]=D),i("config",y.measurementId,x),kf&&(i("set",kf),Mu(void 0)),y.measurementId})).apply(this,arguments)}class X4{constructor(e){this.app=e}_delete(){return delete qs[this.app.options.appId],Promise.resolve()}}let qs={},wu=[];const MM={};let wM,ft,y6="dataLayer",Uf=!1;function ec(n,e,t){!function SM(){const n=[];if((0,st.ru)()&&n.push("This is a browser extension environment."),(0,st.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Ar.create("invalid-analytics-context",{errorInfo:e});k2.warn(t.message)}}();const r=n.options.appId;if(!r)throw Ar.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Ar.create("no-api-key");k2.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qs[r])throw Ar.create("already-exists",{id:r});if(!Uf){!function Hf(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(y6);const{wrappedGtag:o,gtagCore:l}=function cm(n,e,t,r,i){let o=function(...l){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function am(n,e,t,r){function o(){return(o=(0,W.Z)(function*(l,d,p){try{"event"===l?yield If(n,e,t,d,p):"config"===l?yield gu(n,e,t,r,d,p):"consent"===l?n("consent","update",p):n("set",d)}catch(v){k2.error(v)}})).apply(this,arguments)}return function i(l,d,p){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(qs,wu,MM,y6,"gtag");ft=o,wM=l,Uf=!0}return qs[r]=function bM(n,e,t,r,i,o,l){return Rf.apply(this,arguments)}(n,wu,MM,e,wM,y6,t),new X4(n)}function Du(){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,W.Z)(function*(){if((0,st.ru)()||!(0,st.zI)()||!(0,st.hl)())return!1;try{return yield(0,st.eu)()}catch{return!1}})).apply(this,arguments)}const Bf="@firebase/analytics";!function AM(){(0,Rt._registerComponent)(new xr.wA(pu,(e,{options:t})=>ec(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Rt._registerComponent)(new xr.wA("analytics-internal",function n(e){try{const t=e.getProvider(pu).getImmediate();return{logEvent:(r,i,o)=>function vm(n,e,t,r){n=(0,st.m9)(n),function CM(n,e,t,r,i){return Of.apply(this,arguments)}(ft,qs[n.app.options.appId],e,t,r).catch(i=>k2.error(i))}(t,r,i,o)}}catch(t){throw Ar.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Rt.registerVersion)(Bf,"0.9.0"),(0,Rt.registerVersion)(Bf,"0.9.0","esm2017")}();class NM extends w4.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Zs={setInterval(n,e,...t){const{delegate:r}=Zs;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Zs;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var HM=O(8737);class Cm extends NM{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Zs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Zs.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,HM.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const tc={now:()=>(tc.delegate||Date).now(),delegate:void 0};class nc{constructor(e,t=nc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}nc.now=tc.now;class jf extends nc{constructor(e,t=nc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const VM=new class ym extends jf{}(class IM extends Cm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Ws=new jf(Cm),LM=Ws;var b6=O(9468),rc=O(5363);const ic=new s.GfV("7.4.1"),Eu="__angularfire_symbol__analyticsIsSupportedValue",xu="__angularfire_symbol__analyticsIsSupported",$f="__angularfire_symbol__remoteConfigIsSupportedValue",Au="__angularfire_symbol__remoteConfigIsSupported",Gf="__angularfire_symbol__messagingIsSupportedValue",qf="__angularfire_symbol__messagingIsSupported";function M6(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(l=>l.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[xu]||(globalThis[xu]=Du().then(n=>globalThis[Eu]=n).catch(()=>globalThis[Eu]=!1)),globalThis[qf]||(globalThis[qf]=d1().then(n=>globalThis[Gf]=n).catch(()=>globalThis[Gf]=!1)),globalThis[Au]||(globalThis[Au]=B4().then(n=>globalThis[$f]=n).catch(()=>globalThis[$f]=!1));const _a=(n,e)=>{const t=e?[e]:(0,Rt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function sc(){}class Mm{constructor(e,t=VM){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(l){i.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class wm{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sc,{},sc,sc)),t.pipe(Ht({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fi=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Mm(Zone.current)),this.insideAngular=t.run(()=>new Mm(Zone.current,Ws)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ca(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function zM(n){return Ca().ngZone.runOutsideAngular(()=>n())}function ya(n){return Ca().ngZone.run(()=>n())}function Nr(n){return Ca(),function kM(n){return function(t){return(t=t.lift(new wm(n.ngZone))).pipe((0,b6.R)(n.outsideAngular),(0,rc.Q)(n.insideAngular))}}(Ca())(n)}const OM=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ya(()=>n.apply(void 0,r))},X2=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=ya(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sc,{},sc,sc)))),r[o]=OM(r[o],t));const i=zM(()=>n.apply(this,r));if(!e){if(i instanceof Un.y){const o=Ca();return i.pipe((0,b6.R)(o.outsideAngular),(0,rc.Q)(o.insideAngular))}return ya(()=>i)}return i instanceof Un.y?i.pipe(Nr):i instanceof Promise?ya(()=>new Promise((o,l)=>i.then(d=>ya(()=>o(d)),d=>ya(()=>l(d))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ya(()=>i)};class ba{constructor(e){return e}}class w6{constructor(){return(0,Rt.getApps)()}}const Zf=new s.OlP("angularfire2._apps"),Dm={provide:ba,useFactory:function Sm(n){return n&&1===n.length?n[0]:new ba((0,Rt.getApp)())},deps:[[new s.FiY,Zf]]},PM={provide:w6,deps:[[new s.FiY,Zf]]};function Wf(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ba(r)}}let RM=(()=>{class n{constructor(t){(0,Rt.registerVersion)("angularfire",ic.full,"core"),(0,Rt.registerVersion)("angularfire",ic.full,"app"),(0,Rt.registerVersion)("angular",s.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.Lbi))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Dm,PM]}),n})();function Tm(n,...e){return{ngModule:RM,providers:[{provide:Zf,useFactory:Wf(n),multi:!0,deps:[s.R0b,s.zs3,fi,...e]}]}}const UM=X2(Rt.initializeApp,!0),Kf=new Map,xm={activated:!1,tokenObservers:[]},jM={initialized:!1,enabled:!1};function O2(n){return Kf.get(n)||Object.assign({},xm)}function Nu(){return jM}class Jf{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,W.Z)(function*(){t.stop();try{t.pending=new st.BH,yield function Hm(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new st.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const fr=new st.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Hu(n){if(!O2(n).activated)throw fr.create("use-before-activation",{appName:n.name})}function Xf(n,e){return e7.apply(this,arguments)}function e7(){return(e7=(0,W.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const D=yield i.getHeartbeatsHeader();D&&(r["X-Firebase-Client"]=D)}const o={method:"POST",body:JSON.stringify(e),headers:r};let l,d;try{l=yield fetch(n,o)}catch(D){throw fr.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==l.status)throw fr.create("fetch-status-error",{httpStatus:l.status});try{d=yield l.json()}catch(D){throw fr.create("fetch-parse-error",{originalErrorMessage:D?.message})}const p=d.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const v=1e3*Number(p[1]),y=Date.now();return{token:d.token,expireTimeMillis:y+v,issuedAtTimeMillis:y}})).apply(this,arguments)}function Im(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const S6="firebase-app-check-store";let D6=null;function Vu(){return D6||(D6=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(fr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(S6,{keyPath:"compositeKey"})}}catch(t){e(fr.create("storage-open",{originalErrorMessage:t?.message}))}}),D6)}function zu(){return(zu=(0,W.Z)(function*(n,e){const r=(yield Vu()).transaction(S6,"readwrite"),o=r.objectStore(S6).put({compositeKey:n,value:e});return new Promise((l,d)=>{o.onsuccess=p=>{l()},r.onerror=p=>{var v;d(fr.create("storage-set",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const T6=new Fr.Yd("@firebase/app-check");function o7(n,e){return(0,st.hl)()?function n7(n,e){return function Lu(n,e){return zu.apply(this,arguments)}(function i7(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{T6.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function a7(){return Nu().enabled}function Om(){return c7.apply(this,arguments)}function c7(){return(c7=(0,W.Z)(function*(){const n=Nu();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ZN={error:"UNKNOWN_ERROR"};function XM(n){return st.US.encodeString(JSON.stringify(n),!1)}function Ou(n){return l7.apply(this,arguments)}function l7(){return(l7=(0,W.Z)(function*(n,e=!1){const t=n.app;Hu(t);const r=O2(t);let o,i=r.token;if(i&&!lc(i)&&(r.token=void 0,i=void 0),!i){const p=yield r.cachedTokenPromise;p&&(lc(p)?i=p:yield o7(t,void 0))}if(!e&&i&&lc(i))return{token:i.token};let d,l=!1;if(a7()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Xf(Im(t,yield Om()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const p=yield r.exchangeTokenPromise;return yield o7(t,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield O2(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?T6.warn(p.message):T6.error(p),o=p}return i?o?d=lc(i)?{token:i.token,internalError:o}:Rm(o):(d={token:i.token},r.token=i,yield o7(t,i)):d=Rm(o),l&&d7(t,d),d})).apply(this,arguments)}function Ru(n,e){const t=O2(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function u7(n){const{app:e}=n,t=O2(e);let r=t.tokenRefresher;r||(r=function Pm(n){const{app:e}=n;return new Jf((0,W.Z)(function*(){let r;if(r=O2(e).token?yield Ou(n,!0):yield Ou(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=O2(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function d7(n,e){const t=O2(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function lc(n){return n.expireTimeMillis-Date.now()>0}function Rm(n){return{token:XM(ZN),error:n}}class ew{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=O2(this.app);for(const t of e)Ru(this.app,t.next);return Promise.resolve()}}const Km="app-check-internal";!function ow(){(0,Rt._registerComponent)(new xr.wA("app-check",n=>function tw(n,e){return new ew(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Km).initialize()})),(0,Rt._registerComponent)(new xr.wA(Km,n=>function E6(n){return{getToken:e=>Ou(n,e),addTokenListener:e=>function Pu(n,e,t,r){const{app:i}=n,o=O2(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&lc(o.token)){const d=o.token;Promise.resolve().then(()=>{t({token:d.token}),u7(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>u7(n))}(n,"INTERNAL",e),removeTokenListener:e=>Ru(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Rt.registerVersion)("@firebase/app-check","0.6.0")}();class Ks{constructor(){return _a("app-check")}}typeof window<"u"&&window;var Ys=O(552);function _7(n){return new Un.y(function(e){return{unsubscribe:(0,Ys.q)(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class Hr{constructor(e){return e}}class Gu{constructor(){return _a("auth")}}const qu=new s.OlP("angularfire2.auth-instances");function hr(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Hr(r)}}const dc={provide:Gu,deps:[[new s.FiY,qu]]},fw={provide:Hr,useFactory:function nv(n,e){const t=M6("auth",n,e);return t&&new Hr(t)},deps:[[new s.FiY,qu],ba]};let hw=(()=>{class n{constructor(){(0,Rt.registerVersion)("angularfire",ic.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[fw,dc]}),n})();function nH(n,...e){return{ngModule:hw,providers:[{provide:qu,useFactory:hr(n),multi:!0,deps:[s.R0b,s.zs3,fi,w6,[new s.FiY,Ks],...e]}]}}const rv=X2(_7,!0),mw=X2(Ys.a5,!0),ov=X2(Ys.n,!0),bw=X2(Ys.v,!0),lv=X2(Ys.a6,!0),Nw=X2(Ys.y,!0),_H=X2(Ys.af,!0);let Iw=(()=>{class n{constructor(t){this.http=t}getUsaZip(t){return this.http.get(`http://api.zippopotam.us/us/${t}`)}getBrazilZip(t){return this.http.get(`https://viacep.com.br/ws/${t}/json/`)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(J1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var dt,Wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qs={},fc=fc||{},Lt=Wu||self;function N6(){}function y7(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ma(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var b7="closure_uid_"+(1e9*Math.random()>>>0),dv=0;function CH(n,e,t){return n.call.apply(n.bind,arguments)}function Vw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function er(n,e,t){return(er=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?CH:Vw).apply(null,arguments)}function Ku(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function h2(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,o){for(var l=Array(arguments.length-2),d=2;d<arguments.length;d++)l[d-2]=arguments[d];return e.prototype[i].apply(r,l)}}function Js(){this.s=this.s,this.o=this.o}Js.prototype.s=!1,Js.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function uv(n){Object.prototype.hasOwnProperty.call(n,b7)&&n[b7]||(n[b7]=++dv)}(this)},Js.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function fv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function hv(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(y7(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let l=0;l<o;l++)n[i+l]=r[l]}else n.push(r)}}function tr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}tr.prototype.h=function(){this.defaultPrevented=!0};var zw=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Lt.addEventListener("test",N6,e),Lt.removeEventListener("test",N6,e)}catch{}return n}();function M7(n){return/^[\s\xa0]*$/.test(n)}var pv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Yu(n,e){return n<e?-1:n>e?1:0}function H6(){var n=Lt.navigator;return n&&(n=n.userAgent)?n:""}function rs(n){return-1!=H6().indexOf(n)}function jr(n){return jr[" "](n),n}jr[" "]=N6;var pc,n,w7=rs("Opera"),hc=rs("Trident")||rs("MSIE"),$r=rs("Edge"),S7=$r||hc,Qu=rs("Gecko")&&!(-1!=H6().toLowerCase().indexOf("webkit")&&!rs("Edge"))&&!(rs("Trident")||rs("MSIE"))&&!rs("Edge"),Ow=-1!=H6().toLowerCase().indexOf("webkit")&&!rs("Edge");function gv(){var n=Lt.document;return n?n.documentMode:void 0}e:{var Ju="",Xu=(n=H6(),Qu?/rv:([^\);]+)(\)|;)/.exec(n):$r?/Edge\/([\d\.]+)/.exec(n):hc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ow?/WebKit\/(\S+)/.exec(n):w7?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Xu&&(Ju=Xu?Xu[1]:""),hc){var D7=gv();if(null!=D7&&D7>parseFloat(Ju)){pc=String(D7);break e}}pc=Ju}var mv={};var Pw=Lt.document&&hc&&(gv()||parseInt(pc,10))||void 0;function wa(n,e){if(tr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Qu){e:{try{jr(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xs[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&wa.X.h.call(this)}}h2(wa,tr);var Xs={2:"touch",3:"pen",4:"mouse"};wa.prototype.h=function(){wa.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gc="closure_listenable_"+(1e6*Math.random()|0),x7=0;function is(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++x7,this.ba=this.ea=!1}function e8(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function _v(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Cv(n){const e={};for(const t in n)e[t]=n[t];return e}const yv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bv(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<yv.length;o++)t=yv[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function t8(n){this.src=n,this.g={},this.h=0}function n8(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=Lw(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(e8(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Mv(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ba&&o.listener==e&&o.capture==!!t&&o.ha==r)return i}return-1}t8.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var l=Mv(n,e,r,i);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new is(e,this.src,o,!!r,i)).ea=t,n.push(e)),e};var r8="closure_lm_"+(1e6*Math.random()|0),A7={};function N7(n,e,t,r,i){if(r&&r.once)return I7(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)N7(n,e[o],t,r,i);return null}return t=s8(t),n&&n[gc]?n.N(e,t,Ma(r)?!!r.capture:!!r,i):Rw(n,e,t,!1,r,i)}function Rw(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var l=Ma(i)?!!i.capture:!!i,d=mc(n);if(d||(n[r8]=d=new t8(n)),(t=d.add(e,t,r,l,o)).proxy)return t;if(r=function H7(){const e=wv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)zw||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(L7(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function I7(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)I7(n,e[o],t,r,i);return null}return t=s8(t),n&&n[gc]?n.O(e,t,Ma(r)?!!r.capture:!!r,i):Rw(n,e,t,!0,r,i)}function V7(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)V7(n,e[o],t,r,i);else r=Ma(r)?!!r.capture:!!r,t=s8(t),n&&n[gc]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Mv(o=n.g[e],t,r,i))&&(e8(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=mc(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Mv(e,t,r,i)),(t=-1<n?e[n]:null)&&i8(t))}function i8(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[gc])n8(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(L7(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=mc(e))?(n8(t,n),0==t.h&&(t.src=null,e[r8]=null)):e8(n)}}}function L7(n){return n in A7?A7[n]:A7[n]="on"+n}function wv(n,e){if(n.ba)n=!0;else{e=new wa(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&i8(n),n=t.call(r,e)}return n}function mc(n){return(n=n[r8])instanceof t8?n:null}var vc="__closure_events_fn_"+(1e9*Math.random()>>>0);function s8(n){return"function"==typeof n?n:(n[vc]||(n[vc]=function(e){return n.handleEvent(e)}),n[vc])}function H2(){Js.call(this),this.i=new t8(this),this.P=this,this.I=null}function I2(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new tr(e,n);else if(e instanceof tr)e.target=e.target||n;else{var i=e;bv(e=new tr(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var l=e.g=t[o];i=I6(l,r,!0,e)&&i}if(i=I6(l=e.g=n,r,!0,e)&&i,i=I6(l,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=I6(l=e.g=t[o],r,!1,e)&&i}function I6(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.ba&&l.capture==t){var d=l.listener,p=l.ha||l.src;l.ea&&n8(n.i,l),i=!1!==d.call(p,r)&&i}}return i&&!r.defaultPrevented}h2(H2,Js),H2.prototype[gc]=!0,H2.prototype.removeEventListener=function(n,e,t,r){V7(this,n,e,t,r)},H2.prototype.M=function(){if(H2.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)e8(t[r]);delete n.g[e],n.h--}}this.I=null},H2.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},H2.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var z7=Lt.JSON.stringify;function Fw(){var n=jw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var k7,Uw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Sv,n=>n.reset());class Sv{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Bw(n){Lt.setTimeout(()=>{throw n},0)}function Dv(n,e){k7||function MH(){var n=Lt.Promise.resolve(void 0);k7=function(){n.then(wH)}}(),Tv||(k7(),Tv=!0),jw.add(n,e)}var Tv=!1,jw=new class bH{constructor(){this.h=this.g=null}add(e,t){const r=Uw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function wH(){for(var n;n=Fw();){try{n.h.call(n.g)}catch(t){Bw(t)}var e=Uw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Tv=!1}function O7(n,e){H2.call(this),this.h=n||1,this.g=e||Lt,this.j=er(this.lb,this),this.l=Date.now()}function P7(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function _c(n,e,t){if("function"==typeof n)t&&(n=er(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=er(n.handleEvent,n)}return 2147483647<Number(e)?-1:Lt.setTimeout(n,e||0)}function Ev(n){n.g=_c(()=>{n.g=null,n.i&&(n.i=!1,Ev(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}h2(O7,H2),(dt=O7.prototype).ca=!1,dt.R=null,dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),I2(this,"tick"),this.ca&&(P7(this),this.start()))}},dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){O7.X.M.call(this),P7(this),delete this.g};class $w extends Js{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ev(this)}M(){super.M(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cc(n){Js.call(this),this.h=n,this.g={}}h2(Cc,Js);var eo=[];function R7(n,e,t,r){Array.isArray(t)||(t&&(eo[0]=t.toString()),t=eo);for(var i=0;i<t.length;i++){var o=N7(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function o8(n){_v(n.g,function(e,t){this.g.hasOwnProperty(t)&&i8(e)},n),n.g={}}function yc(){this.g=!0}function to(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function SH(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var l=1;l<i.length;l++)i[l]=""}}}return z7(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Cc.prototype.M=function(){Cc.X.M.call(this),o8(this)},Cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yc.prototype.Aa=function(){this.g=!1},yc.prototype.info=function(){};var bc={},qw=null;function U7(){return qw=qw||new H2}function B7(n){tr.call(this,bc.Pa,n)}function V6(n){const e=U7();I2(e,new B7(e))}function xv(n,e){tr.call(this,bc.STAT_EVENT,n),this.stat=e}function pr(n){const e=U7();I2(e,new xv(e,n))}function Av(n,e){tr.call(this,bc.Qa,n),this.size=e}function Mc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){n()},e)}bc.Pa="serverreachability",h2(B7,tr),bc.STAT_EVENT="statevent",h2(xv,tr),bc.Qa="timingevent",h2(Av,tr);var L6={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},j7={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function $7(){}function G7(){}$7.prototype.h=null;var z6,Sa={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Hv(){tr.call(this,"d")}function c8(){tr.call(this,"c")}function l8(){}function k6(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Cc(this),this.O=DH,this.T=new O7(n=S7?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Zw}function Zw(){this.i=null,this.g="",this.h=!1}h2(Hv,tr),h2(c8,tr),h2(l8,$7),l8.prototype.g=function(){return new XMLHttpRequest},l8.prototype.i=function(){return{}},z6=new l8;var DH=45e3,q7={},u8={};function Z7(n,e,t){n.K=1,n.v=T(h(e)),n.s=t,n.P=!0,Ww(n,null)}function Ww(n,e){n.F=Date.now(),d8(n),n.A=h(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Vn(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Zw,n.g=ZH(n.l,t?e:null,!n.s),0<n.N&&(n.L=new $w(er(n.La,n,n.g),n.N)),R7(n.S,n.g,"readystatechange",n.ib),e=n.H?Cv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),V6(),function Gw(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var l="",d=o.split("&"),p=0;p<d.length;p++){var v=d[p].split("=");if(1<v.length){var y=v[0];v=v[1];var D=y.split("_");l=2<=D.length&&"type"==D[1]?l+(y+"=")+v+"&":l+(y+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Kw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Yw(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=TH(n,t),i==u8){4==e&&(n.o=4,pr(14),r=!1),to(n.j,n.m,null,"[Incomplete Response]");break}if(i==q7){n.o=4,pr(15),to(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}to(n.j,n.m,i,null),Vv(n,i)}Kw(n)&&i!=u8&&i!=q7&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,pr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),rS(e),e.K=!0,pr(11))):(to(n.j,n.m,t,"[Invalid Chunked Response]"),wc(n),f8(n))}function TH(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?u8:(t=Number(e.substring(t,r)),isNaN(t)?q7:(r+=1)+t>e.length?u8:(e=e.substr(r,t),n.C=r+t,e))}function d8(n){n.V=Date.now()+n.O,Iv(n,n.O)}function Iv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mc(er(n.gb,n),e)}function W7(n){n.B&&(Lt.clearTimeout(n.B),n.B=null)}function f8(n){0==n.l.G||n.I||jH(n.l,n)}function wc(n){W7(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,P7(n.T),o8(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Vv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||O6(t.h,n)))if(!n.J&&O6(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Rv(t),Ov(t)}nS(t),pr(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Mc(er(t.cb,t),6e3));if(1>=g8(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else R6(t,11)}else if((n.J||t.g==n)&&Rv(t),!M7(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const y=v[3];null!=y&&(t.ma=y,t.j.info("VER="+t.ma));const D=v[4];null!=D&&(t.Ca=D,t.j.info("SVER="+t.Ca));const x=v[5];null!=x&&"number"==typeof x&&0<x&&(t.J=r=1.5*x,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const z=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var o=r.h;o.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(P6(o,o.h),o.h=null))}if(r.D){const U=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;U&&(r.za=U,S(r.F,r.D,U))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((r=t).sa=qH(r,r.H?r.ka:null,r.V),l.J){m8(r.h,l);var d=l,p=r.J;p&&d.setTimeout(p),d.B&&(W7(d),d8(d)),r.g=l}else UH(r);0<t.i.length&&Pv(t)}else"stop"!=v[0]&&"close"!=v[0]||R6(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?R6(t,7):tS(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}V6()}catch{}}function a(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(y7(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function EH(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(y7(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Qw(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(y7(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(dt=k6.prototype).setTimeout=function(n){this.O=n},dt.ib=function(n){n=n.target;const e=this.L;e&&3==Da(n)?e.l():this.La(n)},dt.La=function(n){try{if(n==this.g)e:{const y=Da(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>y)&&(3!=y||S7||this.g&&(this.h.h||this.g.fa()||zH(this.g)))){this.I||4!=y||7==e||V6(),W7(this);var t=this.g.aa();this.Y=t;t:if(Kw(this)){var r=zH(this.g);n="";var i=r.length,o=4==Da(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){wc(this),f8(this);var l="";break t}this.h.i=new Lt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function F7(n,e,t,r,i,o,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+l})}(this.j,this.u,this.A,this.m,this.U,y,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M7(d)){var v=d;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,pr(12),wc(this),f8(this);break e}to(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Vv(this,t)}this.P?(Yw(this,y,l),S7&&this.i&&3==y&&(R7(this.S,this.T,"tick",this.hb),this.T.start())):(to(this.j,this.m,l,null),Vv(this,l)),4==y&&wc(this),this.i&&!this.I&&(4==y?jH(this.l,this):(this.i=!1,d8(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,pr(12)):(this.o=0,pr(13)),wc(this),f8(this)}}}catch{}},dt.hb=function(){if(this.g){var n=Da(this.g),e=this.g.fa();this.C<e.length&&(W7(this),Yw(this,n,e),this.i&&4!=n&&d8(this))}},dt.cancel=function(){this.I=!0,wc(this)},dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function a8(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(V6(),pr(17)),wc(this),this.o=2,f8(this)):Iv(this,this.V-n)};var c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function f(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof f){this.h=void 0!==e?e:n.h,g(this,n.j),this.s=n.s,this.g=n.g,C(this,n.m),this.l=n.l,e=n.i;var t=new Ct;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),M(this,t),this.o=n.o}else n&&(t=String(n).match(c))?(this.h=!!e,g(this,t[1]||"",!0),this.s=A(t[2]||""),this.g=A(t[3]||"",!0),C(this,t[4]),this.l=A(t[5]||"",!0),M(this,t[6]||"",!0),this.o=A(t[7]||"")):(this.h=!!e,this.i=new Ct(null,this.h))}function h(n){return new f(n)}function g(n,e,t){n.j=t?A(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function C(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function M(n,e,t){e instanceof Ct?(n.i=e,function K7(n,e){e&&!n.j&&(_e(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Et(this,r),Vn(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=V(e,$e)),n.i=new Ct(e,n.h))}function S(n,e,t){n.i.set(e,t)}function T(n){return S(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function A(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function V(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,j),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function j(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}f.prototype.toString=function(){var n=[],e=this.j;e&&n.push(V(e,X,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(V(e,X,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(V(t,"/"==t.charAt(0)?Fe:pe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",V(t,ct)),n.join("")};var X=/[#\/\?@]/g,pe=/[#\?:]/g,Fe=/[#\?]/g,$e=/[#\?@]/g,ct=/#/g;function Ct(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function _e(n){n.g||(n.g=new Map,n.h=0,n.i&&function u(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Et(n,e){_e(n),e=f1(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function an(n,e){return _e(n),e=f1(n,e),n.g.has(e)}function Vn(n,e,t){Et(n,e),0<t.length&&(n.i=null,n.g.set(f1(n,e),fv(t)),n.h+=t.length)}function f1(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function h8(n){this.l=n||Q7,n=Lt.PerformanceNavigationTiming?0<(n=Lt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ga&&Lt.g.Ga()&&Lt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Ct.prototype).add=function(n,e){_e(this),this.i=null,n=f1(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){_e(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},dt.oa=function(){_e(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},dt.W=function(n){_e(this);let e=[];if("string"==typeof n)an(this,n)&&(e=e.concat(this.g.get(f1(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return _e(this),this.i=null,an(this,n=f1(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),l=this.W(r);for(r=0;r<l.length;r++){var i=o;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var Q7=10;function p8(n){return!!n.h||!!n.g&&n.g.size>=n.j}function g8(n){return n.h?1:n.g?n.g.size:0}function O6(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function P6(n,e){n.g?n.g.add(e):n.h=e}function m8(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xH(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return fv(n.i)}function Jw(){}function rY(){this.g=new Jw}function iY(n,e,t){const r=t||"";try{a(n,function(i,o){let l=i;Ma(i)&&(l=z7(i)),e.push(r+o+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lv(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function J7(n){this.l=n.ac||null,this.j=n.jb||!1}function zv(n,e){H2.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Xw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}h8.prototype.cancel=function(){if(this.i=xH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Jw.prototype.stringify=function(n){return Lt.JSON.stringify(n,void 0)},Jw.prototype.parse=function(n){return Lt.JSON.parse(n,void 0)},h2(J7,$7),J7.prototype.g=function(){return new zv(this.l,this.j)},J7.prototype.i=function(n){return function(){return n}}({}),h2(zv,H2);var Xw=0;function AH(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function X7(n){n.readyState=4,n.l=null,n.j=null,n.A=null,eh(n)}function eh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=zv.prototype).open=function(n,e){if(this.readyState!=Xw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,eh(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Lt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,X7(this)),this.readyState=Xw},dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,eh(this)),this.g&&(this.readyState=3,eh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Lt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AH(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?X7(this):eh(this),3==this.readyState&&AH(this)}},dt.Va=function(n){this.g&&(this.response=this.responseText=n,X7(this))},dt.Ua=function(n){this.g&&(this.response=n,X7(this))},dt.ga=function(){this.g&&X7(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(zv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var oY=Lt.JSON.parse;function p2(n){H2.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=NH,this.K=this.L=!1}h2(p2,H2);var NH="",aY=/^https?$/i,cY=["POST","PUT"];function HH(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,IH(n),kv(n)}function IH(n){n.D||(n.D=!0,I2(n,"complete"),I2(n,"error"))}function VH(n){if(n.h&&typeof fc<"u"&&(!n.C[1]||4!=Da(n)||2!=n.aa()))if(n.v&&4==Da(n))_c(n.Ha,0,n);else if(I2(n,"readystatechange"),4==Da(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===d){var i=String(n.H).match(c)[1]||null;if(!i&&Lt.self&&Lt.self.location){var o=Lt.self.location.protocol;i=o.substr(0,o.length-1)}r=!aY.test(i?i.toLowerCase():"")}t=r}if(t)I2(n,"complete"),I2(n,"success");else{n.m=6;try{var l=2<Da(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",IH(n)}}finally{kv(n)}}}function kv(n,e){if(n.g){LH(n);const t=n.g,r=n.C[0]?N6:null;n.g=null,n.C=null,e||I2(n,"ready");try{t.onreadystatechange=r}catch{}}}function LH(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Lt.clearTimeout(n.A),n.A=null)}function Da(n){return n.g?n.g.readyState:0}function zH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case NH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function kH(n){let e="";return _v(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function eS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=kH(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):S(n,e,t))}function th(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function OH(n){this.Ca=0,this.i=[],this.j=new yc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=th("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=th("baseRetryDelayMs",5e3,n),this.bb=th("retryDelaySeedMs",1e4,n),this.$a=th("forwardChannelMaxRetries",2,n),this.ta=th("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new h8(n&&n.concurrentRequestLimit),this.Fa=new rY,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function tS(n){if(PH(n),3==n.G){var e=n.U++,t=h(n.F);S(t,"SID",n.I),S(t,"RID",e),S(t,"TYPE","terminate"),nh(n,t),(e=new k6(n,n.j,e,void 0)).K=2,e.v=T(h(t)),t=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(t=Lt.navigator.sendBeacon(e.v.toString(),"")),!t&&Lt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ZH(e.l,null),e.g.da(e.v)),e.F=Date.now(),d8(e)}GH(n)}function Ov(n){n.g&&(rS(n),n.g.cancel(),n.g=null)}function PH(n){Ov(n),n.u&&(Lt.clearTimeout(n.u),n.u=null),Rv(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Lt.clearTimeout(n.m),n.m=null)}function Pv(n){p8(n.h)||n.m||(n.m=!0,Dv(n.Ja,n),n.C=0)}function RH(n,e){var t;t=e?e.m:n.U++;const r=h(n.F);S(r,"SID",n.I),S(r,"RID",t),S(r,"AID",n.T),nh(n,r),n.o&&n.s&&eS(r,n.o,n.s),t=new k6(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=FH(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),P6(n.h,t),Z7(t,r,e)}function nh(n,e){n.ia&&_v(n.ia,function(t,r){S(e,r,t)}),n.l&&a({},function(t,r){S(e,r,t)})}function FH(n,e,t){t=Math.min(n.i.length,t);var r=n.l?er(n.l.Ra,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const l=["count="+t];-1==o?0<t?(o=i[0].h,l.push("ofs="+o)):o=0:l.push("ofs="+o);let d=!0;for(let p=0;p<t;p++){let v=i[p].h;const y=i[p].g;if(v-=o,0>v)o=Math.max(0,i[p].h-100),d=!1;else try{iY(y,l,"req"+v+"_")}catch{r&&r(y)}}if(d){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function UH(n){n.g||n.u||(n.Z=1,Dv(n.Ia,n),n.A=0)}function nS(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Mc(er(n.Ia,n),$H(n,n.A)),n.A++,0))}function rS(n){null!=n.B&&(Lt.clearTimeout(n.B),n.B=null)}function BH(n){n.g=new k6(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=h(n.sa);S(e,"RID","rpc"),S(e,"SID",n.I),S(e,"CI",n.L?"0":"1"),S(e,"AID",n.T),S(e,"TYPE","xmlhttp"),nh(n,e),n.o&&n.s&&eS(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=T(h(e)),t.s=null,t.P=!0,Ww(t,n)}function Rv(n){null!=n.v&&(Lt.clearTimeout(n.v),n.v=null)}function jH(n,e){var t=null;if(n.g==e){Rv(n),rS(n),n.g=null;var r=2}else{if(!O6(n.h,e))return;t=e.D,m8(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;I2(r=U7(),new Av(r,t)),Pv(n)}else UH(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function uY(n,e){return!(g8(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Mc(er(n.Ja,n,e),$H(n,n.C)),n.C++,0)))}(n,e)||2==r&&nS(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:R6(n,5);break;case 4:R6(n,10);break;case 3:R6(n,6);break;default:R6(n,2)}}function $H(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function R6(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=er(n.kb,n);t||(t=new f("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||g(t,"https"),T(t)),function sY(n,e){const t=new yc;if(Lt.Image){const r=new Image;r.onload=Ku(Lv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ku(Lv,t,r,"TestLoadImage: error",!1,e),r.onabort=Ku(Lv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ku(Lv,t,r,"TestLoadImage: timeout",!1,e),Lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else pr(2);n.G=0,n.l&&n.l.va(e),GH(n),PH(n)}function GH(n){if(n.G=0,n.la=[],n.l){const e=xH(n.h);(0!=e.length||0!=n.i.length)&&(hv(n.la,e),hv(n.la,n.i),n.h.i.length=0,fv(n.i),n.i.length=0),n.l.ua()}}function qH(n,e,t){var r=t instanceof f?h(t):new f(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),C(r,r.m);else{var i=Lt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new f(null,void 0);r&&g(o,r),e&&(o.g=e),i&&C(o,i),t&&(o.l=t),r=o}return e=n.za,(t=n.D)&&e&&S(r,t,e),S(r,"VER",n.ma),nh(n,r),r}function ZH(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new p2(t&&n.Da&&!n.ra?new J7({jb:!0}):n.ra)).Ka(n.H),e}function WH(){}function Fv(){if(hc&&!(10<=Number(Pw)))throw Error("Environmental error: no available transport.")}function I1(n,e){H2.call(this),this.g=new OH(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!M7(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!M7(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new v8(this)}function KH(n){Hv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function YH(){c8.call(this),this.status=1}function v8(n){this.g=n}(dt=p2.prototype).Ka=function(n){this.L=n},dt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():z6.g(),this.C=function Nv(n){return n.h||(n.h=n.i())}(this.u?this.u:z6),this.g.onreadystatechange=er(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void HH(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=Lt.FormData&&n instanceof Lt.FormData,!(0<=Lw(cY,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of t)this.g.setRequestHeader(o,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{LH(this),0<this.B&&((this.K=function lY(n){return hc&&function vv(){return function kw(n){var e=mv;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=pv(String(pc)).split("."),t=pv("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",o=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=Yu(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Yu(0==i[2].length,0==o[2].length)||Yu(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=er(this.qa,this)):this.A=_c(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){HH(this,o)}},dt.qa=function(){typeof fc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,I2(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,I2(this,"complete"),I2(this,"abort"),kv(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kv(this,!0)),p2.X.M.call(this)},dt.Ha=function(){this.s||(this.F||this.v||this.l?VH(this):this.fb())},dt.fb=function(){VH(this)},dt.aa=function(){try{return 2<Da(this)?this.g.status:-1}catch{return-1}},dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),oY(e)}},dt.Ea=function(){return this.m},dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=OH.prototype).ma=8,dt.G=1,dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new k6(this,this.j,n,void 0);let o=this.s;if(this.S&&(o?(o=Cv(o),bv(o,this.S)):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=FH(this,i,e),S(t=h(this.F),"RID",n),S(t,"CVER",22),this.D&&S(t,"X-HTTP-Session-Id",this.D),nh(this,t),o&&(this.N?e="headers="+encodeURIComponent(String(kH(o)))+"&"+e:this.o&&eS(t,this.o,o)),P6(this.h,i),this.Ya&&S(t,"TYPE","init"),this.O?(S(t,"$req",e),S(t,"SID","null"),i.Z=!0,Z7(i,t,null)):Z7(i,t,e),this.G=2}}else 3==this.G&&(n?RH(this,n):0==this.i.length||p8(this.h)||RH(this))},dt.Ia=function(){if(this.u=null,BH(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Mc(er(this.eb,this),n)}},dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,pr(10),Ov(this),BH(this))},dt.cb=function(){null!=this.v&&(this.v=null,Ov(this),nS(this),pr(19))},dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),pr(2)):(this.j.info("Failed to ping google.com"),pr(1))},(dt=WH.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Ra=function(){},Fv.prototype.g=function(n,e){return new I1(n,e)},h2(I1,H2),I1.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;pr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=qH(n,null,n.V),Pv(n)},I1.prototype.close=function(){tS(this.g)},I1.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=z7(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Pv(e)},I1.prototype.M=function(){this.g.l=null,delete this.j,tS(this.g),delete this.g,I1.X.M.call(this)},h2(KH,Hv),h2(YH,c8),h2(v8,WH),v8.prototype.xa=function(){I2(this.g,"a")},v8.prototype.wa=function(n){I2(this.g,new KH(n))},v8.prototype.va=function(n){I2(this.g,new YH)},v8.prototype.ua=function(){I2(this.g,"b")},Fv.prototype.createWebChannel=Fv.prototype.g,I1.prototype.send=I1.prototype.u,I1.prototype.open=I1.prototype.m,I1.prototype.close=I1.prototype.close,L6.NO_ERROR=0,L6.TIMEOUT=8,L6.HTTP_ERROR=6,j7.COMPLETE="complete",G7.EventType=Sa,Sa.OPEN="a",Sa.CLOSE="b",Sa.ERROR="c",Sa.MESSAGE="d",H2.prototype.listen=H2.prototype.N,p2.prototype.listenOnce=p2.prototype.O,p2.prototype.getLastError=p2.prototype.Oa,p2.prototype.getLastErrorCode=p2.prototype.Ea,p2.prototype.getStatus=p2.prototype.aa,p2.prototype.getResponseJson=p2.prototype.Sa,p2.prototype.getResponseText=p2.prototype.fa,p2.prototype.send=p2.prototype.da,p2.prototype.setWithCredentials=p2.prototype.Ka;var dY=Qs.createWebChannelTransport=function(){return new Fv},fY=Qs.getStatEventTarget=function(){return U7()},iS=Qs.ErrorCode=L6,hY=Qs.EventType=j7,pY=Qs.Event=bc,QH=Qs.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},gY=Qs.FetchXmlHttpFactory=J7,Uv=Qs.WebChannel=G7,mY=Qs.XhrIo=p2;const JH="@firebase/firestore";class nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");let _8="9.15.0";const Sc=new Fr.Yd("@firebase/firestore");function sS(){return Sc.logLevel}function Pe(n,...e){if(Sc.logLevel<=Fr.in.DEBUG){const t=e.map(oS);Sc.debug(`Firestore (${_8}): ${n}`,...t)}}function w2(n,...e){if(Sc.logLevel<=Fr.in.ERROR){const t=e.map(oS);Sc.error(`Firestore (${_8}): ${n}`,...t)}}function F6(n,...e){if(Sc.logLevel<=Fr.in.WARN){const t=e.map(oS);Sc.warn(`Firestore (${_8}): ${n}`,...t)}}function oS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${_8}) INTERNAL ASSERTION FAILED: `+n;throw w2(e),new Error(e)}function vt(n,e){n||ot()}function qe(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends st.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class P2{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class XH{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nr.UNAUTHENTICATED))}shutdown(){}}class yY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bY{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let l=new P2;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new P2,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=l;e.enqueueRetryable((0,W.Z)(function*(){yield v.promise,yield o(r.currentUser)}))},p=v=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new P2)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt("string"==typeof r.accessToken),new XH(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(null===e||"string"==typeof e),new nr(e)}}class MY{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(vt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class wY{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new MY(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class eI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SY{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=o=>{null!=o.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.A;return this.A=o.token,Pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.T.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.T.getImmediate({optional:!0});o?i(o):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(vt("string"==typeof t.token),this.A=t.token,new eI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function DY(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class tI{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=DY(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function Ft(n,e){return n<e?-1:n>e?1:0}function C8(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function nI(n){return n+"\0"}class Yn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yn.fromMillis(Date.now())}static fromDate(e){return Yn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Yn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ft(this.nanoseconds,e.nanoseconds):Ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new Yn(0,0))}static max(){return new Mt(new Yn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rh{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===rh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),l=t.get(i);if(o<l)return-1;if(o>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends rh{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const TY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class g2 extends rh{construct(e,t,r){return new g2(e,t,r)}static isValidIdentifier(e){return TY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),g2.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new g2(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new Ae(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const d=e[i];if("\\"===d){if(i+1===e.length)throw new Ae(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ae(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===d?(l=!l,i++):"."!==d||l?(r+=d,i++):(o(),i++)}if(o(),l)throw new Ae(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new g2(t)}static emptyPath(){return new g2([])}}class Ge{constructor(e){this.path=e}static fromPath(e){return new Ge(cn.fromString(e))}static fromName(e){return new Ge(cn.fromString(e).popFirst(5))}static empty(){return new Ge(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ge(new cn(e.slice()))}}class Bv{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function aS(n){return n.fields.find(e=>2===e.kind)}function U6(n){return n.fields.filter(e=>2!==e.kind)}Bv.UNKNOWN_ID=-1;class jv{constructor(e,t){this.fieldPath=e,this.kind=t}}class ih{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ih(0,V1.min())}}function rI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Mt.fromTimestamp(1e9===r?new Yn(t+1,0):new Yn(t,r));return new V1(i,Ge.empty(),e)}function iI(n){return new V1(n.readTime,n.key,-1)}class V1{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new V1(Mt.min(),Ge.empty(),-1)}static max(){return new V1(Mt.max(),Ge.empty(),-1)}}function cS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ge.comparator(n.documentKey,e.documentKey),0!==t?t:Ft(n.largestBatchId,e.largestBatchId))}const sI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dc(n){return lS.apply(this,arguments)}function lS(){return lS=(0,W.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==sI)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),lS.apply(this,arguments)}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let i=0,o=0,l=!1;e.forEach(d=>{++i,d.next(()=>{++o,l&&o===i&&t()},p=>r(p))}),l=!0,o===i&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(i=>i?se.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new se((r,i)=>{const o=e.length,l=new Array(o);let d=0;for(let p=0;p<o;p++){const v=p;t(e[v]).next(y=>{l[v]=y,++d,d===o&&r(l)},y=>i(y))}})}static doWhile(e,t){return new se((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class $v{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new P2,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new sh(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=uS(r.target.error);this.P.reject(new sh(e,i))}}static open(e,t,r,i){try{return new $v(t,e.transaction(i,r))}catch(o){throw new sh(t,o)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new NY(t)}}class ss{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===ss.D((0,st.z$)())&&w2("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),B6(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,st.hl)())return!1;if(ss.N())return!0;const e=(0,st.z$)(),t=ss.D(e),r=0<t&&t<10,i=ss.k(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,W.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=l=>{r(l.target.result)},o.onblocked=()=>{i(new sh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=l=>{const d=l.target.error;i("VersionError"===d.name?new Ae(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ae(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new sh(e,d))},o.onupgradeneeded=l=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.S.$(l.target.result,o.transaction,l.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,W.Z)(function*(){const l="readonly"===t;let d=0;for(;;){++d;try{o.db=yield o.F(e);const p=$v.open(o.db,e,l?"readonly":"readwrite",r),v=i(p).next(y=>(p.V(),y)).catch(y=>(p.abort(y),se.reject(y))).toPromise();return v.catch(()=>{}),yield p.v,v}catch(p){const v=p,y="FirebaseError"!==v.name&&d<3;if(Pe("SimpleDb","Transaction failed with error:",v.message,"Retrying:",y),o.close(),!y)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class AY{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return B6(this.q.delete())}}class sh extends Ae{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Tc(n){return"IndexedDbTransactionError"===n.name}class NY{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),B6(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),B6(this.store.add(e))}get(e){return B6(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),B6(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),B6(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.H(i,(l,d)=>{o.push(d)}).next(()=>o)}{const i=this.store.getAll(r.range);return new se((o,l)=>{i.onerror=d=>{l(d.target.error)},i.onsuccess=d=>{o(d.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new se((i,o)=>{r.onerror=l=>{o(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}Y(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(o,l,d)=>d.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new se((r,i)=>{t.onerror=o=>{const l=uS(o.target.error);i(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next(d=>{d?l.continue():r()}):r()}})}H(e,t){const r=[];return new se((i,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const d=l.target.result;if(!d)return void i();const p=new AY(d),v=t(d.primaryKey,d.value,p);if(v instanceof se){const y=v.catch(D=>(p.done(),se.reject(D)));r.push(y)}p.isDone?i():null===p.G?d.continue():d.continue(p.G)}}).next(()=>se.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function B6(n){return new se((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=uS(r.target.error);t(i)}})}let aI=!1;function uS(n){const e=ss.D((0,st.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aI||(aI=!0,setTimeout(()=>{throw r},0)),r}}return n}class HY{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,W.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Tc(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Dc(r)}yield t.nt(6e4)}))}}class IY{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,W.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,o=!0;return se.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!r.has(l))return Pe("IndexBackiller",`Processing collection: ${l}`),this.rt(e,l,i).next(d=>{i-=d,r.add(l)});o=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.ot(i,o)).next(d=>(Pe("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d))).next(()=>l.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,o)=>{const l=iI(o);cS(l,r)>0&&(r=l)}),new V1(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let L1=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class VY{constructor(e,t,r,i,o,l,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class Ec{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ec("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}function cI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function j6(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function oh(n){return null==n}function ah(n){return 0===n&&1/n==-1/0}function uI(n){return"number"==typeof n&&Number.isInteger(n)&&!ah(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class R2{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new R2(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new R2(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}R2.EMPTY_BYTE_STRING=new R2("");const zY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xc(n){if(vt(!!n),"string"==typeof n){let e=0;const t=zY.exec(n);if(vt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:m2(n.seconds),nanos:m2(n.nanos)}}function m2(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $6(n){return"string"==typeof n?R2.fromBase64String(n):R2.fromUint8Array(n)}function dS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dI(n){const e=n.mapValue.fields.__previous_value__;return dS(e)?dI(e):e}function ch(n){const e=xc(n.mapValue.fields.__local_write_time__.timestampValue);return new Yn(e.seconds,e.nanos)}const Ac={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Gv={nullValue:"NULL_VALUE"};function G6(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dS(n)?4:gI(n)?9007199254740991:10:ot()}function no(n,e){if(n===e)return!0;const t=G6(n);if(t!==G6(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ch(n).isEqual(ch(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=xc(r.timestampValue),l=xc(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,$6(n.bytesValue).isEqual($6(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return m2(r.geoPointValue.latitude)===m2(i.geoPointValue.latitude)&&m2(r.geoPointValue.longitude)===m2(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return m2(r.integerValue)===m2(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=m2(r.doubleValue),l=m2(i.doubleValue);return o===l?ah(o)===ah(l):isNaN(o)&&isNaN(l)}return!1}(n,e);case 9:return C8(n.arrayValue.values||[],e.arrayValue.values||[],no);case 10:return function(r,i){const o=r.mapValue.fields||{},l=i.mapValue.fields||{};if(cI(o)!==cI(l))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(void 0===l[d]||!no(o[d],l[d])))return!1;return!0}(n,e);default:return ot()}var i}function lh(n,e){return void 0!==(n.values||[]).find(t=>no(t,e))}function Nc(n,e){if(n===e)return 0;const t=G6(n),r=G6(e);if(t!==r)return Ft(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ft(n.booleanValue,e.booleanValue);case 2:return function(i,o){const l=m2(i.integerValue||i.doubleValue),d=m2(o.integerValue||o.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(n,e);case 3:return fI(n.timestampValue,e.timestampValue);case 4:return fI(ch(n),ch(e));case 5:return Ft(n.stringValue,e.stringValue);case 6:return function(i,o){const l=$6(i),d=$6(o);return l.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),d=o.split("/");for(let p=0;p<l.length&&p<d.length;p++){const v=Ft(l[p],d[p]);if(0!==v)return v}return Ft(l.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Ft(m2(i.latitude),m2(o.latitude));return 0!==l?l:Ft(m2(i.longitude),m2(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const l=i.values||[],d=o.values||[];for(let p=0;p<l.length&&p<d.length;++p){const v=Nc(l[p],d[p]);if(v)return v}return Ft(l.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Ac.mapValue&&o===Ac.mapValue)return 0;if(i===Ac.mapValue)return 1;if(o===Ac.mapValue)return-1;const l=i.fields||{},d=Object.keys(l),p=o.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let y=0;y<d.length&&y<v.length;++y){const D=Ft(d[y],v[y]);if(0!==D)return D;const x=Nc(l[d[y]],p[v[y]]);if(0!==x)return x}return Ft(d.length,v.length)}(n.mapValue,e.mapValue);default:throw ot()}}function fI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ft(n,e);const t=xc(n),r=xc(e),i=Ft(t.seconds,r.seconds);return 0!==i?i:Ft(t.nanos,r.nanos)}function y8(n){return fS(n)}function fS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=xc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$6(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const l of r.values||[])o?o=!1:i+=",",i+=fS(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",l=!0;for(const d of i)l?l=!1:o+=",",o+=`${d}:${fS(r.fields[d])}`;return o+"}"}(n.mapValue):ot();var e}function q6(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hS(n){return!!n&&"integerValue"in n}function uh(n){return!!n&&"arrayValue"in n}function hI(n){return!!n&&"nullValue"in n}function pI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qv(n){return!!n&&"mapValue"in n}function dh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return j6(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=dh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function kY(n){return"nullValue"in n?Gv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?q6(Ec.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function OY(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?q6(Ec.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ac:ot()}function mI(n,e){const t=Nc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function vI(n,e){const t=Nc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Hc{constructor(e,t){this.position=e,this.inclusive=t}}function _I(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(r=o.field.isKeyField()?Ge.comparator(Ge.fromName(l.referenceValue),t.key):Nc(l,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function CI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!no(n.position[t],e.position[t]))return!1;return!0}class yI{}class tn extends yI{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new PY(e,t,r):"array-contains"===t?new UY(e,r):"in"===t?new xI(e,r):"not-in"===t?new BY(e,r):"array-contains-any"===t?new jY(e,r):new tn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new RY(e,r):new FY(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nc(t,this.value)):null!==t&&G6(this.value)===G6(t)&&this.matchesComparison(Nc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Dn extends yI{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Dn(e,t)}matches(e){return b8(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function b8(n){return"and"===n.op}function pS(n){return"or"===n.op}function bI(n){return MI(n)&&b8(n)}function MI(n){for(const e of n.filters)if(e instanceof Dn)return!1;return!0}function wI(n){if(n instanceof tn)return n.field.canonicalString()+n.op.toString()+y8(n.value);{const e=n.filters.map(t=>wI(t)).join(",");return`${n.op}(${e})`}}function SI(n,e){return n instanceof tn?(t=n,(r=e)instanceof tn&&t.op===r.op&&t.field.isEqual(r.field)&&no(t.value,r.value)):n instanceof Dn?function(t,r){return r instanceof Dn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,l)=>i&&SI(o,r.filters[l]),!0)}(n,e):void ot();var t,r}function DI(n,e){const t=n.filters.concat(e);return Dn.create(t,n.op)}function TI(n){return n instanceof tn?`${(e=n).field.canonicalString()} ${e.op} ${y8(e.value)}`:n instanceof Dn?function(e){return e.op.toString()+" {"+e.getFilters().map(TI).join(" ,")+"}"}(n):"Filter";var e}class PY extends tn{constructor(e,t,r){super(e,t,r),this.key=Ge.fromName(r.referenceValue)}matches(e){const t=Ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class RY extends tn{constructor(e,t){super(e,"in",t),this.keys=EI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FY extends tn{constructor(e,t){super(e,"not-in",t),this.keys=EI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function EI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ge.fromName(r.referenceValue))}class UY extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return uh(t)&&lh(t.arrayValue,this.value)}}class xI extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&lh(this.value.arrayValue,t)}}class BY extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!lh(this.value.arrayValue,t)}}class jY extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!uh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>lh(this.value.arrayValue,r))}}class M8{constructor(e,t="asc"){this.field=e,this.dir=t}}function $Y(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class v2{constructor(e,t){this.comparator=e,this.root=t||gr.EMPTY}insert(e,t){return new v2(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new v2(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zv(this.root,e,this.comparator,!0)}}class Zv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gr{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??gr.RED,this.left=i??gr.EMPTY,this.right=o??gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new gr(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return gr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1,gr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new gr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(e){this.comparator=e,this.data=new v2(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AI(this.data.getIterator())}getIteratorFrom(e){return new AI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xn(this.comparator);return t.data=e,t}}class AI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function w8(n){return n.hasNext()?n.getNext():void 0}class z1{constructor(e){this.fields=e,e.sort(g2.comparator)}static empty(){return new z1([])}unionWith(e){let t=new xn(g2.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new z1(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return C8(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dh(t)}setAll(e){let t=g2.emptyPath(),r={},i=[];e.forEach((l,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=d.popLast()}l?r[d.lastSegment()]=dh(l):i.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());qv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return no(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){j6(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new mr(dh(this.value))}}function NI(n){const e=[];return j6(n.fields,(t,r)=>{const i=new g2([t]);if(qv(r)){const o=NI(r.mapValue).fields;if(0===o.length)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new z1(e)}class Bn{constructor(e,t,r,i,o,l,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Bn(e,0,Mt.min(),Mt.min(),Mt.min(),mr.empty(),0)}static newFoundDocument(e,t,r,i){return new Bn(e,1,t,Mt.min(),r,i,0)}static newNoDocument(e,t){return new Bn(e,2,t,Mt.min(),Mt.min(),mr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,Mt.min(),Mt.min(),mr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class GY{constructor(e,t=null,r=[],i=[],o=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=d,this.ft=null}}function gS(n,e=null,t=[],r=[],i=null,o=null,l=null){return new GY(n,e,t,r,i,o,l)}function Z6(n){const e=qe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>wI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),oh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>y8(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>y8(r)).join(",")),e.ft=t}return e.ft}function fh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$Y(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CI(n.startAt,e.startAt)&&CI(n.endAt,e.endAt)}function Wv(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Kv(n,e){return n.filters.filter(t=>t instanceof tn&&t.field.isEqual(e))}function HI(n,e,t){let r=Gv,i=!0;for(const o of Kv(n,e)){let l=Gv,d=!0;switch(o.op){case"<":case"<=":l=kY(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,d=!1;break;case"!=":case"not-in":l=Gv}mI({value:r,inclusive:i},{value:l,inclusive:d})<0&&(r=l,i=d)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];mI({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}function II(n,e,t){let r=Ac,i=!0;for(const o of Kv(n,e)){let l=Ac,d=!0;switch(o.op){case">=":case">":l=OY(o.value),d=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,d=!1;break;case"!=":case"not-in":l=Ac}vI({value:r,inclusive:i},{value:l,inclusive:d})>0&&(r=l,i=d)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];vI({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}return{value:r,inclusive:i}}class Ta{constructor(e,t=null,r=[],i=[],o=null,l="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=d,this.endAt=p,this.dt=null,this._t=null}}function VI(n,e,t,r,i,o,l,d){return new Ta(n,e,t,r,i,o,l,d)}function S8(n){return new Ta(n)}function LI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function mS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Yv(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function vS(n){return null!==n.collectionGroup}function W6(n){const e=qe(n);if(null===e.dt){e.dt=[];const t=Yv(e),r=mS(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new M8(t)),e.dt.push(new M8(g2.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new M8(g2.keyField(),o))}}}return e.dt}function Gr(n){const e=qe(n);if(!e._t)if("F"===e.limitType)e._t=gS(e.path,e.collectionGroup,W6(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of W6(e))t.push(new M8(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Hc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Hc(e.startAt.position,e.startAt.inclusive):null;e._t=gS(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function _S(n,e){e.getFirstInequalityField(),Yv(n);const t=n.filters.concat([e]);return new Ta(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Qv(n,e,t){return new Ta(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hh(n,e){return fh(Gr(n),Gr(e))&&n.limitType===e.limitType}function zI(n){return`${Z6(Gr(n))}|lt:${n.limitType}`}function CS(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>TI(r)).join(", ")}]`),oh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>y8(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>y8(r)).join(",")),`Target(${t})`}(Gr(n))}; limitType=${n.limitType})`}function yS(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ge.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of W6(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,l){const d=_I(i,o,l);return i.inclusive?d<=0:d<0}(t.startAt,W6(t),r)||t.endAt&&!function(i,o,l){const d=_I(i,o,l);return i.inclusive?d>=0:d>0}(t.endAt,W6(t),r)));var t,r}function kI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function OI(n){return(e,t)=>{let r=!1;for(const i of W6(n)){const o=qY(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function qY(n,e,t){const r=n.field.isKeyField()?Ge.comparator(e.key,t.key):function(i,o,l){const d=o.data.field(i),p=l.data.field(i);return null!==d&&null!==p?Nc(d,p):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}function PI(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function RI(n){return{integerValue:""+n}}function FI(n,e){return uI(e)?RI(e):PI(n,e)}class Jv{constructor(){this._=void 0}}function ZY(n,e,t){return n instanceof D8?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof K6?BI(n,e):n instanceof Y6?jI(n,e):function(r,i){const o=UI(r,i),l=$I(o)+$I(r.gt);return hS(o)&&hS(r.gt)?RI(l):PI(r.yt,l)}(n,e)}function WY(n,e,t){return n instanceof K6?BI(n,e):n instanceof Y6?jI(n,e):t}function UI(n,e){return n instanceof T8?hS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class D8 extends Jv{}class K6 extends Jv{constructor(e){super(),this.elements=e}}function BI(n,e){const t=GI(e);for(const r of n.elements)t.some(i=>no(i,r))||t.push(r);return{arrayValue:{values:t}}}class Y6 extends Jv{constructor(e){super(),this.elements=e}}function jI(n,e){let t=GI(e);for(const r of n.elements)t=t.filter(i=>!no(i,r));return{arrayValue:{values:t}}}class T8 extends Jv{constructor(e,t){super(),this.yt=e,this.gt=t}}function $I(n){return m2(n.integerValue||n.doubleValue)}function GI(n){return uh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ph{constructor(e,t){this.field=e,this.transform=t}}class YY{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class e_{}function qI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new x8(n.key,Qn.none()):new E8(n.key,n.data,Qn.none());{const t=n.data,r=mr.empty();let i=new xn(g2.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);null===l&&o.length>1&&(o=o.popLast(),l=t.field(o)),null===l?r.delete(o):r.set(o,l),i=i.add(o)}return new Ea(n.key,r,new z1(i.toArray()),Qn.none())}}function QY(n,e,t){n instanceof E8?function(r,i,o){const l=r.value.clone(),d=KI(r.fieldTransforms,i,o.transformResults);l.setAll(d),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Ea?function(r,i,o){if(!Xv(r.precondition,i))return void i.convertToUnknownDocument(o.version);const l=KI(r.fieldTransforms,i,o.transformResults),d=i.data;d.setAll(WI(r)),d.setAll(l),i.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gh(n,e,t,r){return n instanceof E8?function(i,o,l,d){if(!Xv(i.precondition,o))return l;const p=i.value.clone(),v=YI(i.fieldTransforms,d,o);return p.setAll(v),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ea?function(i,o,l,d){if(!Xv(i.precondition,o))return l;const p=YI(i.fieldTransforms,d,o),v=o.data;return v.setAll(WI(i)),v.setAll(p),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===l?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(y=>y.field))}(n,e,t,r):(l=t,Xv(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l);var o,l}function JY(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=UI(r.transform,i||null);null!=o&&(null===t&&(t=mr.empty()),t.set(r.field,o))}return t||null}function ZI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&C8(t,r,(i,o)=>function KY(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof K6&&r instanceof K6||t instanceof Y6&&r instanceof Y6?C8(t.elements,r.elements,no):t instanceof T8&&r instanceof T8?no(t.gt,r.gt):t instanceof D8&&r instanceof D8);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class E8 extends e_{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ea extends e_{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function WI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function KI(n,e,t){const r=new Map;vt(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,d=e.data.field(o.field);r.set(o.field,WY(l,d,t[i]))}return r}function YI(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,ZY(o,l,e))}return r}class x8 extends e_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bS extends e_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XY{constructor(e){this.count=e}}var V2,ln;function QI(n){switch(n){default:return ot();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function JI(n){if(void 0===n)return w2("GRPC error has no .code"),ce.UNKNOWN;switch(n){case V2.OK:return ce.OK;case V2.CANCELLED:return ce.CANCELLED;case V2.UNKNOWN:return ce.UNKNOWN;case V2.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case V2.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case V2.INTERNAL:return ce.INTERNAL;case V2.UNAVAILABLE:return ce.UNAVAILABLE;case V2.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case V2.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case V2.NOT_FOUND:return ce.NOT_FOUND;case V2.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case V2.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case V2.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case V2.ABORTED:return ce.ABORTED;case V2.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case V2.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case V2.DATA_LOSS:return ce.DATA_LOSS;default:return ot()}}(ln=V2||(V2={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";class Ic{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){j6(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return lI(this.inner)}size(){return this.innerSize}}const eQ=new v2(Ge.comparator);function h1(){return eQ}const XI=new v2(Ge.comparator);function mh(...n){let e=XI;for(const t of n)e=e.insert(t.key,t);return e}function eV(n){let e=XI;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ro(){return vh()}function tV(){return vh()}function vh(){return new Ic(n=>n.toString(),(n,e)=>n.isEqual(e))}const tQ=new v2(Ge.comparator),nQ=new xn(Ge.comparator);function jt(...n){let e=nQ;for(const t of n)e=e.add(t);return e}const rQ=new xn(Ft);function t_(){return rQ}class _h{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ch.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _h(Mt.min(),i,t_(),h1(),jt())}}class Ch{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ch(r,t,jt(),jt(),jt())}}class n_{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class nV{constructor(e,t){this.targetId=e,this.Et=t}}class rV{constructor(e,t,r=R2.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class iV{constructor(){this.At=0,this.Rt=oV(),this.bt=R2.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=jt(),t=jt(),r=jt();return this.Rt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ot()}}),new Ch(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=oV()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class iQ{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=h1(),this.qt=sV(),this.Ut=new xn(Ft)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const o=i.target;if(Wv(o))if(0===r){const l=new Ge(o.path);this.Qt(t,l,Bn.newNoDocument(l,Mt.min()))}else vt(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((o,l)=>{const d=this.Yt(l);if(d){if(o.current&&Wv(d.target)){const p=new Ge(d.target.path);null!==this.Lt.get(p)||this.te(l,p)||this.Qt(l,p,Bn.newNoDocument(p,e))}o.St&&(t.set(l,o.Ct()),o.xt())}});let r=jt();this.qt.forEach((o,l)=>{let d=!0;l.forEachWhile(p=>{const v=this.Yt(p);return!v||2===v.purpose||(d=!1,!1)}),d&&(r=r.add(o))}),this.Lt.forEach((o,l)=>l.setReadTime(e));const i=new _h(e,t,this.Ut,this.Lt,r);return this.Lt=h1(),this.qt=sV(),this.Ut=new xn(Ft),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new iV,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new xn(Ft),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new iV),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function sV(){return new v2(Ge.comparator)}function oV(){return new v2(Ge.comparator)}const sQ={asc:"ASCENDING",desc:"DESCENDING"},oQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aQ={and:"AND",or:"OR"};class cQ{constructor(e,t){this.databaseId=e,this.wt=t}}function A8(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aV(n,e){return n.wt?e.toBase64():e.toUint8Array()}function lQ(n,e){return A8(n,e.toTimestamp())}function S2(n){return vt(!!n),Mt.fromTimestamp(function(e){const t=xc(e);return new Yn(t.seconds,t.nanos)}(n))}function MS(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cV(n){const e=cn.fromString(n);return vt(vV(e)),e}function yh(n,e){return MS(n.databaseId,e.path)}function io(n,e){const t=cV(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ge(uV(t))}function wS(n,e){return MS(n.databaseId,e)}function lV(n){const e=cV(n);return 4===e.length?cn.emptyPath():uV(e)}function bh(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uV(n){return vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dV(n,e,t){return{name:yh(n,e),fields:t.value.mapValue.fields}}function fV(n,e,t){const r=io(n,e.name),i=S2(e.updateTime),o=e.createTime?S2(e.createTime):Mt.min(),l=new mr({mapValue:{fields:e.fields}}),d=Bn.newFoundDocument(r,i,o,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Mh(n,e){let t;if(e instanceof E8)t={update:dV(n,e.key,e.value)};else if(e instanceof x8)t={delete:yh(n,e.key)};else if(e instanceof Ea)t={update:dV(n,e.key,e.data),updateMask:vQ(e.fieldMask)};else{if(!(e instanceof bS))return ot();t={verify:yh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof D8)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof K6)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Y6)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof T8)return{fieldPath:o.field.canonicalString(),increment:l.gt};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:lQ(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ot()),t;var i}function SS(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Qn.updateTime(S2(i.updateTime)):void 0!==i.exists?Qn.exists(i.exists):Qn.none():Qn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,l){let d=null;"setToServerValue"in l?(vt("REQUEST_TIME"===l.setToServerValue),d=new D8):"appendMissingElements"in l?d=new K6(l.appendMissingElements.values||[]):"removeAllFromArray"in l?d=new Y6(l.removeAllFromArray.values||[]):"increment"in l?d=new T8(o,l.increment):ot();const p=g2.fromServerFormat(l.fieldPath);return new ph(p,d)}(n,i)):[];var i;if(e.update){const i=io(n,e.update.name),o=new mr({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new z1((e.updateMask.fieldPaths||[]).map(v=>g2.fromServerFormat(v)));return new Ea(i,o,l,t,r)}return new E8(i,o,t,r)}if(e.delete){const i=io(n,e.delete);return new x8(i,t)}if(e.verify){const i=io(n,e.verify);return new bS(i,t)}return ot()}function hV(n,e){return{documents:[wS(n,e.path)]}}function DS(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=wS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0!==p.length)return mV(Dn.create(p,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(p){if(0!==p.length)return p.map(v=>{return{field:N8((y=v).field),direction:pQ(y.dir)};var y})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=(v=e.limit,n.wt||oh(v)?v:{value:v});var v,d,p;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function pV(n){let e=lV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){vt(1===r);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(y){const D=gV(y);return D instanceof Dn&&bI(D)?D.getFilters():[D]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(y=>{return new M8(H8((D=y).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let d=null;t.limit&&(d=function(y){let D;return D="object"==typeof y?y.value:y,oh(D)?null:D}(t.limit));let p=null;var y;t.startAt&&(p=new Hc((y=t.startAt).values||[],!!y.before));let v=null;return t.endAt&&(v=function(y){return new Hc(y.values||[],!y.before)}(t.endAt)),VI(e,i,l,o,d,"F",p,v)}function gV(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=H8(e.unaryFilter.field);return tn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=H8(e.unaryFilter.field);return tn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=H8(e.unaryFilter.field);return tn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=H8(e.unaryFilter.field);return tn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?tn.create(H8((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Dn.create(e.compositeFilter.filters.map(t=>gV(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function pQ(n){return sQ[n]}function gQ(n){return oQ[n]}function mQ(n){return aQ[n]}function N8(n){return{fieldPath:n.canonicalString()}}function H8(n){return g2.fromServerFormat(n.fieldPath)}function mV(n){return n instanceof tn?function(e){if("=="===e.op){if(pI(e.value))return{unaryFilter:{field:N8(e.field),op:"IS_NAN"}};if(hI(e.value))return{unaryFilter:{field:N8(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(pI(e.value))return{unaryFilter:{field:N8(e.field),op:"IS_NOT_NAN"}};if(hI(e.value))return{unaryFilter:{field:N8(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:N8(e.field),op:gQ(e.op),value:e.value}}}(n):n instanceof Dn?function(e){const t=e.getFilters().map(r=>mV(r));return 1===t.length?t[0]:{compositeFilter:{op:mQ(e.op),filters:t}}}(n):ot()}function vQ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function qr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_V(e)),e=_Q(n.get(t),e);return _V(e)}function _Q(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function _V(n){return n+"\x01\x01"}function so(n){const e=n.length;if(vt(e>=2),2===e)return vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const l=n.indexOf("\x01",o);switch((l<0||l>t)&&ot(),n.charAt(l+1)){case"\x01":const d=n.substring(o,l);let p;0===i.length?p=d:(i+=d,p=i,i=""),r.push(p);break;case"\x10":i+=n.substring(o,l),i+="\0";break;case"\x11":i+=n.substring(o,l+1);break;default:ot()}o=l+2}return new cn(r)}const CV=["userId","batchId"];function r_(n,e){return[n,qr(e)]}function yV(n,e,t){return[n,qr(e),t]}const CQ={},yQ=["prefixPath","collectionGroup","readTime","documentId"],bQ=["prefixPath","collectionGroup","documentId"],MQ=["collectionGroup","readTime","prefixPath","documentId"],wQ=["canonicalId","targetId"],SQ=["targetId","path"],DQ=["path","targetId"],TQ=["collectionId","parent"],EQ=["indexId","uid"],xQ=["uid","sequenceNumber"],AQ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NQ=["indexId","uid","orderedDocumentKey"],HQ=["userId","collectionPath","documentId"],IQ=["userId","collectionPath","largestBatchId"],VQ=["userId","collectionGroup","largestBatchId"],bV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],LQ=[...bV,"documentOverlays"],MV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wV=MV,zQ=[...wV,"indexConfiguration","indexState","indexEntries"];class TS extends oI{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function rr(n,e){const t=qe(n);return ss.M(t.se,e)}class ES{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&QY(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tV();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let d=this.applyToLocalView(l,o.mutatedFields);d=t.has(i.key)?null:d;const p=qI(l,d);null!==p&&r.set(i.key,p),l.isValidDocument()||l.convertToNoDocument(Mt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),jt())}isEqual(e){return this.batchId===e.batchId&&C8(this.mutations,e.mutations,(t,r)=>ZI(t,r))&&C8(this.baseMutations,e.baseMutations,(t,r)=>ZI(t,r))}}class xS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){vt(e.mutations.length===r.length);let i=tQ;const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new xS(e,t,r,i)}}class AS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Vc{constructor(e,t,r,i,o=Mt.min(),l=Mt.min(),d=R2.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d}withSequenceNumber(e){return new Vc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class SV{constructor(e){this.ie=e}}function DV(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:i_(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:yh(i=n.ie,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:A8(i,o.version.toTimestamp()),createTime:A8(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Q6(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:Q6(e.version)}}var i,o;return r}function i_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Q6(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function J6(n){const e=new Yn(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function X6(n,e){const t=(e.baseMutations||[]).map(o=>SS(n.ie,o));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(l.updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o)}const r=e.mutations.map(o=>SS(n.ie,o)),i=Yn.fromMillis(e.localWriteTimeMs);return new ES(e.batchId,i,t,r)}function wh(n){const e=J6(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?J6(n.lastLimboFreeSnapshotVersion):Mt.min();let r;var i;return void 0!==n.query.documents?(vt(1===(i=n.query).documents.length),r=Gr(S8(lV(i.documents[0])))):r=Gr(pV(n.query)),new Vc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,R2.fromBase64String(n.resumeToken))}function TV(n,e){const t=Q6(e.snapshotVersion),r=Q6(e.lastLimboFreeSnapshotVersion);let i;i=Wv(e.target)?hV(n.ie,e.target):DS(n.ie,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Z6(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function NS(n){const e=pV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Qv(e,e.limit,"L"):e}function HS(n,e){return new AS(e.largestBatchId,SS(n.ie,e.overlayMutation))}function EV(n,e){const t=e.path.lastSegment();return[n,qr(e.path.popLast()),t]}function xV(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Q6(r.readTime),documentKey:qr(r.documentKey.path),largestBatchId:r.largestBatchId}}class OQ{getBundleMetadata(e,t){return AV(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:J6(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return AV(e).put({bundleId:(r=t).id,createTime:Q6(S2(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return NV(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:NS(i.bundledQuery),readTime:J6(i.readTime)};var i})}saveNamedQuery(e,t){return NV(e).put({name:(r=t).name,readTime:Q6(S2(r.readTime)),bundledQuery:r.bundledQuery});var r}}function AV(n){return rr(n,"bundles")}function NV(n){return rr(n,"namedQueries")}class s_{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new s_(e,t.uid||"")}getOverlay(e,t){return Sh(e).get(EV(this.userId,t)).next(r=>r?HS(this.yt,r):null)}getOverlays(e,t){const r=ro();return se.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,l)=>{const d=new AS(t,l);i.push(this.oe(e,d))}),se.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(qr(l.getCollectionPath())));const o=[];return i.forEach(l=>{const d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);o.push(Sh(e).Y("collectionPathOverlayIndex",d))}),se.waitFor(o)}getOverlaysForCollection(e,t,r){const i=ro(),o=qr(t),l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Sh(e).W("collectionPathOverlayIndex",l).next(d=>{for(const p of d){const v=HS(this.yt,p);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=ro();let l;const d=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sh(e).Z({index:"collectionGroupOverlayIndex",range:d},(p,v,y)=>{const D=HS(this.yt,v);o.size()<i||D.largestBatchId===l?(o.set(D.getKey(),D),l=D.largestBatchId):y.done()}).next(()=>o)}oe(e,t){return Sh(e).put(function(r,i,o){const[l,d,p]=EV(i,o.mutation.key);return{userId:i,collectionPath:d,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Mh(r.ie,o.mutation)}}(this.yt,this.userId,t))}}function Sh(n){return rr(n,"documentOverlays")}class el{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(m2(e.integerValue));else if("doubleValue"in e){const r=m2(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),ah(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we($6(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?gI(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):ot()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),Ge.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function PQ(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function HV(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=PQ(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}el.Ie=new el;class RQ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ee(r.value),r=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Pe()}ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ee(r);else if(r<2048)this.Ee(960|r>>>6),this.Ee(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r);else{const i=t.codePointAt(0);this.Ee(240|i>>>18),this.Ee(128|63&i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i)}}this.Ae()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{const i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Pe()}Se(e){const t=this.De(e),r=HV(t);this.Ce(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}xe(e){const t=this.De(e),r=HV(t);this.Ce(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class FQ{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class UQ{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Dh{constructor(){this.$e=new RQ,this.Be=new FQ(this.$e),this.Le=new UQ(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class tl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new tl(this.indexId,this.documentKey,this.arrayValue,r)}}function Lc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=IV(n.arrayValue,e.arrayValue),0!==t?t:(t=IV(n.directionalValue,e.directionalValue),0!==t?t:Ge.comparator(n.documentKey,e.documentKey)))}function IV(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class BQ{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const r=t;r.isInequality()?this.Qe=r:this.Ge.push(r)}}je(e){vt(e.collectionGroup===this.collectionId);const t=aS(e);if(void 0!==t&&!this.We(t))return!1;const r=U6(e);let i=0,o=0;for(;i<r.length&&this.We(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Qe){const l=r[i];if(!this.ze(this.Qe,l)||!this.He(this.Ke[o++],l))return!1;++i}for(;i<r.length;++i){const l=r[i];if(o>=this.Ke.length||!this.He(this.Ke[o++],l))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function VV(n){var e,t;if(vt(n instanceof tn||n instanceof Dn),n instanceof tn){if(n instanceof xI){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>tn.create(n.field,"==",o)))||[];return Dn.create(i,"or")}return n}const r=n.filters.map(i=>VV(i));return Dn.create(r,n.op)}function jQ(n){if(0===n.getFilters().length)return[];const e=LS(VV(n));return vt(LV(e)),IS(e)||VS(e)?[e]:e.getFilters()}function IS(n){return n instanceof tn}function VS(n){return n instanceof Dn&&bI(n)}function LV(n){return IS(n)||VS(n)||function(e){if(e instanceof Dn&&pS(e)){for(const t of e.getFilters())if(!IS(t)&&!VS(t))return!1;return!0}return!1}(n)}function LS(n){if(vt(n instanceof tn||n instanceof Dn),n instanceof tn)return n;if(1===n.filters.length)return LS(n.filters[0]);const e=n.filters.map(r=>LS(r));let t=Dn.create(e,n.op);return t=o_(t),LV(t)?t:(vt(t instanceof Dn),vt(b8(t)),vt(t.filters.length>1),t.filters.reduce((r,i)=>zS(r,i)))}function zS(n,e){let t;return vt(n instanceof tn||n instanceof Dn),vt(e instanceof tn||e instanceof Dn),t=n instanceof tn?e instanceof tn?Dn.create([n,e],"and"):zV(n,e):e instanceof tn?zV(e,n):function(r,i){if(vt(r.filters.length>0&&i.filters.length>0),b8(r)&&b8(i))return DI(r,i.getFilters());const o=pS(r)?r:i,l=pS(r)?i:r,d=o.filters.map(p=>zS(p,l));return Dn.create(d,"or")}(n,e),o_(t)}function zV(n,e){if(b8(e))return DI(e,n.getFilters());{const t=e.filters.map(r=>zS(n,r));return Dn.create(t,"or")}}function o_(n){if(vt(n instanceof tn||n instanceof Dn),n instanceof tn)return n;const e=n.getFilters();if(1===e.length)return o_(e[0]);if(MI(n))return n;const t=e.map(i=>o_(i)),r=[];return t.forEach(i=>{i instanceof tn?r.push(i):i instanceof Dn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Dn.create(r,n.op)}class $Q{constructor(){this.Je=new kS}addToCollectionParentIndex(e,t){return this.Je.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(V1.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(V1.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class kS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new xn(cn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xn(cn.comparator)).toArray()}}const a_=new Uint8Array(0);class GQ{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new kS,this.Xe=new Ic(r=>Z6(r),(r,i)=>fh(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const o={collectionId:r,parent:qr(i)};return kV(e).put(o)}return se.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[nI(t),""],!1,!0);return kV(e).W(i).next(o=>{for(const l of o){if(l.collectionId!==t)break;r.push(so(l.parent))}return r})}addFieldIndex(e,t){const r=c_(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var l;delete i.indexId;const o=r.add(i);if(t.indexState){const l=Eh(e);return o.next(d=>{l.put(xV(d,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=c_(e),i=Eh(e),o=Th(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Th(e);let i=!0;const o=new Map;return se.forEach(this.Ze(t),l=>this.tn(e,l).next(d=>{i&&(i=!!d),o.set(l,d)})).next(()=>{if(i){let l=jt();const d=[];return se.forEach(o,(p,v)=>{var y;Pe("IndexedDbIndexManager",`Using index ${y=p,`id=${y.indexId}|cg=${y.collectionGroup}|f=${y.fields.map(ge=>`${ge.fieldPath}:${ge.kind}`).join(",")}`} to execute ${Z6(t)}`);const D=function(ge,fe){const xe=aS(fe);if(void 0===xe)return null;for(const Ve of Kv(ge,xe.fieldPath))switch(Ve.op){case"array-contains-any":return Ve.value.arrayValue.values||[];case"array-contains":return[Ve.value]}return null}(v,p),x=function(ge,fe){const xe=new Map;for(const Ve of U6(fe))for(const Ye of Kv(ge,Ve.fieldPath))switch(Ye.op){case"==":case"in":xe.set(Ve.fieldPath.canonicalString(),Ye.value);break;case"not-in":case"!=":return xe.set(Ve.fieldPath.canonicalString(),Ye.value),Array.from(xe.values())}return null}(v,p),H=function(ge,fe){const xe=[];let Ve=!0;for(const Ye of U6(fe)){const St=0===Ye.kind?HI(ge,Ye.fieldPath,ge.startAt):II(ge,Ye.fieldPath,ge.startAt);xe.push(St.value),Ve&&(Ve=St.inclusive)}return new Hc(xe,Ve)}(v,p),z=function(ge,fe){const xe=[];let Ve=!0;for(const Ye of U6(fe)){const St=0===Ye.kind?II(ge,Ye.fieldPath,ge.endAt):HI(ge,Ye.fieldPath,ge.endAt);xe.push(St.value),Ve&&(Ve=St.inclusive)}return new Hc(xe,Ve)}(v,p),U=this.en(p,v,H),q=this.en(p,v,z),re=this.nn(p,v,x),ue=this.sn(p.indexId,D,U,H.inclusive,q,z.inclusive,re);return se.forEach(ue,ge=>r.J(ge,t.limit).next(fe=>{fe.forEach(xe=>{const Ve=Ge.fromSegments(xe.documentKey);l.has(Ve)||(l=l.add(Ve),d.push(Ve))})}))}).next(()=>d)}return se.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:jQ(Dn.create(e.filters,"and")).map(r=>gS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,r,i,o,l,d){const p=(null!=t?t.length:1)*Math.max(r.length,o.length),v=p/(null!=t?t.length:1),y=[];for(let D=0;D<p;++D){const x=t?this.rn(t[D/v]):a_,H=this.on(e,x,r[D%v],i),z=this.un(e,x,o[D%v],l),U=d.map(q=>this.on(e,x,q,!0));y.push(...this.createRange(H,z,U))}return y}on(e,t,r,i){const o=new tl(e,Ge.empty(),t,r);return i?o:o.Ue()}un(e,t,r,i){const o=new tl(e,Ge.empty(),t,r);return i?o.Ue():o}tn(e,t){const r=new BQ(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let l=null;for(const d of o)r.je(d)&&(!l||d.fields.length>l.fields.length)&&(l=d);return l})}getIndexType(e,t){let r=2;const i=this.Ze(t);return se.forEach(i,o=>this.tn(e,o).next(l=>{l?0!==r&&l.fields.length<function(d){let p=new xn(g2.comparator),v=!1;for(const y of d.filters)for(const D of y.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?v=!0:p=p.add(D.field));for(const y of d.orderBy)y.field.isKeyField()||(p=p.add(y.field));return p.size+(v?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}cn(e,t){const r=new Dh;for(const i of U6(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const l=r.qe(i.kind);el.Ie.ue(o,l)}return r.Fe()}rn(e){const t=new Dh;return el.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const r=new Dh;return el.Ie.ue(q6(this.databaseId,t),r.qe(function(i){const o=U6(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Fe()}nn(e,t,r){if(null===r)return[];let i=[];i.push(new Dh);let o=0;for(const l of U6(e)){const d=r[o++];for(const p of i)if(this.hn(t,l.fieldPath)&&uh(d))i=this.ln(i,l,d);else{const v=p.qe(l.kind);el.Ie.ue(d,v)}}return this.fn(i)}en(e,t,r){return this.nn(e,t,r.position)}fn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Fe();return t}ln(e,t,r){const i=[...e],o=[];for(const l of r.arrayValue.values||[])for(const d of i){const p=new Dh;p.seed(d.Fe()),el.Ie.ue(l,p.qe(t.kind)),o.push(p)}return o}hn(e,t){return!!e.filters.find(r=>r instanceof tn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=c_(e),i=Eh(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(o=>{const l=[];return se.forEach(o,d=>i.get([d.indexId,this.uid]).next(p=>{l.push(function(v,y){const D=y?new ih(y.sequenceNumber,new V1(J6(y.readTime),new Ge(so(y.documentKey)),y.largestBatchId)):ih.empty(),x=v.fields.map(([H,z])=>new jv(g2.fromServerFormat(H),z));return new Bv(v.indexId,v.collectionGroup,x,D)}(d,p))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Ft(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=c_(e),o=Eh(e);return this.dn(e).next(l=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>se.forEach(d,p=>o.put(xV(p.indexId,this.user,l,r)))))}updateIndexEntries(e,t){const r=new Map;return se.forEach(t,(i,o)=>{const l=r.get(i.collectionGroup);return(l?se.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(d=>(r.set(i.collectionGroup,d),se.forEach(d,p=>this._n(e,i,p).next(v=>{const y=this.wn(o,p);return v.isEqual(y)?se.resolve():this.mn(e,o,p,v,y)}))))})}gn(e,t,r,i){return Th(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(r,t.key),documentKey:t.key.path.toArray()})}yn(e,t,r,i){return Th(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(r,t.key),t.key.path.toArray()])}_n(e,t,r){const i=Th(e);let o=new xn(Lc);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.an(r,t)])},(l,d)=>{o=o.add(new tl(r.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>o)}wn(e,t){let r=new xn(Lc);const i=this.cn(t,e);if(null==i)return r;const o=aS(t);if(null!=o){const l=e.data.field(o.fieldPath);if(uh(l))for(const d of l.arrayValue.values||[])r=r.add(new tl(t.indexId,e.key,this.rn(d),i))}else r=r.add(new tl(t.indexId,e.key,a_,i));return r}mn(e,t,r,i,o){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(d,p,v,y,D){const x=d.getIterator(),H=p.getIterator();let z=w8(x),U=w8(H);for(;z||U;){let q=!1,re=!1;if(z&&U){const ue=v(z,U);ue<0?re=!0:ue>0&&(q=!0)}else null!=z?re=!0:q=!0;q?(y(U),U=w8(H)):re?(D(z),z=w8(x)):(z=w8(x),U=w8(H))}}(i,o,Lc,d=>{l.push(this.gn(e,t,r,d))},d=>{l.push(this.yn(e,t,r,d))}),se.waitFor(l)}dn(e){let t=1;return Eh(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,d)=>Lc(l,d)).filter((l,d,p)=>!d||0!==Lc(l,p[d-1]));const i=[];i.push(e);for(const l of r){const d=Lc(l,e),p=Lc(l,t);if(0===d)i[0]=e.Ue();else if(d>0&&p<0)i.push(l),i.push(l.Ue());else if(p>0)break}i.push(t);const o=[];for(let l=0;l<i.length;l+=2){if(this.pn(i[l],i[l+1]))return[];o.push(IDBKeyRange.bound([i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,a_,[]],[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,a_,[]]))}return o}pn(e,t){return Lc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(OV)}getMinOffset(e,t){return se.mapArray(this.Ze(t),r=>this.tn(e,r).next(i=>i||ot())).next(OV)}}function kV(n){return rr(n,"collectionParents")}function Th(n){return rr(n,"indexEntries")}function c_(n){return rr(n,"indexConfiguration")}function Eh(n){return rr(n,"indexState")}function OV(n){vt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;cS(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new V1(e.readTime,e.documentKey,t)}const PV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class p1{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new p1(e,p1.DEFAULT_COLLECTION_PERCENTILE,p1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function RV(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],l=IDBKeyRange.only(t.batchId);let d=0;const p=r.Z({range:l},(y,D,x)=>(d++,x.delete()));o.push(p.next(()=>{vt(1===d)}));const v=[];for(const y of t.mutations){const D=yV(e,y.key.path,t.batchId);o.push(i.delete(D)),v.push(y.key)}return se.waitFor(o).next(()=>v)}function l_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}p1.DEFAULT_COLLECTION_PERCENTILE=10,p1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,p1.DEFAULT=new p1(41943040,p1.DEFAULT_COLLECTION_PERCENTILE,p1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),p1.DISABLED=new p1(-1,0,0);class u_{constructor(e,t,r,i){this.userId=e,this.yt=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static re(e,t,r,i){vt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new u_(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zc(e).Z({index:"userMutationsIndex",range:r},(i,o,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=I8(e),l=zc(e);return l.add({}).next(d=>{vt("number"==typeof d);const p=new ES(d,t,r,i),v=function(x,H,z){const U=z.baseMutations.map(re=>Mh(x.ie,re)),q=z.mutations.map(re=>Mh(x.ie,re));return{userId:H,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:U,mutations:q}}(this.yt,this.userId,p),y=[];let D=new xn((x,H)=>Ft(x.canonicalString(),H.canonicalString()));for(const x of i){const H=yV(this.userId,x.key.path,d);D=D.add(x.key.path.popLast()),y.push(l.put(v)),y.push(o.put(H,CQ))}return D.forEach(x=>{y.push(this.indexManager.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(()=>{this.In[d]=p.keys()}),se.waitFor(y).next(()=>p)})}lookupMutationBatch(e,t){return zc(e).get(t).next(r=>r?(vt(r.userId===this.userId),X6(this.yt,r)):null)}Tn(e,t){return this.In[t]?se.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return zc(e).Z({index:"userMutationsIndex",range:i},(l,d,p)=>{d.userId===this.userId&&(vt(d.batchId>=r),o=X6(this.yt,d)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return zc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,o,l)=>{r=o.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zc(e).W("userMutationsIndex",t).next(r=>r.map(i=>X6(this.yt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=r_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return I8(e).Z({range:i},(l,d,p)=>{const[v,y,D]=l,x=so(y);if(v===this.userId&&t.path.isEqual(x))return zc(e).get(D).next(H=>{if(!H)throw ot();vt(H.userId===this.userId),o.push(X6(this.yt,H))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xn(Ft);const i=[];return t.forEach(o=>{const l=r_(this.userId,o.path),d=IDBKeyRange.lowerBound(l),p=I8(e).Z({range:d},(v,y,D)=>{const[x,H,z]=v,U=so(H);x===this.userId&&o.path.isEqual(U)?r=r.add(z):D.done()});i.push(p)}),se.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=r_(this.userId,r),l=IDBKeyRange.lowerBound(o);let d=new xn(Ft);return I8(e).Z({range:l},(p,v,y)=>{const[D,x,H]=p,z=so(x);D===this.userId&&r.isPrefixOf(z)?z.length===i&&(d=d.add(H)):y.done()}).next(()=>this.En(e,d))}En(e,t){const r=[],i=[];return t.forEach(o=>{i.push(zc(e).get(o).next(l=>{if(null===l)throw ot();vt(l.userId===this.userId),r.push(X6(this.yt,l))}))}),se.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return RV(e.se,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),se.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return se.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return I8(e).Z({range:r},(o,l,d)=>{if(o[0]===this.userId){const p=so(o[1]);i.push(p)}else d.done()}).next(()=>{vt(0===i.length)})})}containsKey(e,t){return FV(e,this.userId,t)}Rn(e){return UV(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function FV(n,e,t){const r=r_(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let l=!1;return I8(n).Z({range:o,X:!0},(d,p,v)=>{const[y,D,x]=d;y===e&&D===i&&(l=!0),v.done()}).next(()=>l)}function zc(n){return rr(n,"mutations")}function I8(n){return rr(n,"documentMutations")}function UV(n){return rr(n,"mutationQueues")}class nl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new nl(0)}static vn(){return new nl(-1)}}class qQ{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new nl(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Mt.fromTimestamp(new Yn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>V8(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(vt(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return V8(e).Z((l,d)=>{const p=wh(d);p.sequenceNumber<=t&&null===r.get(p.targetId)&&(i++,o.push(this.removeTargetData(e,p)))}).next(()=>se.waitFor(o)).next(()=>i)}forEachTarget(e,t){return V8(e).Z((r,i)=>{const o=wh(i);t(o)})}Vn(e){return BV(e).get("targetGlobalKey").next(t=>(vt(null!==t),t))}Sn(e,t){return BV(e).put("targetGlobalKey",t)}Dn(e,t){return V8(e).put(TV(this.yt,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Z6(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return V8(e).Z({range:i,index:"queryTargetsIndex"},(l,d,p)=>{const v=wh(d);fh(t,v.target)&&(o=v,p.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=kc(e);return t.forEach(l=>{const d=qr(l.path);i.push(o.put({targetId:r,path:d})),i.push(this.referenceDelegate.addReference(e,r,l))}),se.waitFor(i)}removeMatchingKeys(e,t,r){const i=kc(e);return se.forEach(t,o=>{const l=qr(o.path);return se.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=kc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=kc(e);let o=jt();return i.Z({range:r,X:!0},(l,d,p)=>{const v=so(l[1]),y=new Ge(v);o=o.add(y)}).next(()=>o)}containsKey(e,t){const r=qr(t.path),i=IDBKeyRange.bound([r],[nI(r)],!1,!0);let o=0;return kc(e).Z({index:"documentTargetsIndex",X:!0,range:i},([l,d],p,v)=>{0!==l&&(o++,v.done())}).next(()=>o>0)}ne(e,t){return V8(e).get(t).next(r=>r?wh(r):null)}}function V8(n){return rr(n,"targets")}function BV(n){return rr(n,"targetGlobal")}function kc(n){return rr(n,"targetDocuments")}function jV([n,e],[t,r]){const i=Ft(n,t);return 0===i?Ft(e,r):i}class ZQ{constructor(e){this.xn=e,this.buffer=new xn(jV),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();jV(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WQ{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,W.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Tc(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Dc(r)}yield t.Fn(3e5)}))}}class KQ{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return se.resolve(L1.at);const r=new ZQ(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(PV)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PV):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let r,i,o,l,d,p,v;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),i=this.params.maximumSequenceNumbersToCollect):i=D,l=Date.now(),this.nthSequenceNumber(e,i))).next(D=>(r=D,d=Date.now(),this.removeTargets(e,r,t))).next(D=>(o=D,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(D=>(v=Date.now(),sS()<=Fr.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-y}ms\n\tDetermined least recently used ${i} in `+(d-l)+`ms\n\tRemoved ${o} targets in `+(p-d)+`ms\n\tRemoved ${D} documents in `+(v-p)+`ms\nTotal Duration: ${v-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:D})))}}class YQ{constructor(e,t){this.db=e,this.garbageCollector=new KQ(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Un(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return d_(e,r)}removeReference(e,t,r){return d_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return d_(e,t)}Gn(e,t){return function(r,i){let o=!1;return UV(r).tt(l=>FV(r,l,i).next(d=>(d&&(o=!0),se.resolve(!d)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Kn(e,(l,d)=>{if(d<=t){const p=this.Gn(e,l).next(v=>{if(!v)return o++,r.getEntry(e,l).next(()=>(r.removeEntry(l,Mt.min()),kc(e).delete([0,qr(l.path)])))});i.push(p)}}).next(()=>se.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return d_(e,t)}Kn(e,t){const r=kc(e);let i,o=L1.at;return r.Z({index:"documentTargetsIndex"},([l,d],{path:p,sequenceNumber:v})=>{0===l?(o!==L1.at&&t(new Ge(so(i)),o),o=v,i=p):o=L1.at}).next(()=>{o!==L1.at&&t(new Ge(so(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function d_(n,e){return kc(n).put((r=n.currentSequenceNumber,{targetId:0,path:qr(e.path),sequenceNumber:r}));var r}class $V{constructor(){this.changes=new Ic(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QQ{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return rl(e).put(r)}removeEntry(e,t,r){return rl(e).delete(function(i,o){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],i_(o),l[l.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Bn.newInvalidDocument(t);return rl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xh(t))},(i,o)=>{r=this.jn(t,o)}).next(()=>r)}Wn(e,t){let r={size:0,document:Bn.newInvalidDocument(t)};return rl(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(xh(t))},(i,o)=>{r={document:this.jn(t,o),size:l_(o)}}).next(()=>r)}getEntries(e,t){let r=h1();return this.zn(e,t,(i,o)=>{const l=this.jn(i,o);r=r.insert(i,l)}).next(()=>r)}Hn(e,t){let r=h1(),i=new v2(Ge.comparator);return this.zn(e,t,(o,l)=>{const d=this.jn(o,l);r=r.insert(o,d),i=i.insert(o,l_(l))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return se.resolve();let i=new xn(WV);t.forEach(p=>i=i.add(p));const o=IDBKeyRange.bound(xh(i.first()),xh(i.last())),l=i.getIterator();let d=l.getNext();return rl(e).Z({index:"documentKeyIndex",range:o},(p,v,y)=>{const D=Ge.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;d&&WV(d,D)<0;)r(d,null),d=l.getNext();d&&d.isEqual(D)&&(r(d,v),d=l.hasNext()?l.getNext():null),d?y.j(xh(d)):y.done()}).next(()=>{for(;d;)r(d,null),d=l.hasNext()?l.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),i_(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],o=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rl(e).W(IDBKeyRange.bound(i,o,!0)).next(l=>{let d=h1();for(const p of l){const v=this.jn(Ge.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(v.key,v)}return d})}getAllFromCollectionGroup(e,t,r,i){let o=h1();const l=ZV(t,r),d=ZV(t,V1.max());return rl(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,d,!0)},(p,v,y)=>{const D=this.jn(Ge.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(D.key,D),o.size===i&&y.done()}).next(()=>o)}newChangeBuffer(e){return new JQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return qV(e).get("remoteDocumentGlobalKey").next(t=>(vt(!!t),t))}Qn(e,t){return qV(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function kQ(n,e){let t;if(e.document)t=fV(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ge.fromSegments(e.noDocument.path),i=J6(e.noDocument.readTime);t=Bn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Ge.fromSegments(e.unknownDocument.path),i=J6(e.unknownDocument.version);t=Bn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Yn(r[0],r[1]);return Mt.fromTimestamp(i)}(e.readTime)),t}(this.yt,t);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return Bn.newInvalidDocument(e)}}function GV(n){return new QQ(n)}class JQ extends $V{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Ic(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new xn((o,l)=>Ft(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const d=this.Xn.get(o);if(t.push(this.Yn.removeEntry(e,o,d.readTime)),l.isValidDocument()){const p=DV(this.Yn.yt,l);i=i.add(o.path.popLast()),r+=l_(p)-d.size,t.push(this.Yn.addEntry(e,o,p))}else if(r-=d.size,this.trackRemovals){const p=DV(this.Yn.yt,l.convertToNoDocument(Mt.min()));t.push(this.Yn.addEntry(e,o,p))}}),i.forEach(o=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Yn.updateMetadata(e,r)),se.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((o,l)=>{this.Xn.set(o,{size:l,readTime:r.get(o).readTime})}),r))}}function qV(n){return rr(n,"remoteDocumentGlobal")}function rl(n){return rr(n,"remoteDocumentsV14")}function xh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ZV(n,e){const t=e.documentKey.path.toArray();return[n,i_(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function WV(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Ft(t[o],r[o]),i)return i;return i=Ft(t.length,r.length),i||(i=Ft(t[t.length-2],r[r.length-2]),i||Ft(t[t.length-1],r[r.length-1]))}class XQ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class KV{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&gh(r.mutation,i,z1.empty(),Yn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,jt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=jt()){const i=ro();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=mh();return o.forEach((d,p)=>{l=l.insert(d,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=ro();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,jt()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,d)=>{t.set(l,d)})})}computeViews(e,t,r,i){let o=h1();const l=vh(),d=vh();return t.forEach((p,v)=>{const y=r.get(v.key);i.has(v.key)&&(void 0===y||y.mutation instanceof Ea)?o=o.insert(v.key,v):void 0!==y&&(l.set(v.key,y.mutation.getFieldMask()),gh(y.mutation,v,y.mutation.getFieldMask(),Yn.now()))}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((v,y)=>l.set(v,y)),t.forEach((v,y)=>{var D;return d.set(v,new XQ(y,null!==(D=l.get(v))&&void 0!==D?D:null))}),d))}recalculateAndSaveOverlays(e,t){const r=vh();let i=new v2((l,d)=>l-d),o=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const d of l)d.keys().forEach(p=>{const v=t.get(p);if(null===v)return;let y=r.get(p)||z1.empty();y=d.applyToLocalView(v,y),r.set(p,y);const D=(i.get(d.batchId)||jt()).add(p);i=i.insert(d.batchId,D)})}).next(()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),v=p.key,y=p.value,D=tV();y.forEach(x=>{if(!o.has(x)){const H=qI(t.get(x),r.get(x));null!==H&&D.set(x,H),o=o.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,D))}return se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ge.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):se.resolve(ro());let d=-1,p=o;return l.next(v=>se.forEach(v,(y,D)=>(d<D.largestBatchId&&(d=D.largestBatchId),o.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next(x=>{p=p.insert(y,x)}))).next(()=>this.populateOverlays(e,v,o)).next(()=>this.computeViews(e,p,v,jt())).next(y=>({batchId:d,changes:eV(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ge(t)).next(r=>{let i=mh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=mh();return this.indexManager.getCollectionParents(e,i).next(l=>se.forEach(l,d=>{const p=(v=t,y=d.child(i),new Ta(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,y;return this.getDocumentsMatchingCollectionQuery(e,p,r).next(v=>{v.forEach((y,D)=>{o=o.insert(y,D)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(o=>(i=o,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(o=>{o.forEach((d,p)=>{const v=p.getKey();null===i.get(v)&&(i=i.insert(v,Bn.newInvalidDocument(v)))});let l=mh();return i.forEach((d,p)=>{const v=o.get(d);void 0!==v&&gh(v.mutation,p,z1.empty(),Yn.now()),yS(t,p)&&(l=l.insert(d,p))}),l})}}class eJ{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return se.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:S2(r.createTime)}),se.resolve()}getNamedQuery(e,t){return se.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:NS(r.bundledQuery),readTime:S2(r.readTime)}),se.resolve();var r}}class tJ{constructor(){this.overlays=new v2(Ge.comparator),this.es=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ro();return se.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.oe(e,t,o)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.es.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const i=ro(),o=t.length+1,l=new Ge(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const p=d.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&p.largestBatchId>r&&i.set(p.getKey(),p)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new v2((v,y)=>v-y);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let y=o.get(v.largestBatchId);null===y&&(y=ro(),o=o.insert(v.largestBatchId,y)),y.set(v.getKey(),v)}}const d=ro(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,y)=>d.set(v,y)),!(d.size()>=i)););return se.resolve(d)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const l=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new AS(t,r));let o=this.es.get(t);void 0===o&&(o=jt(),this.es.set(t,o)),this.es.set(t,o.add(r.key))}}class OS{constructor(){this.ns=new xn(ir.ss),this.rs=new xn(ir.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new ir(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new ir(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ge(new cn([])),r=new ir(t,e),i=new ir(t,e+1),o=[];return this.rs.forEachInRange([r,i],l=>{this.cs(l),o.push(l.key)}),o}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ge(new cn([])),r=new ir(t,e),i=new ir(t,e+1);let o=jt();return this.rs.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new ir(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ir{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ge.comparator(e.key,t.key)||Ft(e._s,t._s)}static os(e,t){return Ft(e._s,t._s)||Ge.comparator(e.key,t.key)}}class nJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new xn(ir.ss)}checkEmpty(e){return se.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.ws;this.ws++;const l=new ES(o,t,r,i);this.mutationQueue.push(l);for(const d of i)this.gs=this.gs.add(new ir(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(l)}lookupMutationBatch(e,t){return se.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),o=i<0?0:i;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ir(t,0),i=new ir(t,Number.POSITIVE_INFINITY),o=[];return this.gs.forEachInRange([r,i],l=>{const d=this.ys(l._s);o.push(d)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xn(Ft);return t.forEach(i=>{const o=new ir(i,0),l=new ir(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([o,l],d=>{r=r.add(d._s)})}),se.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Ge.isDocumentKey(o)||(o=o.child(""));const l=new ir(new Ge(o),0);let d=new xn(Ft);return this.gs.forEachWhile(p=>{const v=p.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(d=d.add(p._s)),!0)},l),se.resolve(this.Is(d))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){vt(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return se.forEach(t.mutations,i=>{const o=new ir(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new ir(t,0),i=this.gs.firstAfterOrEqual(r);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return se.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rJ{constructor(e){this.Es=e,this.docs=new v2(Ge.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let r=h1();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bn.newInvalidDocument(i))}),se.resolve(r)}getAllFromCollection(e,t,r){let i=h1();const o=new Ge(t.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:d,value:{document:p}}=l.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||cS(iI(p),r)<=0||(i=i.insert(p.key,p.mutableCopy()))}return se.resolve(i)}getAllFromCollectionGroup(e,t,r,i){ot()}As(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new iJ(this)}getSize(e){return se.resolve(this.size)}}class iJ extends $V{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class sJ{constructor(e){this.persistence=e,this.Rs=new Ic(t=>Z6(t),fh),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new OS,this.targetCount=0,this.vs=nl.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),se.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new nl(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Dn(t),se.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Rs.forEach((l,d)=>{d.sequenceNumber<=t&&null===r.get(d.targetId)&&(this.Rs.delete(l),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),se.waitFor(o).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.Ps.containsKey(t))}}class YV{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new L1(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new sJ(this),this.indexManager=new $Q,this.remoteDocumentCache=new rJ(r=>this.referenceDelegate.xs(r)),this.yt=new SV(t),this.Ns=new eJ(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new nJ(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new oJ(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(o=>this.referenceDelegate.Os(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ms(e,t){return se.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class oJ extends oI{constructor(e){super(),this.currentSequenceNumber=e}}class f_{constructor(e){this.persistence=e,this.Fs=new OS,this.$s=null}static Bs(e){return new f_(e)}get Ls(){if(this.$s)return this.$s;throw ot()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),se.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ls.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.Ls,r=>{const i=Ge.fromPath(r);return this.qs(e,i).next(o=>{o||t.removeEntry(i,Mt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return se.or([()=>se.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class aJ{constructor(e){this.yt=e}$(e,t,r,i){const o=new $v("createOrUpgrade",t);var d;r<1&&i>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CV,{unique:!0}),d.createObjectStore("documentMutations"),QV(e),function(d){d.createObjectStore("remoteDocuments")}(e));let l=se.resolve();return r<3&&i>=3&&(0!==r&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),QV(e)),l=l.next(()=>function(d){const p=d.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",v)}(o))),r<4&&i>=4&&(0!==r&&(l=l.next(()=>function(d,p){return p.store("mutations").W().next(v=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CV,{unique:!0});const y=p.store("mutations"),D=v.map(x=>y.put(x));return se.waitFor(D)})}(e,o))),l=l.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(l=l.next(()=>this.Us(o))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(o)))),r<7&&i>=7&&(l=l.next(()=>this.Gs(o))),r<8&&i>=8&&(l=l.next(()=>this.Qs(e,o))),r<9&&i>=9&&(l=l.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(l=l.next(()=>this.js(o))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(l=l.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:HQ});p.createIndex("collectionPathOverlayIndex",IQ,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",VQ,{unique:!1})}(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:yQ});p.createIndex("documentKeyIndex",bQ),p.createIndex("collectionGroupIndex",MQ)}(e)).next(()=>this.Ws(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(l=l.next(()=>this.zs(e,o))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:EQ}).createIndex("sequenceNumberIndex",xQ,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:AQ}).createIndex("documentKeyIndex",NQ,{unique:!1})}(e))),l}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=l_(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Us(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>se.forEach(i,o=>{const l=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",l).next(d=>se.forEach(d,p=>{vt(p.userId===o.userId);const v=X6(this.yt,p);return RV(e,o.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Z((l,d)=>{const p=new cn(l),v=[0,qr(p)];o.push(t.get(v).next(y=>y?se.resolve():t.put({targetId:0,path:qr(p),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>se.waitFor(o))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:TQ});const r=t.store("collectionParents"),i=new kS,o=l=>{if(i.add(l)){const d=l.lastSegment(),p=l.popLast();return r.put({collectionId:d,parent:qr(p)})}};return t.store("remoteDocuments").Z({X:!0},(l,d)=>{const p=new cn(l);return o(p.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([l,d,p],v)=>{const y=so(d);return o(y.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const o=wh(i),l=TV(this.yt,o);return t.put(l)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((o,l)=>{const d=t.store("remoteDocumentsV14"),p=(v=l,v.document?new Ge(cn.fromString(v.document.name).popFirst(5)):v.noDocument?Ge.fromSegments(v.noDocument.path):v.unknownDocument?Ge.fromSegments(v.unknownDocument.path):ot()).path.toArray();var v;const y={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(d.put(y))}).next(()=>se.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=GV(this.yt),o=new YV(f_.Bs,this.yt.ie);return r.W().next(l=>{const d=new Map;return l.forEach(p=>{var v;let y=null!==(v=d.get(p.userId))&&void 0!==v?v:jt();X6(this.yt,p).keys().forEach(D=>y=y.add(D)),d.set(p.userId,y)}),se.forEach(d,(p,v)=>{const y=new nr(v),D=s_.re(this.yt,y),x=o.getIndexManager(y),H=u_.re(y,this.yt,x,o.referenceDelegate);return new KV(i,H,D,x).recalculateAndSaveOverlaysForDocumentKeys(new TS(t,L1.at),p).next()})})}}function QV(n){n.createObjectStore("targetDocuments",{keyPath:SQ}).createIndex("documentTargetsIndex",DQ,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wQ,{unique:!0}),n.createObjectStore("targetGlobal")}const PS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class RS{constructor(e,t,r,i,o,l,d,p,v,y,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=o,this.window=l,this.document=d,this.Js=v,this.Ys=y,this.Xs=D,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=x=>Promise.resolve(),!RS.C())throw new Ae(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YQ(this,i),this.ii=t+"main",this.yt=new SV(p),this.ri=new ss(this.ii,this.Xs,new aJ(this.yt)),this.Cs=new qQ(this.referenceDelegate,this.yt),this.remoteDocumentCache=GV(this.yt),this.Ns=new OQ,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===y&&w2("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(ce.FAILED_PRECONDITION,PS);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new L1(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,W.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,W.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,W.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>h_(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Tc(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Ah(e).get("owner").next(t=>se.resolve(this.mi(t)))}gi(e){return h_(e).delete(this.clientId)}yi(){var e=this;return(0,W.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=rr(r,"clientMetadata");return i.W().next(o=>{const l=e.Ii(o,18e5),d=o.filter(p=>-1===l.indexOf(p));return se.forEach(d,p=>i.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?se.resolve(!0):Ah(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ae(ce.FAILED_PRECONDITION,PS);return!1}}return!(!this.networkEnabled||!this.inForeground)||h_(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const l=!this.inForeground&&i.inForeground,d=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||l&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,W.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new TS(t,L1.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>h_(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return u_.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new GQ(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return s_.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(l=this.Xs)?zQ:14===l?wV:13===l?MV:12===l?LQ:11===l?bV:void ot();var l;let d;return this.ri.runTransaction(e,i,o,p=>(d=new TS(p,this.Ss?this.Ss.next():L1.at),"readwrite-primary"===t?this.fi(d).next(v=>!!v||this.di(d)).next(v=>{if(!v)throw w2(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ae(ce.FAILED_PRECONDITION,sI);return r(d)}).next(v=>this.wi(d).next(()=>v)):this.Vi(d).next(()=>r(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(e){return Ah(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(ce.FAILED_PRECONDITION,PS)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ah(e).put("owner",t)}static C(){return ss.C()}_i(e){const t=Ah(e);return t.get("owner").next(r=>this.mi(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):se.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(w2(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,st.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return w2("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){w2("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ah(n){return rr(n,"owner")}function h_(n){return rr(n,"clientMetadata")}function FS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class US{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=jt(),i=jt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new US(e,t.fromCache,r,i)}}class JV{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(o=>o||this.Oi(e,t,i,r)).next(o=>o||this.Mi(e,t))}ki(e,t){if(LI(t))return se.resolve(null);let r=Gr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Qv(t,null,"F"),r=Gr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=jt(...o);return this.Ni.getDocuments(e,l).next(d=>this.indexManager.getMinOffset(e,r).next(p=>{const v=this.Fi(t,d);return this.$i(t,v,l,p.readTime)?this.ki(e,Qv(t,null,"F")):this.Bi(e,v,t,p)}))})))}Oi(e,t,r,i){return LI(t)||i.isEqual(Mt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(o=>{const l=this.Fi(t,o);return this.$i(t,l,r,i)?this.Mi(e,t):(sS()<=Fr.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),CS(t)),this.Bi(e,l,t,rI(i,-1)))})}Fi(e,t){let r=new xn(OI(e));return t.forEach((i,o)=>{yS(e,o)&&(r=r.add(o))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Mi(e,t){return sS()<=Fr.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",CS(t)),this.Ni.getDocumentsMatchingQuery(e,t,V1.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}class cJ{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new v2(Ft),this.Ui=new Ic(o=>Z6(o),fh),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KV(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function XV(n,e,t,r){return new cJ(n,e,t,r)}function eL(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,W.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],d=[];let p=jt();for(const v of i){l.push(v.batchId);for(const y of v.mutations)p=p.add(y.key)}for(const v of o){d.push(v.batchId);for(const y of v.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(r,p).next(v=>({ji:v,removedBatchIds:l,addedBatchIds:d}))})})}),BS.apply(this,arguments)}function lJ(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Gi.newChangeBuffer({trackRemovals:!0});return function(l,d,p,v){const y=p.batch,D=y.keys();let x=se.resolve();return D.forEach(H=>{x=x.next(()=>v.getEntry(d,H)).next(z=>{const U=p.docVersions.get(H);vt(null!==U),z.version.compareTo(U)<0&&(y.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),v.addEntry(z)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(d,y))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let d=jt();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(d=d.add(l.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function tL(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function uJ(n,e){const t=qe(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const d=[];e.targetChanges.forEach((y,D)=>{const x=i.get(D);if(!x)return;d.push(t.Cs.removeMatchingKeys(o,y.removedDocuments,D).next(()=>t.Cs.addMatchingKeys(o,y.addedDocuments,D)));let H=x.withSequenceNumber(o.currentSequenceNumber);var z,U,q;e.targetMismatches.has(D)?H=H.withResumeToken(R2.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):y.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(y.resumeToken,r)),i=i.insert(D,H),U=H,q=y,(0===(z=x).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0)&&d.push(t.Cs.updateTargetData(o,H))});let p=h1(),v=jt();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),d.push(nL(o,l,e.documentUpdates).next(y=>{p=y.Wi,v=y.zi})),!r.isEqual(Mt.min())){const y=t.Cs.getLastRemoteSnapshotVersion(o).next(D=>t.Cs.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(y)}return se.waitFor(d).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,v)).next(()=>p)}).then(o=>(t.qi=i,o))}function nL(n,e,t){let r=jt(),i=jt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=h1();return t.forEach((d,p)=>{const v=o.get(d);p.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(d)),p.isNoDocument()&&p.version.isEqual(Mt.min())?(e.removeEntry(d,p.readTime),l=l.insert(d,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(p),l=l.insert(d,p)):Pe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",v.version," Watch version:",p.version)}),{Wi:l,zi:i}})}function dJ(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L8(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(o=>o?(i=o,se.resolve(i)):t.Cs.allocateTargetId(r).next(l=>(i=new Vc(e,l,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function z8(n,e,t){return jS.apply(this,arguments)}function jS(){return jS=(0,W.Z)(function*(n,e,t){const r=qe(n),i=r.qi.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Tc(l))throw l;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),jS.apply(this,arguments)}function p_(n,e,t){const r=qe(n);let i=Mt.min(),o=jt();return r.persistence.runTransaction("Execute query","readonly",l=>function(d,p,v){const y=qe(d),D=y.Ui.get(v);return void 0!==D?se.resolve(y.qi.get(D)):y.Cs.getTargetData(p,v)}(r,l,Gr(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,d.targetId).next(p=>{o=p})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,t?i:Mt.min(),t?o:jt())).next(d=>(sL(r,kI(e),d),{documents:d,Hi:o})))}function rL(n,e){const t=qe(n),r=qe(t.Cs),i=t.qi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.ne(o,e).next(l=>l?l.target:null))}function iL(n,e){const t=qe(n),r=t.Ki.get(e)||Mt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,rI(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(sL(t,e,i),i))}function sL(n,e,t){let r=n.Ki.get(e)||Mt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ki.set(e,r)}function $S(){return $S=(0,W.Z)(function*(n,e,t,r){const i=qe(n);let o=jt(),l=h1();for(const v of t){const y=e.Ji(v.metadata.name);v.document&&(o=o.add(y));const D=e.Yi(v);D.setReadTime(e.Xi(v.metadata.readTime)),l=l.insert(y,D)}const d=i.Gi.newChangeBuffer({trackRemovals:!0}),p=yield L8(i,(v=r,Gr(S8(cn.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>nL(v,d,l).next(y=>(d.apply(v),y)).next(y=>i.Cs.removeMatchingKeysForTargetId(v,p.targetId).next(()=>i.Cs.addMatchingKeys(v,o,p.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,y.Wi,y.zi)).next(()=>y.Wi)))}),$S.apply(this,arguments)}function hJ(n,e){return GS.apply(this,arguments)}function GS(){return GS=(0,W.Z)(function*(n,e,t=jt()){const r=yield L8(n,Gr(NS(e.bundledQuery))),i=qe(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const l=S2(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Ns.saveNamedQuery(o,e);const d=r.withResumeToken(R2.EMPTY_BYTE_STRING,l);return i.qi=i.qi.insert(d.targetId,d),i.Cs.updateTargetData(o,d).next(()=>i.Cs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Cs.addMatchingKeys(o,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(o,e))})}),GS.apply(this,arguments)}function oL(n,e){return`firestore_clients_${n}_${e}`}function aL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function qS(n,e){return`firestore_targets_${n}_${e}`}class g_{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let o,l="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(o=new Ae(i.error.code,i.error.message))),l?new g_(e,t,i.state,o):(w2("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Ae(r.error.code,r.error.message))),o?new Nh(e,r.state,i):(w2("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class m_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=t_();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=uI(r.activeTargetIds[l]),o=o.add(r.activeTargetIds[l]);return i?new m_(e,o):(w2("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ZS{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ZS(t.clientId,t.onlineState):(w2("SharedClientState",`Failed to parse online state: ${e}`),null)}}class WS{constructor(){this.activeTargetIds=t_()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KS{constructor(e,t,r,i,o){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new v2(Ft),this.started=!1,this.cr=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ar=oL(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new WS),this.lr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,W.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const o=e.getItem(oL(e.persistenceKey,i));if(o){const l=m_.Zi(i,o);l&&(e.ur=e.ur.insert(l.clientId,l))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(qS(this.persistenceKey,e));if(r){const i=Nh.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void w2("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,W.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(o){let l=L1.at;if(null!=o)try{const d=JSON.parse(o);vt("number"==typeof d),l=d}catch(d){w2("SharedClientState","Failed to read sequence number from WebStorage",d)}return l}(r.newValue);i!==L1.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Mr(o)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new g_(this.currentUser,e,t,r),o=aL(this.persistenceKey,this.currentUser,e);this.setItem(o,i.tr())}Er(e){const t=aL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=qS(this.persistenceKey,e),o=new Nh(e,t,r);this.setItem(i,o.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return m_.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return g_.Zi(new nr(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Nh.Zi(i,t)}yr(e){return ZS.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,W.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),o=this.Ir(r),l=[],d=[];return o.forEach(p=>{i.has(p)||l.push(p)}),i.forEach(p=>{o.has(p)||d.push(p)}),this.syncEngine.Br(l,d).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=t_();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class cL{constructor(){this.Lr=new WS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new WS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pJ{Ur(e){}shutdown(){}}class lL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const gJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mJ{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class vJ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,o){const l=this.ho(e,t);Pe("RestConnection","Sending: ",l,r);const d={};return this.lo(d,i,o),this.fo(e,l,d,r).then(p=>(Pe("RestConnection","Received: ",p),p),p=>{throw F6("RestConnection",`${e} failed with error: `,p,"url: ",l,"request:",r),p})}_o(e,t,r,i,o,l){return this.ao(e,t,r,i,o)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+_8,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}ho(e,t){return`${this.oo}/v1/${t}:${gJ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((o,l)=>{const d=new mY;d.setWithCredentials(!0),d.listenOnce(hY.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case iS.NO_ERROR:const v=d.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(v)),o(v);break;case iS.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),l(new Ae(ce.DEADLINE_EXCEEDED,"Request time out"));break;case iS.HTTP_ERROR:const y=d.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',y,"response text:",d.getResponseText()),y>0){let D=d.getResponseJson();Array.isArray(D)&&(D=D[0]);const x=D?.error;if(x&&x.status&&x.message){const H=function(z){const U=z.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(U)>=0?U:ce.UNKNOWN}(x.status);l(new Ae(H,x.message))}else l(new Ae(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new Ae(ce.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(i);d.send(t,"POST",p,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dY(),l=fY(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new gY({})),this.lo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const p=i.join("");Pe("Connection","Creating WebChannel: "+p,d);const v=o.createWebChannel(p,d);let y=!1,D=!1;const x=new mJ({Hr:z=>{D?Pe("Connection","Not sending because WebChannel is closed:",z):(y||(Pe("Connection","Opening WebChannel transport."),v.open(),y=!0),Pe("Connection","WebChannel sending:",z),v.send(z))},Jr:()=>v.close()}),H=(z,U,q)=>{z.listen(U,re=>{try{q(re)}catch(ue){setTimeout(()=>{throw ue},0)}})};return H(v,Uv.EventType.OPEN,()=>{D||Pe("Connection","WebChannel transport opened.")}),H(v,Uv.EventType.CLOSE,()=>{D||(D=!0,Pe("Connection","WebChannel transport closed"),x.io())}),H(v,Uv.EventType.ERROR,z=>{D||(D=!0,F6("Connection","WebChannel transport errored:",z),x.io(new Ae(ce.UNAVAILABLE,"The operation could not be completed")))}),H(v,Uv.EventType.MESSAGE,z=>{var U;if(!D){const q=z.data[0];vt(!!q);const re=q,ue=re.error||(null===(U=re[0])||void 0===U?void 0:U.error);if(ue){Pe("Connection","WebChannel received error:",ue);const ge=ue.status;let fe=function(Ve){const Ye=V2[Ve];if(void 0!==Ye)return JI(Ye)}(ge),xe=ue.message;void 0===fe&&(fe=ce.INTERNAL,xe="Unknown error status: "+ge+" with message "+ue.message),D=!0,x.io(new Ae(fe,xe)),v.close()}else Pe("Connection","WebChannel received:",q),x.ro(q)}}),H(l,pY.STAT_EVENT,z=>{z.stat===QH.PROXY?Pe("Connection","Detected buffering proxy"):z.stat===QH.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.so()},0),x}}function uL(){return typeof window<"u"?window:null}function v_(){return typeof document<"u"?document:null}function Hh(n){return new cQ(n,!0)}class YS{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class dL{constructor(e,t,r,i,o,l,d,p){this.Hs=e,this.vo=r,this.Vo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new YS(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,W.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,W.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,W.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(w2(t.toString()),w2("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new Ae(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,W.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _J extends dL{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.yt=o}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function dQ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:ot(),i=e.targetChange.targetIds||[],o=function(p,v){return p.wt?(vt(void 0===v||"string"==typeof v),R2.fromBase64String(v||"")):(vt(void 0===v||v instanceof Uint8Array),R2.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&function(p){const v=void 0===p.code?ce.UNKNOWN:JI(p.code);return new Ae(v,p.message||"")}(l);t=new rV(r,i,o,d||null)}else if("documentChange"in e){const r=e.documentChange,i=io(n,r.document.name),o=S2(r.document.updateTime),l=r.document.createTime?S2(r.document.createTime):Mt.min(),d=new mr({mapValue:{fields:r.document.fields}}),p=Bn.newFoundDocument(i,o,l,d);t=new n_(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=io(n,r.document),o=r.readTime?S2(r.readTime):Mt.min(),l=Bn.newNoDocument(i,o);t=new n_([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,i=io(n,r.document);t=new n_([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ot();{const r=e.filter,o=new XY(r.count||0);t=new nV(r.targetId,o)}}var p;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return Mt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Mt.min():o.readTime?S2(o.readTime):Mt.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=bh(this.yt),t.addTarget=function(i,o){let l;const d=o.target;return l=Wv(d)?{documents:hV(i,d)}:{query:DS(i,d)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?l.resumeToken=aV(i,o.resumeToken):o.snapshotVersion.compareTo(Mt.min())>0&&(l.readTime=A8(i,o.snapshotVersion.toTimestamp())),l}(this.yt,e);const r=function hQ(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=bh(this.yt),t.removeTarget=e,this.Bo(t)}}class CJ extends dL{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.yt=o,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function fQ(n,e){return n&&n.length>0?(vt(void 0!==e),n.map(t=>function(r,i){let o=S2(r.updateTime?r.updateTime:i);return o.isEqual(Mt.min())&&(o=S2(i)),new YY(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=S2(e.commitTime);return this.listener.Zo(r,t)}return vt(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=bh(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Mh(this.yt,r))};this.Bo(t)}}class yJ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.ao(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ae(ce.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection._o(e,t,r,o,l,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(ce.UNKNOWN,o.toString())})}terminate(){this.nu=!0}}class MJ{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(w2(t),this.ou=!1):Pe("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class wJ{constructor(e,t,r,i,o){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=o,this.mu.Ur(d=>{r.enqueueAndForget((0,W.Z)(function*(){var p;xa(l)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,W.Z)(function*(v){const y=qe(v);y._u.add(4),yield k8(y),y.gu.set("Unknown"),y._u.delete(4),yield Ih(y)}),function(v){return p.apply(this,arguments)})(l))}))}),this.gu=new MJ(r,i)}}function Ih(n){return JS.apply(this,arguments)}function JS(){return JS=(0,W.Z)(function*(n){if(xa(n))for(const e of n.wu)yield e(!0)}),JS.apply(this,arguments)}function k8(n){return XS.apply(this,arguments)}function XS(){return XS=(0,W.Z)(function*(n){for(const e of n.wu)yield e(!1)}),XS.apply(this,arguments)}function __(n,e){const t=qe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),nD(t)?tD(t):P8(t).ko()&&eD(t,e))}function Vh(n,e){const t=qe(n),r=P8(t);t.du.delete(e),r.ko()&&fL(t,e),0===t.du.size&&(r.ko()?r.Fo():xa(t)&&t.gu.set("Unknown"))}function eD(n,e){n.yu.Ot(e.targetId),P8(n).zo(e)}function fL(n,e){n.yu.Ot(e),P8(n).Ho(e)}function tD(n){n.yu=new iQ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),P8(n).start(),n.gu.uu()}function nD(n){return xa(n)&&!P8(n).No()&&n.du.size>0}function xa(n){return 0===qe(n)._u.size}function hL(n){n.yu=void 0}function SJ(n){return rD.apply(this,arguments)}function rD(){return rD=(0,W.Z)(function*(n){n.du.forEach((e,t)=>{eD(n,e)})}),rD.apply(this,arguments)}function DJ(n,e){return iD.apply(this,arguments)}function iD(){return iD=(0,W.Z)(function*(n,e){hL(n),nD(n)?(n.gu.hu(e),tD(n)):n.gu.set("Unknown")}),iD.apply(this,arguments)}function TJ(n,e,t){return sD.apply(this,arguments)}function sD(){return sD=(0,W.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof rV&&2===e.state&&e.cause)try{yield(r=(0,W.Z)(function*(i,o){const l=o.cause;for(const d of o.targetIds)i.du.has(d)&&(yield i.remoteSyncer.rejectListen(d,l),i.du.delete(d),i.yu.removeTarget(d))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield C_(n,r)}else if(e instanceof n_?n.yu.Kt(e):e instanceof nV?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Mt.min()))try{const r=yield tL(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const l=i.yu.Zt(o);return l.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=i.du.get(p);v&&i.du.set(p,v.withResumeToken(d.resumeToken,o))}}),l.targetMismatches.forEach(d=>{const p=i.du.get(d);if(!p)return;i.du.set(d,p.withResumeToken(R2.EMPTY_BYTE_STRING,p.snapshotVersion)),fL(i,d);const v=new Vc(p.target,d,1,p.sequenceNumber);eD(i,v)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield C_(n,r)}var r}),sD.apply(this,arguments)}function C_(n,e,t){return oD.apply(this,arguments)}function oD(){return oD=(0,W.Z)(function*(n,e,t){if(!Tc(e))throw e;n._u.add(1),yield k8(n),n.gu.set("Offline"),t||(t=()=>tL(n.localStore)),n.asyncQueue.enqueueRetryable((0,W.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Ih(n)}))}),oD.apply(this,arguments)}function pL(n,e){return e().catch(t=>C_(n,t,e))}function O8(n){return aD.apply(this,arguments)}function aD(){return aD=(0,W.Z)(function*(n){const e=qe(n),t=Oc(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;EJ(e);)try{const i=yield dJ(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,xJ(e,i)}catch(i){yield C_(e,i)}gL(e)&&mL(e)}),aD.apply(this,arguments)}function EJ(n){return xa(n)&&n.fu.length<10}function xJ(n,e){n.fu.push(e);const t=Oc(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function gL(n){return xa(n)&&!Oc(n).No()&&n.fu.length>0}function mL(n){Oc(n).start()}function AJ(n){return cD.apply(this,arguments)}function cD(){return cD=(0,W.Z)(function*(n){Oc(n).eu()}),cD.apply(this,arguments)}function NJ(n){return lD.apply(this,arguments)}function lD(){return lD=(0,W.Z)(function*(n){const e=Oc(n);for(const t of n.fu)e.Xo(t.mutations)}),lD.apply(this,arguments)}function HJ(n,e,t){return uD.apply(this,arguments)}function uD(){return uD=(0,W.Z)(function*(n,e,t){const r=n.fu.shift(),i=xS.from(r,e,t);yield pL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield O8(n)}),uD.apply(this,arguments)}function IJ(n,e){return dD.apply(this,arguments)}function dD(){return dD=(0,W.Z)(function*(n,e){var t;e&&Oc(n).Yo&&(yield(t=(0,W.Z)(function*(r,i){if(QI(o=i.code)&&o!==ce.ABORTED){const l=r.fu.shift();Oc(r).Mo(),yield pL(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,i)),yield O8(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),gL(n)&&mL(n)}),dD.apply(this,arguments)}function vL(n,e){return fD.apply(this,arguments)}function fD(){return fD=(0,W.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=xa(t);t._u.add(3),yield k8(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Ih(t)}),fD.apply(this,arguments)}function hD(n,e){return pD.apply(this,arguments)}function pD(){return pD=(0,W.Z)(function*(n,e){const t=qe(n);e?(t._u.delete(2),yield Ih(t)):e||(t._u.add(2),yield k8(t),t.gu.set("Unknown"))}),pD.apply(this,arguments)}function P8(n){return n.pu||(n.pu=function(e,t,r){const i=qe(e);return i.su(),new _J(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:SJ.bind(null,n),Zr:DJ.bind(null,n),Wo:TJ.bind(null,n)}),n.wu.push(function(){var e=(0,W.Z)(function*(t){t?(n.pu.Mo(),nD(n)?tD(n):n.gu.set("Unknown")):(yield n.pu.stop(),hL(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Oc(n){return n.Iu||(n.Iu=function(e,t,r){const i=qe(e);return i.su(),new CJ(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:AJ.bind(null,n),Zr:IJ.bind(null,n),tu:NJ.bind(null,n),Zo:HJ.bind(null,n)}),n.wu.push(function(){var e=(0,W.Z)(function*(t){t?(n.Iu.Mo(),yield O8(n)):(yield n.Iu.stop(),n.fu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class gD{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new P2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,d=new gD(e,t,l,i,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function R8(n,e){if(w2("AsyncQueue",`${e}: ${n}`),Tc(n))return new Ae(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class F8{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ge.comparator(t.key,r.key):(t,r)=>Ge.comparator(t.key,r.key),this.keyedMap=mh(),this.sortedSet=new v2(this.comparator)}static emptySet(e){return new F8(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof F8)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new F8;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class _L{constructor(){this.Tu=new v2(Ge.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):ot():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class U8{constructor(e,t,r,i,o,l,d,p,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new U8(e,t,F8.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class VJ{constructor(){this.Au=void 0,this.listeners=[]}}class LJ{constructor(){this.queries=new Ic(e=>zI(e),hh),this.onlineState="Unknown",this.Ru=new Set}}function mD(n,e){return vD.apply(this,arguments)}function vD(){return vD=(0,W.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new VJ),i)try{o.Au=yield t.onListen(r)}catch(l){const d=R8(l,`Initialization of query '${CS(e.query)}' failed`);return void e.onError(d)}t.queries.set(r,o),o.listeners.push(e),e.bu(t.onlineState),o.Au&&e.Pu(o.Au)&&yD(t)}),vD.apply(this,arguments)}function _D(n,e){return CD.apply(this,arguments)}function CD(){return CD=(0,W.Z)(function*(n,e){const t=qe(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const l=o.listeners.indexOf(e);l>=0&&(o.listeners.splice(l,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),CD.apply(this,arguments)}function zJ(n,e){const t=qe(n);let r=!1;for(const i of e){const l=t.queries.get(i.query);if(l){for(const d of l.listeners)d.Pu(i)&&(r=!0);l.Au=i}}r&&yD(t)}function kJ(n,e,t){const r=qe(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function yD(n){n.Ru.forEach(e=>{e.next()})}class bD{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new U8(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=U8.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class OJ{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class CL{constructor(e){this.yt=e}Ji(e){return io(this.yt,e)}Yi(e){return e.metadata.exists?fV(this.yt,e.document,!1):Bn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return S2(e)}}class PJ{constructor(e,t,r){this.Mu=e,this.localStore=t,this.yt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yL(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const r=cn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new CL(this.yt);for(const i of e)if(i.metadata.queries){const o=r.Ji(i.metadata.name);for(const l of i.metadata.queries){const d=(t.get(l)||jt()).add(o);t.set(l,d)}}return t}complete(){var e=this;return(0,W.Z)(function*(){const t=yield function fJ(n,e,t,r){return $S.apply(this,arguments)}(e.localStore,new CL(e.yt),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield hJ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function yL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class bL{constructor(e){this.key=e}}class ML{constructor(e){this.key=e}}class wL{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=jt(),this.mutatedKeys=jt(),this.Gu=OI(e),this.Qu=new F8(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new _L,i=t?t.Qu:this.Qu;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,d=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,D)=>{const x=i.get(y),H=yS(this.query,D)?D:null,z=!!x&&this.mutatedKeys.has(x.key),U=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let q=!1;x&&H?x.data.isEqual(H.data)?z!==U&&(r.track({type:3,doc:H}),q=!0):this.Hu(x,H)||(r.track({type:2,doc:H}),q=!0,(p&&this.Gu(H,p)>0||v&&this.Gu(H,v)<0)&&(d=!0)):!x&&H?(r.track({type:0,doc:H}),q=!0):x&&!H&&(r.track({type:1,doc:x}),q=!0,(p||v)&&(d=!0)),q&&(H?(l=l.add(H),o=U?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const y="F"===this.query.limitType?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Qu:l,zu:r,$i:d,mutatedKeys:o}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Eu();o.sort((v,y)=>function(D,x){const H=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return H(D)-H(x)}(v.type,y.type)||this.Gu(v.doc,y.doc)),this.Ju(r);const l=t?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,p=d!==this.Uu;return this.Uu=d,0!==o.length||p?{snapshot:new U8(this.query,e.Qu,i,o,e.mutatedKeys,0===d,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:l}:{Xu:l}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new _L,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=jt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new ML(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new bL(r))}),t}tc(e){this.qu=e.Hi,this.Ku=jt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return U8.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class RJ{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class FJ{constructor(e){this.key=e,this.nc=!1}}class UJ{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.sc={},this.ic=new Ic(d=>zI(d),hh),this.rc=new Map,this.oc=new Set,this.uc=new v2(Ge.comparator),this.cc=new Map,this.ac=new OS,this.hc={},this.lc=new Map,this.fc=nl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function BJ(n,e){return MD.apply(this,arguments)}function MD(){return MD=(0,W.Z)(function*(n,e){const t=GD(n);let r,i;const o=t.ic.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.ec();else{const l=yield L8(t.localStore,Gr(e));t.isPrimaryClient&&__(t.remoteStore,l);const d=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=yield wD(t,e,r,"current"===d,l.resumeToken)}return i}),MD.apply(this,arguments)}function wD(n,e,t,r,i){return SD.apply(this,arguments)}function SD(){return SD=(0,W.Z)(function*(n,e,t,r,i){n._c=(D,x,H)=>{return(z=(0,W.Z)(function*(U,q,re,ue){let ge=q.view.Wu(re);ge.$i&&(ge=yield p_(U.localStore,q.query,!1).then(({documents:Ve})=>q.view.Wu(Ve,ge)));const fe=ue&&ue.targetChanges.get(q.targetId),xe=q.view.applyChanges(ge,U.isPrimaryClient,fe);return LD(U,q.targetId,xe.Xu),xe.snapshot}),function(U,q,re,ue){return z.apply(this,arguments)})(n,D,x,H);var z};const o=yield p_(n.localStore,e,!0),l=new wL(e,o.Hi),d=l.Wu(o.documents),p=Ch.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=l.applyChanges(d,n.isPrimaryClient,p);LD(n,t,v.Xu);const y=new RJ(e,t,l);return n.ic.set(e,y),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),SD.apply(this,arguments)}function jJ(n,e){return DD.apply(this,arguments)}function DD(){return DD=(0,W.Z)(function*(n,e){const t=qe(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(o=>!hh(o,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield z8(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Vh(t.remoteStore,r.targetId),B8(t,r.targetId)}).catch(Dc))):(B8(t,r.targetId),yield z8(t.localStore,r.targetId,!0))}),DD.apply(this,arguments)}function TD(){return TD=(0,W.Z)(function*(n,e,t){const r=qD(n);try{const i=yield function(o,l){const d=qe(o),p=Yn.now(),v=l.reduce((x,H)=>x.add(H.key),jt());let y,D;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let H=h1(),z=jt();return d.Gi.getEntries(x,v).next(U=>{H=U,H.forEach((q,re)=>{re.isValidDocument()||(z=z.add(q))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,H)).next(U=>{y=U;const q=[];for(const re of l){const ue=JY(re,y.get(re.key).overlayedDocument);null!=ue&&q.push(new Ea(re.key,ue,NI(ue.value.mapValue),Qn.exists(!0)))}return d.mutationQueue.addMutationBatch(x,p,q,l)}).next(U=>{D=U;const q=U.applyToLocalDocumentSet(y,z);return d.documentOverlayCache.saveOverlays(x,U.batchId,q)})}).then(()=>({batchId:D.batchId,changes:eV(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,d){let p=o.hc[o.currentUser.toKey()];p||(p=new v2(Ft)),p=p.insert(l,d),o.hc[o.currentUser.toKey()]=p}(r,i.batchId,t),yield Aa(r,i.changes),yield O8(r.remoteStore)}catch(i){const o=R8(i,"Failed to persist write");t.reject(o)}}),TD.apply(this,arguments)}function SL(n,e){return ED.apply(this,arguments)}function ED(){return ED=(0,W.Z)(function*(n,e){const t=qe(n);try{const r=yield uJ(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.cc.get(o);l&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.nc=!0:i.modifiedDocuments.size>0?vt(l.nc):i.removedDocuments.size>0&&(vt(l.nc),l.nc=!1))}),yield Aa(t,r,e)}catch(r){yield Dc(r)}}),ED.apply(this,arguments)}function DL(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((o,l)=>{const d=l.view.bu(e);d.snapshot&&i.push(d.snapshot)}),function(o,l){const d=qe(o);d.onlineState=l;let p=!1;d.queries.forEach((v,y)=>{for(const D of y.listeners)D.bu(l)&&(p=!0)}),p&&yD(d)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function GJ(n,e,t){return xD.apply(this,arguments)}function xD(){return xD=(0,W.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),o=i&&i.key;if(o){let l=new v2(Ge.comparator);l=l.insert(o,Bn.newNoDocument(o,Mt.min()));const d=jt().add(o),p=new _h(Mt.min(),new Map,new xn(Ft),l,d);yield SL(r,p),r.uc=r.uc.remove(o),r.cc.delete(e),zD(r)}else yield z8(r.localStore,e,!1).then(()=>B8(r,e,t)).catch(Dc)}),xD.apply(this,arguments)}function qJ(n,e){return AD.apply(this,arguments)}function AD(){return AD=(0,W.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const i=yield lJ(t.localStore,e);VD(t,r,null),ID(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Aa(t,i)}catch(i){yield Dc(i)}}),AD.apply(this,arguments)}function ZJ(n,e,t){return ND.apply(this,arguments)}function ND(){return ND=(0,W.Z)(function*(n,e,t){const r=qe(n);try{const i=yield function(o,l){const d=qe(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return d.mutationQueue.lookupMutationBatch(p,l).next(y=>(vt(null!==y),v=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>d.localDocuments.getDocuments(p,v))})}(r.localStore,e);VD(r,e,t),ID(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Aa(r,i)}catch(i){yield Dc(i)}}),ND.apply(this,arguments)}function HD(){return HD=(0,W.Z)(function*(n,e){const t=qe(n);xa(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const l=qe(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>l.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=R8(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),HD.apply(this,arguments)}function ID(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function VD(n,e,t){const r=qe(n);let i=r.hc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function B8(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||TL(n,r)})}function TL(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Vh(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),zD(n))}function LD(n,e,t){for(const r of t)r instanceof bL?(n.ac.addReference(r.key,e),KJ(n,r)):r instanceof ML?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||TL(n,r.key)):ot()}function KJ(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.oc.add(r),zD(n))}function zD(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ge(cn.fromString(e)),r=n.fc.next();n.cc.set(r,new FJ(t)),n.uc=n.uc.insert(t,r),__(n.remoteStore,new Vc(Gr(S8(t.path)),r,2,L1.at))}}function Aa(n,e,t){return kD.apply(this,arguments)}function kD(){return kD=(0,W.Z)(function*(n,e,t){const r=qe(n),i=[],o=[],l=[];var d;r.ic.isEmpty()||(r.ic.forEach((d,p)=>{l.push(r._c(p,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const y=US.Ci(p.targetId,v);o.push(y)}}))}),yield Promise.all(l),r.sc.Wo(i),yield(d=(0,W.Z)(function*(p,v){const y=qe(p);try{yield y.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>se.forEach(v,x=>se.forEach(x.Si,H=>y.persistence.referenceDelegate.addReference(D,x.targetId,H)).next(()=>se.forEach(x.Di,H=>y.persistence.referenceDelegate.removeReference(D,x.targetId,H)))))}catch(D){if(!Tc(D))throw D;Pe("LocalStore","Failed to update sequence numbers: "+D)}for(const D of v){const x=D.targetId;if(!D.fromCache){const H=y.qi.get(x),U=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);y.qi=y.qi.insert(x,U)}}}),function(p,v){return d.apply(this,arguments)})(r.localStore,o))}),kD.apply(this,arguments)}function YJ(n,e){return OD.apply(this,arguments)}function OD(){return OD=(0,W.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield eL(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(l=>{l.forEach(d=>{d.reject(new Ae(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Aa(t,r.ji)}var i}),OD.apply(this,arguments)}function QJ(n,e){const t=qe(n),r=t.cc.get(e);if(r&&r.nc)return jt().add(r.key);{let i=jt();const o=t.rc.get(e);if(!o)return i;for(const l of o){const d=t.ic.get(l);i=i.unionWith(d.view.ju)}return i}}function JJ(n,e){return PD.apply(this,arguments)}function PD(){return PD=(0,W.Z)(function*(n,e){const t=qe(n),r=yield p_(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&LD(t,e.targetId,i.Xu),i}),PD.apply(this,arguments)}function XJ(n,e){return RD.apply(this,arguments)}function RD(){return RD=(0,W.Z)(function*(n,e){const t=qe(n);return iL(t.localStore,e).then(r=>Aa(t,r))}),RD.apply(this,arguments)}function eX(n,e,t,r){return FD.apply(this,arguments)}function FD(){return FD=(0,W.Z)(function*(n,e,t,r){const i=qe(n),o=yield function(l,d){const p=qe(l),v=qe(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",y=>v.Tn(y,d).next(D=>D?p.localDocuments.getDocuments(y,D):se.resolve(null)))}(i.localStore,e);var d;null!==o?("pending"===t?yield O8(i.remoteStore):"acknowledged"===t||"rejected"===t?(VD(i,e,r||null),ID(i,e),d=e,qe(qe(i.localStore).mutationQueue).An(d)):ot(),yield Aa(i,o)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),FD.apply(this,arguments)}function UD(){return UD=(0,W.Z)(function*(n,e){const t=qe(n);if(GD(t),qD(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield EL(t,r.toArray());t.dc=!0,yield hD(t.remoteStore,!0);for(const o of i)__(t.remoteStore,o)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((o,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(B8(t,l),z8(t.localStore,l,!0))),Vh(t.remoteStore,l)}),yield i,yield EL(t,r),function(o){const l=qe(o);l.cc.forEach((d,p)=>{Vh(l.remoteStore,p)}),l.ac.fs(),l.cc=new Map,l.uc=new v2(Ge.comparator)}(t),t.dc=!1,yield hD(t.remoteStore,!1)}}),UD.apply(this,arguments)}function EL(n,e,t){return BD.apply(this,arguments)}function BD(){return BD=(0,W.Z)(function*(n,e,t){const r=qe(n),i=[],o=[];for(const l of e){let d;const p=r.rc.get(l);if(p&&0!==p.length){d=yield L8(r.localStore,Gr(p[0]));for(const v of p){const y=r.ic.get(v),D=yield JJ(r,y);D.snapshot&&o.push(D.snapshot)}}else{const v=yield rL(r.localStore,l);d=yield L8(r.localStore,v),yield wD(r,xL(v),l,!1,d.resumeToken)}i.push(d)}return r.sc.Wo(o),i}),BD.apply(this,arguments)}function xL(n){return VI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function nX(n){const e=qe(n);return qe(qe(e.localStore).persistence).vi()}function rX(n,e,t,r){return jD.apply(this,arguments)}function jD(){return jD=(0,W.Z)(function*(n,e,t,r){const i=qe(n);if(i.dc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const o=i.rc.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const l=yield iL(i.localStore,kI(o[0])),d=_h.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,R2.EMPTY_BYTE_STRING);yield Aa(i,l,d);break}case"rejected":yield z8(i.localStore,e,!0),B8(i,e,r);break;default:ot()}}),jD.apply(this,arguments)}function iX(n,e,t){return $D.apply(this,arguments)}function $D(){return $D=(0,W.Z)(function*(n,e,t){const r=GD(n);if(r.dc){for(const i of e){if(r.rc.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const o=yield rL(r.localStore,i),l=yield L8(r.localStore,o);yield wD(r,xL(o),l.targetId,!1,l.resumeToken),__(r.remoteStore,l)}for(const i of t)r.rc.has(i)&&(yield z8(r.localStore,i,!1).then(()=>{Vh(r.remoteStore,i),B8(r,i)}).catch(Dc))}}),$D.apply(this,arguments)}function GD(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GJ.bind(null,e),e.sc.Wo=zJ.bind(null,e.eventManager),e.sc.wc=kJ.bind(null,e.eventManager),e}function qD(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZJ.bind(null,e),e}class AL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,W.Z)(function*(){t.yt=Hh(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return XV(this.persistence,new JV,e.initialUser,this.yt)}yc(e){return new YV(f_.Bs,this.yt)}gc(e){return new cL}terminate(){var e=this;return(0,W.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class NL extends AL{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,W.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield qD(r.Ac.syncEngine),yield O8(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return XV(this.persistence,new JV,e.initialUser,this.yt)}Tc(e,t){return new WQ(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new IY(t,this.persistence);return new HY(e.asyncQueue,r)}yc(e){const t=FS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?p1.withCacheSize(this.cacheSizeBytes):p1.DEFAULT;return new RS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,uL(),v_(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new cL}}class oX extends NL{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,W.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof KS&&(r.sharedClientState.syncEngine={Fr:eX.bind(null,i),$r:rX.bind(null,i),Br:iX.bind(null,i),vi:nX.bind(null,i),Mr:XJ.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var o=(0,W.Z)(function*(l){yield function tX(n,e){return UD.apply(this,arguments)}(r.Ac.syncEngine,l),r.gcScheduler&&(l&&!r.gcScheduler.started?r.gcScheduler.start():l||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(l&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():l||r.indexBackfillerScheduler.stop())});return function(l){return o.apply(this,arguments)}}())})()}gc(e){const t=uL();if(!KS.C(t))throw new Ae(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=FS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new KS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ZD{initialize(e,t){var r=this;return(0,W.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>DL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=YJ.bind(null,r.syncEngine),yield hD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new LJ}createDatastore(e){const t=Hh(e.databaseInfo.databaseId),r=new vJ(e.databaseInfo);return new yJ(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=d=>DL(this.syncEngine,d,0),l=lL.C()?new lL:new pJ,new wJ(t,r,i,o,l);var t,r,i,o,l}createSyncEngine(e,t){return function(r,i,o,l,d,p,v){const y=new UJ(r,i,o,l,d,p);return v&&(y.dc=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,W.Z)(function*(t){const r=qe(t);Pe("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield k8(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function WD(n,e,t){if(!t)throw new Ae(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HL(n,e,t,r){if(!0===e&&!0===r)throw new Ae(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IL(n){if(!Ge.isDocumentKey(n))throw new Ae(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VL(n){if(Ge.isDocumentKey(n))throw new Ae(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function y_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=y_(n);throw new Ae(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function LL(n,e){if(e<=0)throw new Ae(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const zL=new Map;class kL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,HL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new CY;switch(t.type){case"gapi":return new wY(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ae(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zL.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),zL.delete(e),t.terminate())}(this),Promise.resolve()}}function OL(n,e,t,r={}){var i;const o=(n=nn(n,Lh))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&F6("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,d;if("string"==typeof r.mockUserToken)l=r.mockUserToken,d=nr.MOCK_USER;else{l=(0,st.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ae(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new nr(p)}n._authCredentials=new yY(new XH(l,d))}}class jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class vr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vr(this.firestore,e,this._query)}}class oo extends vr{constructor(e,t,r){super(e,t,S8(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Ge(e))}withConverter(e){return new oo(this.firestore,e,this._path)}}function KD(n,e,...t){if(n=(0,st.m9)(n),WD("collection","path",e),n instanceof Lh){const r=cn.fromString(e,...t);return VL(r),new oo(n,null,r)}{if(!(n instanceof jn||n instanceof oo))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return VL(r),new oo(n.firestore,null,r)}}function b_(n,e,...t){if(n=(0,st.m9)(n),1===arguments.length&&(e=tI.R()),WD("doc","path",e),n instanceof Lh){const r=cn.fromString(e,...t);return IL(r),new jn(n,null,new Ge(r))}{if(!(n instanceof jn||n instanceof oo))throw new Ae(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return IL(r),new jn(n.firestore,n instanceof oo?n.converter:null,new Ge(r))}}function PL(n,e){return n=(0,st.m9)(n),e=(0,st.m9)(e),(n instanceof jn||n instanceof oo)&&(e instanceof jn||e instanceof oo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function YD(n,e){return n=(0,st.m9)(n),e=(0,st.m9)(e),n instanceof vr&&e instanceof vr&&n.firestore===e.firestore&&hh(n._query,e._query)&&n.converter===e.converter}function RL(n,e=10240){let t=0;return{read:()=>(0,W.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,W.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class M_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):w2("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cX{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new P2,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.ku)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,W.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,W.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,W.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const o=yield e.Cc(i);return new OJ(JSON.parse(o),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,W.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,W.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,W.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class dX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,W.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,W.Z)(function*(o,l){const d=qe(o),p=bh(d.yt)+"/documents",v={documents:l.map(H=>yh(d.yt,H))},y=yield d._o("BatchGetDocuments",p,v,l.length),D=new Map;y.forEach(H=>{const z=function uQ(n,e){return"found"in e?function(t,r){vt(!!r.found);const i=io(t,r.found.name),o=S2(r.found.updateTime),l=r.found.createTime?S2(r.found.createTime):Mt.min(),d=new mr({mapValue:{fields:r.found.fields}});return Bn.newFoundDocument(i,o,l,d)}(n,e):"missing"in e?function(t,r){vt(!!r.missing),vt(!!r.readTime);const i=io(t,r.missing),o=S2(r.readTime);return Bn.newNoDocument(i,o)}(n,e):ot()}(d.yt,H);D.set(z.key.toString(),z)});const x=[];return l.forEach(H=>{const z=D.get(H.toString());vt(!!z),x.push(z)}),x}),function(o,l){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new x8(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,W.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=Ge.fromPath(i);e.mutations.push(new bS(o,e.precondition(o)))}),yield(r=(0,W.Z)(function*(i,o){const l=qe(i),d=bh(l.yt)+"/documents",p={writes:o.map(v=>Mh(l.yt,v))};yield l.ao("Commit",d,p)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=Mt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Mt.min())?Qn.exists(!1):Qn.updateTime(t):Qn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new Ae(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qn.updateTime(t)}return Qn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class fX{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.kc=r.maxAttempts,this.xo=new YS(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,W.Z)(function*(){const t=new dX(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.Fc(o)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!oh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!QI(t)}return!1}}class hX{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=nr.UNAUTHENTICATED,this.clientId=tI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,W.Z)(function*(d){Pe("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Pe("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,W.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new P2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=R8(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function FL(n,e){return QD.apply(this,arguments)}function QD(){return QD=(0,W.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,W.Z)(function*(o){r.isEqual(o)||(yield eL(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),QD.apply(this,arguments)}function UL(n,e){return JD.apply(this,arguments)}function JD(){return JD=(0,W.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield XD(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>vL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>vL(e.remoteStore,o)),n.onlineComponents=e}),JD.apply(this,arguments)}function XD(n){return eT.apply(this,arguments)}function eT(){return eT=(0,W.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield FL(n,new AL)),n.offlineComponents}),eT.apply(this,arguments)}function w_(n){return tT.apply(this,arguments)}function tT(){return tT=(0,W.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield UL(n,new ZD)),n.onlineComponents}),tT.apply(this,arguments)}function BL(n){return XD(n).then(e=>e.persistence)}function S_(n){return XD(n).then(e=>e.localStore)}function nT(n){return w_(n).then(e=>e.remoteStore)}function rT(n){return w_(n).then(e=>e.syncEngine)}function j8(n){return iT.apply(this,arguments)}function iT(){return iT=(0,W.Z)(function*(n){const e=yield w_(n),t=e.eventManager;return t.onListen=BJ.bind(null,e.syncEngine),t.onUnlisten=jJ.bind(null,e.syncEngine),t}),iT.apply(this,arguments)}function $L(n,e,t={}){const r=new P2;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(i,o,l,d,p){const v=new M_({next:D=>{o.enqueueAndForget(()=>_D(i,y));const x=D.docs.has(l);!x&&D.fromCache?p.reject(new Ae(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&D.fromCache&&d&&"server"===d.source?p.reject(new Ae(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),y=new bD(S8(l.path),v,{includeMetadataChanges:!0,Nu:!0});return mD(i,y)}(yield j8(n),n.asyncQueue,e,t,r)})),r.promise}function GL(n,e,t={}){const r=new P2;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function(i,o,l,d,p){const v=new M_({next:D=>{o.enqueueAndForget(()=>_D(i,y)),D.fromCache&&"server"===d.source?p.reject(new Ae(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),y=new bD(l,v,{includeMetadataChanges:!0,Nu:!0});return mD(i,y)}(yield j8(n),n.asyncQueue,e,t,r)})),r.promise}class bX{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new YS(this,"async_queue_retry"),this.Wc=()=>{const t=v_();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=v_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=v_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new P2;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,W.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Tc(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,w2("INTERNAL UNHANDLED ERROR: ",function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),l}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=gD.createAndSchedule(this,e,t,r,o=>this.Yc(o));return this.Uc.push(i),i}zc(){this.Kc&&ot()}verifyOperationInProgress(){}Xc(){var e=this;return(0,W.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function sT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class MX{constructor(){this._progressObserver={},this._taskCompletionResolver=new P2,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class $n extends Lh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new bX,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qL(this),this._firestoreClient.terminate()}}function SX(n,e){const t="object"==typeof n?n:(0,Rt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Rt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,st.P0)("firestore");o&&OL(i,...o)}return i}function D2(n){return n._firestoreClient||qL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function qL(n){var e;const t=n._freezeSettings(),r=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new VY(n._databaseId,o,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var o,d;n._firestoreClient=new hX(n._authCredentials,n._appCheckCredentials,n._queue,r)}function ZL(n,e,t){const r=new P2;return n.asyncQueue.enqueue((0,W.Z)(function*(){try{yield FL(n,t),yield UL(n,e),r.resolve()}catch(i){const o=i;if(!("FirebaseError"===(l=o).name?l.code===ce.FAILED_PRECONDITION||l.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw o;F6("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var l})).then(()=>r.promise)}function WL(n){if(n._initialized||n._terminated)throw new Ae(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao(R2.fromBase64String(e))}catch(t){throw new Ae(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ao(R2.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Na{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new g2(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class il{constructor(e){this._methodName=e}}class D_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ft(this._lat,e._lat)||Ft(this._long,e._long)}}const VX=/^__.*__$/;class LX{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms):new E8(e,this.data,t,this.fieldTransforms)}}class KL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ea(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class T_{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===o&&this.na(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new T_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return A_(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(YL(this.sa)&&VX.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class zX{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Hh(e)}da(e,t,r,i=!1){return new T_({sa:e,methodName:t,fa:r,path:g2.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function sl(n){const e=n._freezeSettings(),t=Hh(n._databaseId);return new zX(n._databaseId,!!e.ignoreUndefinedProperties,t)}function E_(n,e,t,r,i,o={}){const l=n.da(o.merge||o.mergeFields?2:0,e,t,i);lT("Data must be an object, but it was:",l,r);const d=XL(r,l);let p,v;if(o.merge)p=new z1(l.fieldMask),v=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const D of o.mergeFields){const x=uT(e,D,t);if(!l.contains(x))throw new Ae(ce.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);tz(y,x)||y.push(x)}p=new z1(y),v=l.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,v=l.fieldTransforms;return new LX(new mr(d),p,v)}class zh extends il{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function QL(n,e,t){return new T_({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class oT extends il{_toFieldTransform(e){return new ph(e.path,new D8)}isEqual(e){return e instanceof oT}}class kX extends il{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=QL(this,e,!0),r=this._a.map(o=>ol(o,t)),i=new K6(r);return new ph(e.path,i)}isEqual(e){return this===e}}class OX extends il{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=QL(this,e,!0),r=this._a.map(o=>ol(o,t)),i=new Y6(r);return new ph(e.path,i)}isEqual(e){return this===e}}class PX extends il{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new T8(e.yt,FI(e.yt,this.wa));return new ph(e.path,t)}isEqual(e){return this===e}}function aT(n,e,t,r){const i=n.da(1,e,t);lT("Data must be an object, but it was:",i,r);const o=[],l=mr.empty();j6(r,(p,v)=>{const y=x_(e,p,t);v=(0,st.m9)(v);const D=i.ca(y);if(v instanceof zh)o.push(y);else{const x=ol(v,D);null!=x&&(o.push(y),l.set(y,x))}});const d=new z1(o);return new KL(l,d,i.fieldTransforms)}function cT(n,e,t,r,i,o){const l=n.da(1,e,t),d=[uT(e,r,t)],p=[i];if(o.length%2!=0)throw new Ae(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)d.push(uT(e,o[x])),p.push(o[x+1]);const v=[],y=mr.empty();for(let x=d.length-1;x>=0;--x)if(!tz(v,d[x])){const H=d[x];let z=p[x];z=(0,st.m9)(z);const U=l.ca(H);if(z instanceof zh)v.push(H);else{const q=ol(z,U);null!=q&&(v.push(H),y.set(H,q))}}const D=new z1(v);return new KL(y,D,l.fieldTransforms)}function JL(n,e,t,r=!1){return ol(t,n.da(r?4:3,e))}function ol(n,e){if(ez(n=(0,st.m9)(n)))return lT("Unsupported field value:",e,n),XL(n,e);if(n instanceof il)return function(t,r){if(!YL(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const l of t){let d=ol(l,r.aa(o));null==d&&(d={nullValue:"NULL_VALUE"}),i.push(d),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,st.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return FI(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Yn.fromDate(t);return{timestampValue:A8(r.yt,i)}}if(t instanceof Yn){const i=new Yn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:A8(r.yt,i)}}if(t instanceof D_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ao)return{bytesValue:aV(r.yt,t._byteString)};if(t instanceof jn){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r.ha(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:MS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${y_(t)}`)}(n,e)}function XL(n,e){const t={};return lI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):j6(n,(r,i)=>{const o=ol(i,e.ra(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function ez(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Yn||n instanceof D_||n instanceof ao||n instanceof jn||n instanceof il)}function lT(n,e,t){if(!ez(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=y_(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function uT(n,e,t){if((e=(0,st.m9)(e))instanceof Na)return e._internalPath;if("string"==typeof e)return x_(n,e);throw A_("Field path arguments must be of type string or ",n,!1,void 0,t)}const RX=new RegExp("[~\\*/\\[\\]]");function x_(n,e,t){if(e.search(RX)>=0)throw A_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Na(...e.split("."))._internalPath}catch{throw A_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function A_(n,e,t,r,i){const o=r&&!r.isEmpty(),l=void 0!==i;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(o||l)&&(p+=" (found",o&&(p+=` in field ${r}`),l&&(p+=` in document ${i}`),p+=")"),new Ae(ce.INVALID_ARGUMENT,d+n+p)}function tz(n,e){return n.some(t=>t.isEqual(e))}class kh{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new FX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(N_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class FX extends kh{data(){return super.data()}}function N_(n,e){return"string"==typeof e?x_(n,e):e instanceof Na?e._internalPath:e._delegate._internalPath}function nz(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ae(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dT{}class Oh extends dT{}function Pc(n,e,...t){let r=[];e instanceof dT&&r.push(e),r=r.concat(t),function(i){const o=i.filter(d=>d instanceof $8).length,l=i.filter(d=>d instanceof Ph).length;if(o>1||o>0&&l>0)throw new Ae(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Ph extends Oh{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ph(e,t,r)}_apply(e){const t=this._parse(e);return oz(e._query,t),new vr(e.firestore,e.converter,_S(e._query,t))}_parse(e){const t=sl(e.firestore);return function(i,o,l,d,p,v,y){let D;if(p.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){sz(y,v);const x=[];for(const H of y)x.push(iz(d,i,H));D={arrayValue:{values:x}}}else D=iz(d,i,y)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||sz(y,v),D=JL(l,"where",y,"in"===v||"not-in"===v);return tn.create(p,v,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class $8 extends dT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $8(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Dn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const l=i.getFlattenedFilters();for(const d of l)oz(o,d),o=_S(o,d)}(e._query,t),new vr(e.firestore,e.converter,_S(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fT extends Oh{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fT(e,t)}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new M8(i,o);return function(d,p){if(null===mS(d)){const v=Yv(d);null!==v&&az(0,v,p.field)}}(r,l),l}(e._query,this._field,this._direction);return new vr(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Ta(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class H_ extends Oh{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new H_(e,t,r)}_apply(e){return new vr(e.firestore,e.converter,Qv(e._query,this._limit,this._limitType))}}class I_ extends Oh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new I_(e,t,r)}_apply(e){const t=rz(e,this.type,this._docOrFields,this._inclusive);return new vr(e.firestore,e.converter,(i=t,new Ta((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class V_ extends Oh{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new V_(e,t,r)}_apply(e){const t=rz(e,this.type,this._docOrFields,this._inclusive);return new vr(e.firestore,e.converter,(i=t,new Ta((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function rz(n,e,t,r){if(t[0]=(0,st.m9)(t[0]),t[0]instanceof kh)return function(i,o,l,d,p){if(!d)throw new Ae(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const y of W6(i))if(y.field.isKeyField())v.push(q6(o,d.key));else{const D=d.data.field(y.field);if(dS(D))throw new Ae(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const x=y.field.canonicalString();throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}v.push(D)}return new Hc(v,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=sl(n.firestore);return function(o,l,d,p,v,y){const D=o.explicitOrderBy;if(v.length>D.length)throw new Ae(ce.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let H=0;H<v.length;H++){const z=v[H];if(D[H].field.isKeyField()){if("string"!=typeof z)throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof z}`);if(!vS(o)&&-1!==z.indexOf("/"))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${z}' contains a slash.`);const U=o.path.child(cn.fromString(z));if(!Ge.isDocumentKey(U))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const q=new Ge(U);x.push(q6(l,q))}else{const U=JL(d,p,z);x.push(U)}}return new Hc(x,y)}(n._query,n.firestore._databaseId,i,e,t,r)}}function iz(n,e,t){if("string"==typeof(t=(0,st.m9)(t))){if(""===t)throw new Ae(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vS(e)&&-1!==t.indexOf("/"))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!Ge.isDocumentKey(r))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q6(n,new Ge(r))}if(t instanceof jn)return q6(n,t._key);throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${y_(t)}.`)}function sz(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function oz(n,e){if(e.isInequality()){const r=Yv(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=mS(n);null!==o&&az(0,i,o)}const t=function(r,i){for(const o of r)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ae(ce.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function az(n,e,t){if(!t.isEqual(e))throw new Ae(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class hT{convertValue(e,t="none"){switch(G6(e)){case 0:return null;case 1:return e.booleanValue;case 2:return m2(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($6(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){const r={};return j6(e.fields,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new D_(m2(e.latitude),m2(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ch(e));default:return null}}convertTimestamp(e){const t=xc(e);return new Yn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);vt(vV(r));const i=new Ec(r.get(1),r.get(3)),o=new Ge(r.popFirst(5));return i.isEqual(t)||w2(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function L_(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class KX extends hT{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}class al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends kh{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(N_("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Rh extends Ha{data(e={}){return super.data(e)}}class Rc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new al(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Rh(this._firestore,this._userDataWriter,r.key,r,new al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Rh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new al(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||3!==l.type).map(l=>{const d=new Rh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new al(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,v=-1;return 0!==l.type&&(p=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),1!==l.type&&(o=o.add(l.doc),v=o.indexOf(l.doc.key)),{type:YX(l.type),doc:d,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function lz(n,e){return n instanceof Ha&&e instanceof Ha?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Rc&&e instanceof Rc&&n._firestore===e._firestore&&YD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Fc extends hT{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function uz(n,e,t){n=nn(n,jn);const r=nn(n.firestore,$n),i=L_(n.converter,e,t);return G8(r,[E_(sl(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Qn.none())])}function dz(n,e,t,...r){n=nn(n,jn);const i=nn(n.firestore,$n),o=sl(i);let l;return l="string"==typeof(e=(0,st.m9)(e))||e instanceof Na?cT(o,"updateDoc",n._key,e,t,r):aT(o,"updateDoc",n._key,e),G8(i,[l.toMutation(n._key,Qn.exists(!0))])}function pT(n,...e){var t,r,i;n=(0,st.m9)(n);let o={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||sT(e[l])||(o=e[l],l++);const d={includeMetadataChanges:o.includeMetadataChanges};if(sT(e[l])){const D=e[l];e[l]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[l+1]=null===(r=D.error)||void 0===r?void 0:r.bind(D),e[l+2]=null===(i=D.complete)||void 0===i?void 0:i.bind(D)}let p,v,y;if(n instanceof jn)v=nn(n.firestore,$n),y=S8(n._key.path),p={next:D=>{e[l]&&e[l](gT(v,n,D))},error:e[l+1],complete:e[l+2]};else{const D=nn(n,vr);v=nn(D.firestore,$n),y=D._query;const x=new Fc(v);p={next:H=>{e[l]&&e[l](new Rc(v,x,D,H))},error:e[l+1],complete:e[l+2]},nz(n._query)}return function(D,x,H,z){const U=new M_(z),q=new bD(x,U,H);return D.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return mD(yield j8(D),q)})),()=>{U.bc(),D.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return _D(yield j8(D),q)}))}}(D2(v),y,d,p)}function G8(n,e){return function(t,r){const i=new P2;return t.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function $J(n,e,t){return TD.apply(this,arguments)}(yield rT(t),r,i)})),i.promise}(D2(n),e)}function gT(n,e,t){const r=t.docs.get(e._key),i=new Fc(n);return new Ha(n,i,e._key,r,new al(t.hasPendingWrites,t.fromCache),e.converter)}const oee={maxAttempts:5};class fz{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sl(e)}set(e,t,r){this._verifyNotCommitted();const i=Uc(e,this._firestore),o=L_(i.converter,t,r),l=E_(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(l.toMutation(i._key,Qn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Uc(e,this._firestore);let l;return l="string"==typeof(t=(0,st.m9)(t))||t instanceof Na?cT(this._dataReader,"WriteBatch.update",o._key,t,r,i):aT(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(l.toMutation(o._key,Qn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uc(e,this._firestore);return this._mutations=this._mutations.concat(new x8(t._key,Qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uc(n,e){if((n=(0,st.m9)(n)).firestore!==e)throw new Ae(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class aee extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=sl(e)}get(e){const t=Uc(e,this._firestore),r=new KX(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ot();const o=i[0];if(o.isFoundDocument())return new kh(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new kh(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const i=Uc(e,this._firestore),o=L_(i.converter,t,r),l=E_(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const o=Uc(e,this._firestore);let l;return l="string"==typeof(t=(0,st.m9)(t))||t instanceof Na?cT(this._dataReader,"Transaction.update",o._key,t,r,i):aT(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,l),this}delete(e){const t=Uc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uc(e,this._firestore),r=new Fc(this._firestore);return super.get(e).then(i=>new Ha(this._firestore,r,t._key,i._document,new al(!1,!1),t.converter))}}!function(n,e=!0){_8=Rt.SDK_VERSION,(0,Rt._registerComponent)(new xr.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),l=new $n(new bY(t.getProvider("auth-internal")),new SY(t.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ae(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(d.options.projectId,p)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(JH,"3.8.0",n),(0,Rt.registerVersion)(JH,"3.8.0","esm2017")}();var pee={includeMetadataChanges:!1};function bee(n,e){return void 0===e&&(e={}),function yee(n){return function mT(n,e){return void 0===e&&(e=pee),new Un.y(function(t){return{unsubscribe:pT(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}})}(n,{includeMetadataChanges:!0}).pipe((0,Ke.U)(function(e){return e.docs}))}(n).pipe((0,Ke.U)(function(t){return t.map(function(r){return function pz(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class z_{constructor(e){return e}}const _z="firestore",CT=new s.OlP("angularfire2.firestore-instances");function See(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new z_(r)}}const Dee={provide:class Mee{constructor(){return _a(_z)}},deps:[[new s.FiY,CT]]},Tee={provide:z_,useFactory:function wee(n,e){const t=M6(_z,n,e);return t&&new z_(t)},deps:[[new s.FiY,CT],ba]};let Eee=(()=>{class n{constructor(){(0,Rt.registerVersion)("angularfire",ic.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Tee,Dee]}),n})();function xee(n,...e){return{ngModule:Eee,providers:[{provide:CT,useFactory:See(n),multi:!0,deps:[s.R0b,s.zs3,fi,w6,[new s.FiY,Gu],[new s.FiY,Ks],...e]}]}}const Cz=X2(bee,!0),yz=X2(KD,!0),Aee=X2(SX,!0);function yT(){return(0,vn.e)((n,e)=>{let t,r=!1;n.subscribe((0,fn.x)(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}function k_(n,e=Is.y){return n=n??Nee,(0,vn.e)((t,r)=>{let i,o=!0;t.subscribe((0,fn.x)(r,l=>{const d=e(l);(o||!n(i,d))&&(o=!1,i=d,r.next(l))}))})}function Nee(n,e){return n===e}var os=O(2011),Hee=(O(9568),O(3942));function bT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function bz(){if(typeof Uint8Array>"u")throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function Mz(){if(!function LY(){return typeof atob<"u"}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Fh{constructor(e){this._delegate=e}static fromBase64String(e){return Mz(),new Fh(ao.fromBase64String(e))}static fromUint8Array(e){return bz(),new Fh(ao.fromUint8Array(e))}toBase64(){return Mz(),this._delegate.toBase64()}toUint8Array(){return bz(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function MT(n){return function Lee(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class zee{enableIndexedDbPersistence(e,t){return function DX(n,e){WL(n=nn(n,$n));const t=D2(n),r=n._freezeSettings(),i=new ZD;return ZL(t,i,new NL(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function TX(n){WL(n=nn(n,$n));const e=D2(n),t=n._freezeSettings(),r=new ZD;return ZL(e,r,new oX(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function EX(n){if(n._initialized&&!n._terminated)throw new Ae(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new P2;return n._queue.enqueueAndForgetEvenWhileRestricted((0,W.Z)(function*(){try{yield(t=(0,W.Z)(function*(r){if(!ss.C())return Promise.resolve();const i=r+"main";yield ss.delete(i)}),function(r){return t.apply(this,arguments)})(FS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class wz{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ec||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&F6("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){OL(this._delegate,e,t,r)}enableNetwork(){return function AX(n){return function pX(n){return n.asyncQueue.enqueue((0,W.Z)(function*(){const e=yield BL(n),t=yield nT(n);return e.setNetworkEnabled(!0),function(r){const i=qe(r);return i._u.delete(0),Ih(i)}(t)}))}(D2(n=nn(n,$n)))}(this._delegate)}disableNetwork(){return function NX(n){return function gX(n){return n.asyncQueue.enqueue((0,W.Z)(function*(){const e=yield BL(n),t=yield nT(n);return e.setNetworkEnabled(!1),(r=(0,W.Z)(function*(i){const o=qe(i);o._u.add(0),yield k8(o),o.gu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(D2(n=nn(n,$n)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,HL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function xX(n){return function(e){const t=new P2;return e.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return function WJ(n,e){return HD.apply(this,arguments)}(yield rT(e),t)})),t.promise}(D2(n=nn(n,$n)))}(this._delegate)}onSnapshotsInSync(e){return function see(n,e){return function _X(n,e){const t=new M_(e);return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return r=yield j8(n),i=t,qe(r).Ru.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return r=yield j8(n),i=t,void qe(r).Ru.delete(i);var r,i}))}}(D2(n=nn(n,$n)),sT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new q8(this,KD(this._delegate,e))}catch(t){throw Zr(t,"collection()","Firestore.collection()")}}doc(e){try{return new hi(this,b_(this._delegate,e))}catch(t){throw Zr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Wr(this,function aX(n,e){if(n=nn(n,Lh),WD("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vr(n,null,(t=e,new Ta(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Zr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function cee(n,e,t){n=nn(n,$n);const r=Object.assign(Object.assign({},oee),t);return function(i){if(i.maxAttempts<1)throw new Ae(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,l){const d=new P2;return i.asyncQueue.enqueueAndForget((0,W.Z)(function*(){const p=yield function jL(n){return w_(n).then(e=>e.datastore)}(i);new fX(i.asyncQueue,p,l,o,d).run()})),d.promise}(D2(n),i=>e(new aee(n,i)),r)}(this._delegate,t=>e(new Sz(this,t)))}batch(){return D2(this._delegate),new Dz(new fz(this._delegate,e=>G8(this._delegate,e)))}loadBundle(e){return function HX(n,e){const t=D2(n=nn(n,$n)),r=new MX;return function CX(n,e,t,r){const i=function(o,l){let d;return d="string"==typeof o?(new TextEncoder).encode(o):o,p=function(p,v){if(p instanceof Uint8Array)return RL(p,v);if(p instanceof ArrayBuffer)return RL(new Uint8Array(p),v);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new cX(p,l);var p}(t,Hh(e));n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){!function sX(n,e,t){const r=qe(n);var i;(i=(0,W.Z)(function*(o,l,d){try{const p=yield l.getMetadata();if(yield function(x,H){const z=qe(x),U=S2(H.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",q=>z.Ns.getBundleMetadata(q,H.id)).then(q=>!!q&&q.createTime.compareTo(U)>=0)}(o.localStore,p))return yield l.close(),d._completeWith({taskState:"Success",documentsLoaded:(x=p).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);d._updateProgress(yL(p));const v=new PJ(p,o.localStore,l.yt);let y=yield l.mc();for(;y;){const x=yield v.Fu(y);x&&d._updateProgress(x),y=yield l.mc()}const D=yield v.complete();return yield Aa(o,D.Lu,void 0),yield function(x,H){const z=qe(x);return z.persistence.runTransaction("Save bundle","readwrite",U=>z.Ns.saveBundleMetadata(U,H))}(o.localStore,p),d._completeWith(D.progress),Promise.resolve(D.Bu)}catch(p){return F6("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var x}),function(o,l,d){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield rT(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function IX(n,e){return function yX(n,e){return n.asyncQueue.enqueue((0,W.Z)(function*(){return function(t,r){const i=qe(t);return i.persistence.runTransaction("Get named query","readonly",o=>i.Ns.getNamedQuery(o,r))}(yield S_(n),e)}))}(D2(n=nn(n,$n)),e).then(t=>t?new vr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Wr(this,t):null)}}class O_ extends hT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fh(new ao(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return hi.forKey(t,this.firestore,null)}}class Sz{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new O_(e)}get(e){const t=ll(e);return this._delegate.get(t).then(r=>new Uh(this._firestore,new Ha(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ll(e);return r?(bT("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ll(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ll(e);return this._delegate.delete(t),this}}class Dz{constructor(e){this._delegate=e}set(e,t,r){const i=ll(e);return r?(bT("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ll(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ll(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class cl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Rh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Bh(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=cl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new cl(e,new O_(e),t),i.set(t,o)),o}}cl.INSTANCES=new WeakMap;class hi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new O_(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new hi(t,new jn(t._delegate,r,new Ge(e)))}static forKey(e,t,r){return new hi(t,new jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new q8(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new q8(this.firestore,KD(this._delegate,e))}catch(t){throw Zr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,st.m9)(e))instanceof jn&&PL(this._delegate,e)}set(e,t){t=bT("DocumentReference.set",t);try{return t?uz(this._delegate,e,t):uz(this._delegate,e)}catch(r){throw Zr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?dz(this._delegate,e):dz(this._delegate,e,t,...r)}catch(i){throw Zr(i,"updateDoc()","DocumentReference.update()")}}delete(){return function ree(n){return G8(nn(n.firestore,$n),[new x8(n._key,Qn.none())])}(this._delegate)}onSnapshot(...e){const t=Tz(e),r=Ez(e,i=>new Uh(this.firestore,new Ha(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return pT(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function JX(n){n=nn(n,jn);const e=nn(n.firestore,$n),t=D2(e),r=new Fc(e);return function mX(n,e){const t=new P2;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return(r=(0,W.Z)(function*(i,o,l){try{const d=yield function(p,v){const y=qe(p);return y.persistence.runTransaction("read document","readonly",D=>y.localDocuments.getDocument(D,v))}(i,o);d.isFoundDocument()?l.resolve(d):d.isNoDocument()?l.resolve(null):l.reject(new Ae(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=R8(d,`Failed to get document '${o} from cache`);l.reject(p)}}),function(i,o,l){return r.apply(this,arguments)})(yield S_(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ha(e,r,n._key,i,new al(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function XX(n){n=nn(n,jn);const e=nn(n.firestore,$n);return $L(D2(e),n._key,{source:"server"}).then(t=>gT(e,n,t))}(this._delegate):function QX(n){n=nn(n,jn);const e=nn(n.firestore,$n);return $L(D2(e),n._key).then(t=>gT(e,n,t))}(this._delegate),t.then(r=>new Uh(this.firestore,new Ha(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new hi(this.firestore,this._delegate.withConverter(e?cl.getInstance(this.firestore,e):null))}}function Zr(n,e,t){return n.message=n.message.replace(e,t),n}function Tz(n){for(const e of n)if("object"==typeof e&&!MT(e))return e;return{}}function Ez(n,e){var t,r;let i;return i=MT(n[0])?n[0]:MT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Uh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new hi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return lz(this._delegate,e._delegate)}}class Bh extends Uh{data(e){const t=this._delegate.data(e);return function _Y(n,e){n||ot()}(void 0!==t),t}}class Wr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new O_(e)}where(e,t,r){try{return new Wr(this.firestore,Pc(this._delegate,function UX(n,e,t){const r=e,i=N_("where",n);return Ph._create(i,r,t)}(e,t,r)))}catch(i){throw Zr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Wr(this.firestore,Pc(this._delegate,function BX(n,e="asc"){const t=e,r=N_("orderBy",n);return fT._create(r,t)}(e,t)))}catch(r){throw Zr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Wr(this.firestore,Pc(this._delegate,function jX(n){return LL("limit",n),H_._create("limit",n,"F")}(e)))}catch(t){throw Zr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Wr(this.firestore,Pc(this._delegate,function $X(n){return LL("limitToLast",n),H_._create("limitToLast",n,"L")}(e)))}catch(t){throw Zr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Wr(this.firestore,Pc(this._delegate,function GX(...n){return I_._create("startAt",n,!0)}(...e)))}catch(t){throw Zr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Wr(this.firestore,Pc(this._delegate,function qX(...n){return I_._create("startAfter",n,!1)}(...e)))}catch(t){throw Zr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Wr(this.firestore,Pc(this._delegate,function ZX(...n){return V_._create("endBefore",n,!1)}(...e)))}catch(t){throw Zr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Wr(this.firestore,Pc(this._delegate,function WX(...n){return V_._create("endAt",n,!0)}(...e)))}catch(t){throw Zr(t,"endAt()","Query.endAt()")}}isEqual(e){return YD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function tee(n){n=nn(n,vr);const e=nn(n.firestore,$n),t=D2(e),r=new Fc(e);return function vX(n,e){const t=new P2;return n.asyncQueue.enqueueAndForget((0,W.Z)(function*(){return(r=(0,W.Z)(function*(i,o,l){try{const d=yield p_(i,o,!0),p=new wL(o,d.Hi),v=p.Wu(d.documents),y=p.applyChanges(v,!1);l.resolve(y.snapshot)}catch(d){const p=R8(d,`Failed to execute query '${o} against cache`);l.reject(p)}}),function(i,o,l){return r.apply(this,arguments)})(yield S_(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Rc(e,r,n,i))}(this._delegate):"server"===e?.source?function nee(n){n=nn(n,vr);const e=nn(n.firestore,$n),t=D2(e),r=new Fc(e);return GL(t,n._query,{source:"server"}).then(i=>new Rc(e,r,n,i))}(this._delegate):function eee(n){n=nn(n,vr);const e=nn(n.firestore,$n),t=D2(e),r=new Fc(e);return nz(n._query),GL(t,n._query).then(i=>new Rc(e,r,n,i))}(this._delegate),t.then(r=>new wT(this.firestore,new Rc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Tz(e),r=Ez(e,i=>new wT(this.firestore,new Rc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return pT(this._delegate,t,r)}withConverter(e){return new Wr(this.firestore,this._delegate.withConverter(e?cl.getInstance(this.firestore,e):null))}}class Oee{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Bh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Wr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Bh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Oee(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Bh(this._firestore,r))})}isEqual(e){return lz(this._delegate,e._delegate)}}class q8 extends Wr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new hi(this.firestore,e):null}doc(e){try{return new hi(this.firestore,void 0===e?b_(this._delegate):b_(this._delegate,e))}catch(t){throw Zr(t,"doc()","CollectionReference.doc()")}}add(e){return function iee(n,e){const t=nn(n.firestore,$n),r=b_(n),i=L_(n.converter,e);return G8(t,[E_(sl(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new hi(this.firestore,t))}isEqual(e){return PL(this._delegate,e._delegate)}withConverter(e){return new q8(this.firestore,this._delegate.withConverter(e?cl.getInstance(this.firestore,e):null))}}function ll(n){return nn(n,jn)}class ST{constructor(...e){this._delegate=new Na(...e)}static documentId(){return new ST(g2.keyField().canonicalString())}isEqual(e){return(e=(0,st.m9)(e))instanceof Na&&this._delegate._internalPath.isEqual(e._internalPath)}}class ul{constructor(e){this._delegate=e}static serverTimestamp(){const e=function uee(){return new oT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ul(e)}static delete(){const e=function lee(){return new zh("deleteField")}();return e._methodName="FieldValue.delete",new ul(e)}static arrayUnion(...e){const t=function dee(...n){return new kX("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ul(t)}static arrayRemove(...e){const t=function fee(...n){return new OX("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ul(t)}static increment(e){const t=function hee(n){return new PX("increment",n)}(e);return t._methodName="FieldValue.increment",new ul(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Pee={Firestore:wz,GeoPoint:D_,Timestamp:Yn,Blob:Fh,Transaction:Sz,WriteBatch:Dz,DocumentReference:hi,DocumentSnapshot:Uh,Query:Wr,QueryDocumentSnapshot:Bh,QuerySnapshot:wT,CollectionReference:q8,FieldPath:ST,FieldValue:ul,setLogLevel:function kee(n){!function vY(n){Sc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Fee(n){(function Ree(n,e){n.INTERNAL.registerComponent(new xr.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Pee)))})(n,(e,t)=>new wz(e,t,new zee)),n.registerVersion("@firebase/firestore-compat","0.3.0")}(Hee.Z);var as=O(6451);class Uee extends Yt.x{constructor(e=1/0,t=1/0,r=tc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:l}=this;t||(r.push(e),!i&&r.push(o.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let l=0;l<o.length&&!e.closed;l+=r?1:2)e.next(o[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const l=t.now();let d=0;for(let p=1;p<r.length&&r[p]<=l;p+=2)d=p;d&&r.splice(0,d+1)}}}var xz=O(3099);function Az(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,xz.B)({connector:()=>new Uee(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Nz(n,e){return(0,r2.m)(e)?_n(()=>n,e):_n(()=>n)}O(9260);const Hz=new s.OlP("angularfire2.auth.use-emulator"),Iz=new s.OlP("angularfire2.auth.settings"),Vz=new s.OlP("angularfire2.auth.tenant-id"),Lz=new s.OlP("angularfire2.auth.langugage-code"),zz=new s.OlP("angularfire2.auth.use-device-language"),kz=new s.OlP("angularfire.auth.persistence"),Oz=(n,e,t,r,i,o,l,d)=>(0,os.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),r&&(p.tenantId=r),p.languageCode=i,o&&p.useDeviceLanguage(),l)for(const[v,y]of Object.entries(l))p.settings[v]=y;return d&&p.setPersistence(d),p},[t,r,i,o,l,d]);let Pz=(()=>{class n{constructor(t,r,i,o,l,d,p,v,y,D,x,H){const z=new Yt.x,U=tt(void 0).pipe((0,rc.Q)(l.outsideAngular),_n(()=>o.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,9568)))),(0,Ke.U)(()=>(0,os.on)(t,o,r)),(0,Ke.U)(q=>Oz(q,o,d,v,y,D,p,x)),Az({bufferSize:1,refCount:!1}));if(Eo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=tt(null);else{U.pipe(Tr()).subscribe();const re=U.pipe(_n(fe=>fe.getRedirectResult().then(xe=>xe,()=>null)),Nr,Az({bufferSize:1,refCount:!1})),ue=U.pipe(_n(fe=>new Un.y(xe=>({unsubscribe:o.runOutsideAngular(()=>fe.onAuthStateChanged(Ve=>xe.next(Ve),Ve=>xe.error(Ve),()=>xe.complete()))})))),ge=U.pipe(_n(fe=>new Un.y(xe=>({unsubscribe:o.runOutsideAngular(()=>fe.onIdTokenChanged(Ve=>xe.next(Ve),Ve=>xe.error(Ve),()=>xe.complete()))}))));this.authState=re.pipe(Nz(ue),(0,b6.R)(l.outsideAngular),(0,rc.Q)(l.insideAngular)),this.user=re.pipe(Nz(ge),(0,b6.R)(l.outsideAngular),(0,rc.Q)(l.insideAngular)),this.idToken=this.user.pipe(_n(fe=>fe?(0,on.D)(fe.getIdToken()):tt(null))),this.idTokenResult=this.user.pipe(_n(fe=>fe?(0,on.D)(fe.getIdTokenResult()):tt(null))),this.credential=(0,as.T)(re,z,this.authState.pipe(gn(fe=>!fe))).pipe((0,Ke.U)(fe=>fe?.user?fe:null),(0,b6.R)(l.outsideAngular),(0,rc.Q)(l.insideAngular))}return(0,os.pX)(this,U,o,{spy:{apply:(q,re,ue)=>{(q.startsWith("signIn")||q.startsWith("createUser"))&&ue.then(ge=>z.next(ge))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(os.Dh),s.LFG(os.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(fi),s.LFG(Hz,8),s.LFG(Iz,8),s.LFG(Vz,8),s.LFG(Lz,8),s.LFG(zz,8),s.LFG(kz,8),s.LFG(Ks,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Rz(n,e){return function jee(n,e=Ws){return new Un.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function DT(n,e){return Rz(n,e).pipe((0,Ke.U)(t=>({payload:t,type:"query"})))}function P_(n,e){return DT(n,e).pipe(w1(void 0),yT(),(0,Ke.U)(([t,r])=>{const i=r.payload.docChanges(),o=i.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((l,d)=>{const p=i.find(y=>y.doc.ref.isEqual(l.ref)),v=t?.payload.docs.find(y=>y.ref.isEqual(l.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(l.metadata)||!p&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||o.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:l}})}),o}))}function Fz(n,e,t){return P_(n,t).pipe(s2((r,i)=>function Gee(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function qee(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return TT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return TT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return TT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),k_(),(0,Ke.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function TT(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Uz(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Bz{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=P_(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ke.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(w1(void 0),yT(),gn(([r,i])=>i.length>0||!r),(0,Ke.U)(([r,i])=>i),Nr)}auditTrail(e){return this.stateChanges(e).pipe(s2((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Uz(e);return Fz(this.query,t,this.afs.schedulers.outsideAngular).pipe(Nr)}valueChanges(e={}){return DT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Nr)}get(e){return(0,on.D)(this.query.get(e)).pipe(Nr)}add(e){return this.ref.add(e)}doc(e){return new jz(this.ref.doc(e),this.afs)}}class jz{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=$z(r,t);return new Bz(i,o,this.afs)}snapshotChanges(){return function $ee(n,e){return Rz(n,e).pipe(w1(void 0),yT(),(0,Ke.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Nr)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ke.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,on.D)(this.ref.get(e)).pipe(Nr)}}class Zee{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?P_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),gn(t=>t.length>0),Nr):P_(this.query,this.afs.schedulers.outsideAngular).pipe(Nr)}auditTrail(e){return this.stateChanges(e).pipe(s2((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Uz(e);return Fz(this.query,t,this.afs.schedulers.outsideAngular).pipe(Nr)}valueChanges(e={}){return DT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ke.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Nr)}get(e){return(0,on.D)(this.query.get(e)).pipe(Nr)}}const Wee=new s.OlP("angularfire2.enableFirestorePersistence"),Kee=new s.OlP("angularfire2.firestore.persistenceSettings"),Yee=new s.OlP("angularfire2.firestore.settings"),Qee=new s.OlP("angularfire2.firestore.use-emulator");function $z(n,e=(t=>t)){return{query:e(n),ref:n}}let Jee=(()=>{class n{constructor(t,r,i,o,l,d,p,v,y,D,x,H,z,U,q,re,ue){this.schedulers=p;const ge=(0,os.on)(t,d,r),fe=y;D&&Oz(ge,d,x,z,U,q,H,re),[this.firestore,this.persistenceEnabled$]=(0,os.cc)(`${ge.name}.firestore`,"AngularFirestore",ge.name,()=>{const xe=d.runOutsideAngular(()=>ge.firestore());if(o&&xe.settings(o),fe&&xe.useEmulator(...fe),i&&!Eo(l)){const Ve=()=>{try{return(0,on.D)(xe.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Ye){return typeof console<"u"&&console.warn(Ye),tt(!1)}};return[xe,d.runOutsideAngular(Ve)]}return[xe,tt(!1)]},[o,fe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:l}=$z(i,r),d=this.schedulers.ngZone.run(()=>o);return new Bz(d,l,this)}collectionGroup(t,r){const i=r||(l=>l),o=this.firestore.collectionGroup(t);return new Zee(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new jz(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(os.Dh),s.LFG(os.xv,8),s.LFG(Wee,8),s.LFG(Yee,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(fi),s.LFG(Kee,8),s.LFG(Qee,8),s.LFG(Pz,8),s.LFG(Hz,8),s.LFG(Iz,8),s.LFG(Vz,8),s.LFG(Lz,8),s.LFG(zz,8),s.LFG(kz,8),s.LFG(Ks,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ia=(()=>{class n{constructor(t,r,i){this.fireAuth=t,this.firestore=r,this.afStore=i}registerUser(t,r){return mw(this.fireAuth,t,r)}loginUser(t,r){return lv(this.fireAuth,t,r)}logUserOut(){return Nw(this.fireAuth)}insertUserOnFirestore(t){return this.afStore.collection("users").doc(`${t.uid}`).set(t)}insertProductOnCartList(t,r,i){return this.afStore.collection("users").doc(`${r}`).collection("cartProductsList").add({productID:t,quantity:1,totalPrice:i})}getAllProductsOnCartList(t){const r=yz(this.firestore,`users/${t}/cartProductsList`);return Cz(r,{idField:"docID"})}getSpecificProductsOnCartList(t,r){return this.afStore.collection("users").doc(`${t}`).collection("cartProductsList",i=>i.where("productID","==",r)).get()}removeProductOnCartList(t,r){var i=this;return(0,W.Z)(function*(){return console.log("firebaseID: ",t),yield i.afStore.collection("users").doc(`${r}`).collection("cartProductsList").doc(t).delete()})()}increaseProductOnCartQty(t,r,i,o){return this.afStore.collection("users").doc(`${r}`).collection("cartProductsList").doc(`${t}`).update({quantity:i,totalPrice:o})}decreaseProductOnCartQty(t,r,i,o){return this.afStore.collection("users").doc(`${r}`).collection("cartProductsList").doc(`${t}`).update({quantity:i,totalPrice:o})}insertUserAddress(t,r,i,o,l,d,p){this.afStore.collection("users").doc(`${t}`).collection("addresses").add({location:r,zip:i,city:o,state:l,street:d,number:p})}getAllUserAddresses(t){const r=yz(this.firestore,`users/${t}/addresses`);return Cz(r,{idField:"docID"})}getSpecificUserAddress(t,r){return this.afStore.collection("users").doc(`${r}`).collection("addresses").doc(`${t}`).valueChanges()}editUserAddress(t,r,i){return this.afStore.collection("users").doc(`${r}`).collection("addresses").doc(`${t}`).update({city:i.city,number:i.num,state:i.state,street:i.str,zip:i.zip})}removeUserAddress(t,r){return this.afStore.collection("users").doc(`${r}`).collection("addresses").doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Hr),s.LFG(z_),s.LFG(Jee))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Xee=O(1144);const ete=["addListener","removeListener"],tte=["addEventListener","removeEventListener"],nte=["on","off"];function Kr(n,e,t,r){if((0,r2.m)(t)&&(r=t,t=void 0),r)return Kr(n,e,t).pipe(Bi(r));const[i,o]=function ste(n){return(0,r2.m)(n.addEventListener)&&(0,r2.m)(n.removeEventListener)}(n)?tte.map(l=>d=>n[l](e,d,t)):function rte(n){return(0,r2.m)(n.addListener)&&(0,r2.m)(n.removeListener)}(n)?ete.map(Gz(n,e)):function ite(n){return(0,r2.m)(n.on)&&(0,r2.m)(n.off)}(n)?nte.map(Gz(n,e)):[];if(!i&&(0,Xee.z)(n))return(0,en.z)(l=>Kr(l,e,t))((0,l1.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Un.y(l=>{const d=(...p)=>l.next(1<p.length?p:p[0]);return i(d),()=>o(d)})}function Gz(n,e){return t=>r=>n[t](e,r)}var ote=O(3532);function ET(n=0,e,t=LM){let r=-1;return null!=e&&((0,ote.K)(e)?t=e:r=e),new Un.y(i=>{let o=function ate(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let l=0;return t.schedule(function(){i.closed||(i.next(l++),0<=r?this.schedule(void 0,r):i.complete())},o)})}const{isArray:cte}=Array;function qz(n){return 1===n.length&&cte(n[0])?n[0]:n}function Zz(...n){return 1===(n=qz(n)).length?(0,l1.Xf)(n[0]):new Un.y(function lte(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,l1.Xf)(n[r]).subscribe((0,fn.x)(e,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}e.next(i)})))}}(n))}var R_=O(5032);const Wz=new Un.y(R_.Z);function F_(...n){const e=(0,Sr.jO)(n),t=qz(n);return t.length?new Un.y(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let l=0;!r.closed&&l<t.length;l++)(0,l1.Xf)(t[l]).subscribe((0,fn.x)(r,d=>{if(i[l].push(d),i.every(p=>p.length)){const p=i.map(v=>v.shift());r.next(e?e(...p):p),i.some((v,y)=>!v.length&&o[y])&&r.complete()}},()=>{o[l]=!0,!i[l].length&&r.complete()}));return()=>{i=o=null}}):Dr.E}function F2(n){return(0,vn.e)((e,t)=>{(0,l1.Xf)(n).subscribe((0,fn.x)(t,()=>t.complete(),R_.Z)),!t.closed&&e.subscribe(t)})}function xT(...n){const e=(0,Sr.jO)(n);return(0,vn.e)((t,r)=>{const i=n.length,o=new Array(i);let l=n.map(()=>!1),d=!1;for(let p=0;p<i;p++)(0,l1.Xf)(n[p]).subscribe((0,fn.x)(r,v=>{o[p]=v,!d&&!l[p]&&(l[p]=!0,(d=l.every(Is.y))&&(l=null))},R_.Z));t.subscribe((0,fn.x)(r,p=>{if(d){const v=[p,...o];r.next(e?e(...v):v)}}))})}function Kz(n,e){return e?t=>M4(e.pipe(On(1),function dte(){return(0,vn.e)((n,e)=>{n.subscribe((0,fn.x)(e,R_.Z))})}()),t.pipe(Kz(n))):(0,en.z)((t,r)=>n(t,r).pipe(On(1),_(t)))}function AT(n,e=Ws){const t=ET(n,e);return Kz(()=>t)}function NT(n){return gn((e,t)=>n<=t)}let Yz=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),dl=(()=>{class n extends Yz{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const co=new s.OlP("NgValueAccessor"),pte={provide:co,useExisting:(0,s.Gpc)(()=>Bc),multi:!0},mte=new s.OlP("CompositionEventMode");let Bc=(()=>{class n extends Yz{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gte(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(mte,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&s.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[s._Bn([pte]),s.qOj]}),n})();const Ir=new s.OlP("NgValidators"),$c=new s.OlP("NgAsyncValidators");function tk(n){return function jc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function U_(n){return null}function ak(n){return null!=n}function ck(n){return(0,s.QGY)(n)?(0,on.D)(n):n}function lk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function uk(n,e){return e.map(t=>t(n))}function dk(n){return n.map(e=>function Cte(n){return!n.validate}(e)?e:t=>e.validate(t))}function HT(n){return null!=n?function fk(n){if(!n)return null;const e=n.filter(ak);return 0==e.length?null:function(t){return lk(uk(t,e))}}(dk(n)):null}function IT(n){return null!=n?function hk(n){if(!n)return null;const e=n.filter(ak);return 0==e.length?null:function(t){return function fte(...n){const e=(0,Sr.jO)(n),{args:t,keys:r}=td(n),i=new Un.y(o=>{const{length:l}=t;if(!l)return void o.complete();const d=new Array(l);let p=l,v=l;for(let y=0;y<l;y++){let D=!1;(0,l1.Xf)(t[y]).subscribe((0,fn.x)(o,x=>{D||(D=!0,v--),d[y]=x},()=>p--,void 0,()=>{(!p||!D)&&(v||o.next(r?id(r,d):d),o.complete())}))}});return e?i.pipe(Bi(e)):i}(uk(t,e).map(ck)).pipe((0,Ke.U)(lk))}}(dk(n)):null}function pk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function VT(n){return n?Array.isArray(n)?n:[n]:[]}function B_(n,e){return Array.isArray(n)?n.includes(e):n===e}function vk(n,e){const t=VT(e);return VT(n).forEach(i=>{B_(t,i)||t.push(i)}),t}function _k(n,e){return VT(e).filter(t=>!B_(n,t))}class Ck{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=HT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Yr extends Ck{get formDirective(){return null}get path(){return null}}class Gc extends Ck{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yk{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Z8=(()=>{class n extends yk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Gc,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[s.qOj]}),n})(),W8=(()=>{class n extends yk{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Yr,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[s.qOj]}),n})();const jh="VALID",$_="INVALID",K8="PENDING",$h="DISABLED";function OT(n){return(G_(n)?n.validators:n)||null}function Mk(n){return Array.isArray(n)?HT(n):n||null}function PT(n,e){return(G_(e)?e.asyncValidators:n)||null}function wk(n){return Array.isArray(n)?IT(n):n||null}function G_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Tk{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Mk(this._rawValidators),this._composedAsyncValidatorFn=wk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===jh}get invalid(){return this.status===$_}get pending(){return this.status==K8}get disabled(){return this.status===$h}get enabled(){return this.status!==$h}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Mk(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=wk(e)}addValidators(e){this.setValidators(vk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_k(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_k(e,this._rawAsyncValidators))}hasValidator(e){return B_(this._rawValidators,e)}hasAsyncValidator(e){return B_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=K8,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$h,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jh||this.status===K8)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$h:jh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=K8,this._hasOwnPendingAsyncValidator=!0;const t=ck(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?$h:this.errors?$_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(K8)?K8:this._anyControlsHaveStatus($_)?$_:jh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){G_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class RT extends Tk{constructor(e,t,r){super(OT(t),PT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Dk(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new s.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Sk(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new s.vHH(1e3,"");if(!r[t])throw new s.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Gh(n,e){FT(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function xte(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ek(n,e)})}(n,e),function Nte(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ate(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ek(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ete(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function W_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function FT(n,e){const t=function gk(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(pk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function mk(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(pk(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();W_(e._rawValidators,i),W_(e._rawAsyncValidators,i)}function Ek(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const zte={provide:Yr,useExisting:(0,s.Gpc)(()=>qc)},qh=(()=>Promise.resolve())();let qc=(()=>{class n extends Yr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new RT({},HT(t),IT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){qh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Gh(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){qh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){qh.then(()=>{const r=this._findContainer(t.path),i=new RT({});(function xk(n,e){FT(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){qh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){qh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Nk(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ir,10),s.Y36($c,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&s.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([zte]),s.qOj]}),n})();function Hk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ik(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Vk=class extends Tk{constructor(e=null,t,r){super(OT(t),PT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),G_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ik(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Hk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Hk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ik(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Pte={provide:Gc,useExisting:(0,s.Gpc)(()=>fl)},kk=(()=>Promise.resolve())();let fl=(()=>{class n extends Gc{constructor(t,r,i,o,l){super(),this._changeDetectorRef=l,this.control=new Vk,this._registered=!1,this.update=new s.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function BT(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Bc?t=o:function Vte(n){return Object.getPrototypeOf(n.constructor)===dl}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function UT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){kk.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,s.D6c)(r);kk.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function q_(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Yr,9),s.Y36(Ir,10),s.Y36($c,10),s.Y36(co,10),s.Y36(s.sBO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s._Bn([Pte]),s.qOj,s.TTD]}),n})(),Y8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Fte={provide:co,useExisting:(0,s.Gpc)(()=>Y_),multi:!0};let Pk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),Ute=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:Pk}),n})(),Y_=(()=>{class n extends dl{constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Gc),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Ute),s.Y36(s.zs3))},n.\u0275dir=s.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&s.NdJ("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[s._Bn([Fte]),s.qOj]}),n})(),hl=(()=>{class n{constructor(){this._validator=U_}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):U_,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();const nne={provide:Ir,useExisting:(0,s.Gpc)(()=>pl),multi:!0};let pl=(()=>{class n extends hl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=s.D6c,this.createValidator=t=>tk}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[s._Bn([nne]),s.qOj]}),n})(),cne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Pk]}),n})(),tO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[cne]}),n})();var une={left:"right",right:"left",bottom:"top",top:"bottom"};function Q_(n){return n.replace(/left|right|bottom|top/g,function(e){return une[e]})}function lo(n){return n.split("-")[0]}var dne={start:"end",end:"start"};function nO(n){return n.replace(/start|end/g,function(e){return dne[e]})}var k1="top",cs="bottom",ls="right",O1="left",WT="auto",Zh=[k1,cs,ls,O1],Q8="start",Wh="end",rO="viewport",Kh="popper",iO=Zh.reduce(function(n,e){return n.concat([e+"-"+Q8,e+"-"+Wh])},[]),sO=[].concat(Zh,[WT]).reduce(function(n,e){return n.concat([e,e+"-"+Q8,e+"-"+Wh])},[]),wne=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function pi(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function gl(n){return n instanceof pi(n).Element||n instanceof Element}function gi(n){return n instanceof pi(n).HTMLElement||n instanceof HTMLElement}function KT(n){return!(typeof ShadowRoot>"u")&&(n instanceof pi(n).ShadowRoot||n instanceof ShadowRoot)}function Zc(n){return((gl(n)?n.ownerDocument:n.document)||window.document).documentElement}var ml=Math.max,J_=Math.min,J8=Math.round;function YT(){var n=navigator.userAgentData;return null!=n&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function oO(){return!/^((?!chrome|android).)*safari/i.test(YT())}function X8(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&gi(n)&&(i=n.offsetWidth>0&&J8(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&J8(r.height)/n.offsetHeight||1);var d=(gl(n)?pi(n):window).visualViewport,p=!oO()&&t,v=(r.left+(p&&d?d.offsetLeft:0))/i,y=(r.top+(p&&d?d.offsetTop:0))/o,D=r.width/i,x=r.height/o;return{width:D,height:x,top:y,right:v+D,bottom:y+x,left:v,x:v,y}}function QT(n){var e=pi(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function JT(n){return X8(Zc(n)).left+QT(n).scrollLeft}function Va(n){return pi(n).getComputedStyle(n)}function uo(n){return n?(n.nodeName||"").toLowerCase():null}function X_(n){return"html"===uo(n)?n:n.assignedSlot||n.parentNode||(KT(n)?n.host:null)||Zc(n)}function XT(n){var e=Va(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function aO(n){return["html","body","#document"].indexOf(uo(n))>=0?n.ownerDocument.body:gi(n)&&XT(n)?n:aO(X_(n))}function Yh(n,e){var t;void 0===e&&(e=[]);var r=aO(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),o=pi(r),l=i?[o].concat(o.visualViewport||[],XT(r)?r:[]):r,d=e.concat(l);return i?d:d.concat(Yh(X_(l)))}function Tne(n){return["table","td","th"].indexOf(uo(n))>=0}function cO(n){return gi(n)&&"fixed"!==Va(n).position?n.offsetParent:null}function Qh(n){for(var e=pi(n),t=cO(n);t&&Tne(t)&&"static"===Va(t).position;)t=cO(t);return t&&("html"===uo(t)||"body"===uo(t)&&"static"===Va(t).position)?e:t||function Ene(n){var e=/firefox/i.test(YT());if(/Trident/i.test(YT())&&gi(n)&&"fixed"===Va(n).position)return null;var i=X_(n);for(KT(i)&&(i=i.host);gi(i)&&["html","body"].indexOf(uo(i))<0;){var o=Va(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||e&&"filter"===o.willChange||e&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}(n)||e}function lO(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&KT(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function eE(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function uO(n,e,t){return e===rO?eE(function Sne(n,e){var t=pi(n),r=Zc(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,d=0,p=0;if(i){o=i.width,l=i.height;var v=oO();(v||!v&&"fixed"===e)&&(d=i.offsetLeft,p=i.offsetTop)}return{width:o,height:l,x:d+JT(n),y:p}}(n,t)):gl(e)?function xne(n,e){var t=X8(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):eE(function Dne(n){var e,t=Zc(n),r=QT(n),i=null==(e=n.ownerDocument)?void 0:e.body,o=ml(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=ml(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),d=-r.scrollLeft+JT(n),p=-r.scrollTop;return"rtl"===Va(i||t).direction&&(d+=ml(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:d,y:p}}(Zc(n)))}function e5(n){return n.split("-")[1]}function tE(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function dO(n){var p,e=n.reference,t=n.element,r=n.placement,i=r?lo(r):null,o=r?e5(r):null,l=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2;switch(i){case k1:p={x:l,y:e.y-t.height};break;case cs:p={x:l,y:e.y+e.height};break;case ls:p={x:e.x+e.width,y:d};break;case O1:p={x:e.x-t.width,y:d};break;default:p={x:e.x,y:e.y}}var v=i?tE(i):null;if(null!=v){var y="y"===v?"height":"width";switch(o){case Q8:p[v]=p[v]-(e[y]/2-t[y]/2);break;case Wh:p[v]=p[v]+(e[y]/2-t[y]/2)}}return p}function hO(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function pO(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function nE(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,o=e.strategy,l=void 0===o?n.strategy:o,d=e.boundary,p=void 0===d?"clippingParents":d,v=e.rootBoundary,y=void 0===v?rO:v,D=e.elementContext,x=void 0===D?Kh:D,H=e.altBoundary,z=void 0!==H&&H,U=e.padding,q=void 0===U?0:U,re=hO("number"!=typeof q?q:pO(q,Zh)),ge=n.rects.popper,fe=n.elements[z?x===Kh?"reference":Kh:x],xe=function Nne(n,e,t,r){var i="clippingParents"===e?function Ane(n){var e=Yh(X_(n)),r=["absolute","fixed"].indexOf(Va(n).position)>=0&&gi(n)?Qh(n):n;return gl(r)?e.filter(function(i){return gl(i)&&lO(i,r)&&"body"!==uo(i)}):[]}(n):[].concat(e),o=[].concat(i,[t]),d=o.reduce(function(p,v){var y=uO(n,v,r);return p.top=ml(y.top,p.top),p.right=J_(y.right,p.right),p.bottom=J_(y.bottom,p.bottom),p.left=ml(y.left,p.left),p},uO(n,o[0],r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}(gl(fe)?fe:fe.contextElement||Zc(n.elements.popper),p,y,l),Ve=X8(n.elements.reference),Ye=dO({reference:Ve,element:ge,strategy:"absolute",placement:i}),St=eE(Object.assign({},ge,Ye)),$t=x===Kh?St:Ve,Cn={top:xe.top-$t.top+re.top,bottom:$t.bottom-xe.bottom+re.bottom,left:xe.left-$t.left+re.left,right:$t.right-xe.right+re.right},Xn=n.modifiersData.offset;if(x===Kh&&Xn){var _r=Xn[i];Object.keys(Cn).forEach(function(a2){var Co=[ls,cs].indexOf(a2)>=0?1:-1,yo=[k1,cs].indexOf(a2)>=0?"y":"x";Cn[a2]+=_r[yo]*Co})}return Cn}const Lne={name:"flip",enabled:!0,phase:"main",fn:function Vne(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=void 0===i||i,l=t.altAxis,d=void 0===l||l,p=t.fallbackPlacements,v=t.padding,y=t.boundary,D=t.rootBoundary,x=t.altBoundary,H=t.flipVariations,z=void 0===H||H,U=t.allowedAutoPlacements,q=e.options.placement,re=lo(q),ge=p||(re!==q&&z?function Ine(n){if(lo(n)===WT)return[];var e=Q_(n);return[nO(n),e,nO(e)]}(q):[Q_(q)]),fe=[q].concat(ge).reduce(function(Mn,ps){return Mn.concat(lo(ps)===WT?function Hne(n,e){void 0===e&&(e={});var i=e.boundary,o=e.rootBoundary,l=e.padding,d=e.flipVariations,p=e.allowedAutoPlacements,v=void 0===p?sO:p,y=e5(e.placement),D=y?d?iO:iO.filter(function(z){return e5(z)===y}):Zh,x=D.filter(function(z){return v.indexOf(z)>=0});0===x.length&&(x=D);var H=x.reduce(function(z,U){return z[U]=nE(n,{placement:U,boundary:i,rootBoundary:o,padding:l})[lo(U)],z},{});return Object.keys(H).sort(function(z,U){return H[z]-H[U]})}(e,{placement:ps,boundary:y,rootBoundary:D,padding:v,flipVariations:z,allowedAutoPlacements:U}):ps)},[]),xe=e.rects.reference,Ve=e.rects.popper,Ye=new Map,St=!0,$t=fe[0],Cn=0;Cn<fe.length;Cn++){var Xn=fe[Cn],_r=lo(Xn),a2=e5(Xn)===Q8,Co=[k1,cs].indexOf(_r)>=0,yo=Co?"width":"height",Ze=nE(e,{placement:Xn,boundary:y,rootBoundary:D,altBoundary:x,padding:v}),lt=Co?a2?ls:O1:a2?cs:k1;xe[yo]>Ve[yo]&&(lt=Q_(lt));var Dt=Q_(lt),Zt=[];if(o&&Zt.push(Ze[_r]<=0),d&&Zt.push(Ze[lt]<=0,Ze[Dt]<=0),Zt.every(function(Mn){return Mn})){$t=Xn,St=!1;break}Ye.set(Xn,Zt)}if(St)for(var m1=function(ps){var Hl=fe.find(function(T2){var Xr=Ye.get(T2);if(Xr)return Xr.slice(0,ps).every(function(Vr){return Vr})});if(Hl)return $t=Hl,"break"},$2=z?3:1;$2>0&&"break"!==m1($2);$2--);e.placement!==$t&&(e.modifiersData[r]._skip=!0,e.placement=$t,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Jh(n,e,t){return ml(n,J_(e,t))}function rE(n){var e=X8(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}const Pne={name:"preventOverflow",enabled:!0,phase:"main",fn:function One(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=void 0===i||i,l=t.altAxis,d=void 0!==l&&l,x=t.tether,H=void 0===x||x,z=t.tetherOffset,U=void 0===z?0:z,q=nE(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),re=lo(e.placement),ue=e5(e.placement),ge=!ue,fe=tE(re),xe=function zne(n){return"x"===n?"y":"x"}(fe),Ve=e.modifiersData.popperOffsets,Ye=e.rects.reference,St=e.rects.popper,$t="function"==typeof U?U(Object.assign({},e.rects,{placement:e.placement})):U,Cn="number"==typeof $t?{mainAxis:$t,altAxis:$t}:Object.assign({mainAxis:0,altAxis:0},$t),Xn=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,_r={x:0,y:0};if(Ve){if(o){var a2,Co="y"===fe?k1:O1,yo="y"===fe?cs:ls,Ze="y"===fe?"height":"width",lt=Ve[fe],Dt=lt+q[Co],Zt=lt-q[yo],c2=H?-St[Ze]/2:0,m1=ue===Q8?Ye[Ze]:St[Ze],$2=ue===Q8?-St[Ze]:-Ye[Ze],U1=e.elements.arrow,Mn=H&&U1?rE(U1):{width:0,height:0},ps=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Hl=ps[Co],T2=ps[yo],Xr=Jh(0,Ye[Ze],Mn[Ze]),Vr=ge?Ye[Ze]/2-c2-Xr-Hl-Cn.mainAxis:m1-Xr-Hl-Cn.mainAxis,m5=ge?-Ye[Ze]/2+c2+Xr+T2+Cn.mainAxis:$2+Xr+T2+Cn.mainAxis,Il=e.elements.arrow&&Qh(e.elements.arrow),HK=null!=(a2=Xn?.[fe])?a2:0,rLe=lt+m5-HK,IK=Jh(H?J_(Dt,lt+Vr-HK-(Il?"y"===fe?Il.clientTop||0:Il.clientLeft||0:0)):Dt,lt,H?ml(Zt,rLe):Zt);Ve[fe]=IK,_r[fe]=IK-lt}if(d){var VK,Vl=Ve[xe],My="y"===xe?"height":"width",LK=Vl+q["x"===fe?k1:O1],zK=Vl-q["x"===fe?cs:ls],tN=-1!==[k1,O1].indexOf(re),kK=null!=(VK=Xn?.[xe])?VK:0,OK=tN?LK:Vl-Ye[My]-St[My]-kK+Cn.altAxis,PK=tN?Vl+Ye[My]+St[My]-kK-Cn.altAxis:zK,RK=H&&tN?function kne(n,e,t){var r=Jh(n,e,t);return r>t?t:r}(OK,Vl,PK):Jh(H?OK:LK,Vl,H?PK:zK);Ve[xe]=RK,_r[xe]=RK-Vl}e.modifiersData[r]=_r}},requiresIfExists:["offset"]},Bne={name:"arrow",enabled:!0,phase:"main",fn:function Fne(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,d=lo(t.placement),p=tE(d),y=[O1,ls].indexOf(d)>=0?"height":"width";if(o&&l){var D=function(e,t){return hO("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:pO(e,Zh))}(i.padding,t),x=rE(o),H="y"===p?k1:O1,z="y"===p?cs:ls,U=t.rects.reference[y]+t.rects.reference[p]-l[p]-t.rects.popper[y],q=l[p]-t.rects.reference[p],re=Qh(o),ue=re?"y"===p?re.clientHeight||0:re.clientWidth||0:0,Ve=ue/2-x[y]/2+(U/2-q/2),Ye=Jh(D[H],Ve,ue-x[y]-D[z]);t.modifiersData[r]=((e={})[p]=Ye,e.centerOffset=Ye-Ve,e)}},effect:function Une(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||!lO(e.elements.popper,i)||(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qne(n,e,t){void 0===t&&(t=!1);var r=gi(e),i=gi(e)&&function Gne(n){var e=n.getBoundingClientRect(),t=J8(e.width)/n.offsetWidth||1,r=J8(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),o=Zc(e),l=X8(n,i,t),d={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(r||!r&&!t)&&(("body"!==uo(e)||XT(o))&&(d=function $ne(n){return n!==pi(n)&&gi(n)?function jne(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):QT(n)}(e)),gi(e)?((p=X8(e,!0)).x+=e.clientLeft,p.y+=e.clientTop):o&&(p.x=JT(o))),{x:l.left+d.scrollLeft-p.x,y:l.top+d.scrollTop-p.y,width:l.width,height:l.height}}function Zne(n){var e=new Map,t=new Set,r=[];function i(o){t.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach(function(d){if(!t.has(d)){var p=e.get(d);p&&i(p)}}),r.push(o)}return n.forEach(function(o){e.set(o.name,o)}),n.forEach(function(o){t.has(o.name)||i(o)}),r}function Kne(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var gO={placement:"bottom",modifiers:[],strategy:"absolute"};function mO(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function Qne(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,o=void 0===i?gO:i;return function(d,p,v){void 0===v&&(v=o);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},gO,o),modifiersData:{},elements:{reference:d,popper:p},attributes:{},styles:{}},D=[],x=!1,H={state:y,setOptions:function(re){var ue="function"==typeof re?re(y.options):re;U(),y.options=Object.assign({},o,y.options,ue),y.scrollParents={reference:gl(d)?Yh(d):d.contextElement?Yh(d.contextElement):[],popper:Yh(p)};var ge=function Wne(n){var e=Zne(n);return wne.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function Yne(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,y.options.modifiers)));return y.orderedModifiers=ge.filter(function(Xn){return Xn.enabled}),function z(){y.orderedModifiers.forEach(function(q){var ue=q.options,fe=q.effect;if("function"==typeof fe){var xe=fe({state:y,name:q.name,instance:H,options:void 0===ue?{}:ue});D.push(xe||function(){})}})}(),H.update()},forceUpdate:function(){if(!x){var re=y.elements,ue=re.reference,ge=re.popper;if(mO(ue,ge)){y.rects={reference:qne(ue,Qh(ge),"fixed"===y.options.strategy),popper:rE(ge)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(Xn){return y.modifiersData[Xn.name]=Object.assign({},Xn.data)});for(var xe=0;xe<y.orderedModifiers.length;xe++)if(!0!==y.reset){var Ve=y.orderedModifiers[xe],Ye=Ve.fn,St=Ve.options;"function"==typeof Ye&&(y=Ye({state:y,options:void 0===St?{}:St,name:Ve.name,instance:H})||y)}else y.reset=!1,xe=-1}}},update:Kne(function(){return new Promise(function(q){H.forceUpdate(),q(y)})}),destroy:function(){U(),x=!0}};if(!mO(d,p))return H;function U(){D.forEach(function(q){return q()}),D=[]}return H.setOptions(v).then(function(q){!x&&v.onFirstUpdate&&v.onFirstUpdate(q)}),H}}var eC={passive:!0};const Xne={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Jne(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=void 0===i||i,l=r.resize,d=void 0===l||l,p=pi(e.elements.popper),v=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&v.forEach(function(y){y.addEventListener("scroll",t.update,eC)}),d&&p.addEventListener("resize",t.update,eC),function(){o&&v.forEach(function(y){y.removeEventListener("scroll",t.update,eC)}),d&&p.removeEventListener("resize",t.update,eC)}},data:{}},t2e={name:"popperOffsets",enabled:!0,phase:"read",fn:function e2e(n){var e=n.state;e.modifiersData[n.name]=dO({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var n2e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vO(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,d=n.position,p=n.gpuAcceleration,v=n.adaptive,y=n.roundOffsets,D=n.isFixed,x=l.x,H=void 0===x?0:x,z=l.y,U=void 0===z?0:z,q="function"==typeof y?y({x:H,y:U}):{x:H,y:U};H=q.x,U=q.y;var re=l.hasOwnProperty("x"),ue=l.hasOwnProperty("y"),ge=O1,fe=k1,xe=window;if(v){var Ve=Qh(t),Ye="clientHeight",St="clientWidth";Ve===pi(t)&&"static"!==Va(Ve=Zc(t)).position&&"absolute"===d&&(Ye="scrollHeight",St="scrollWidth"),(i===k1||(i===O1||i===ls)&&o===Wh)&&(fe=cs,U-=(D&&Ve===xe&&xe.visualViewport?xe.visualViewport.height:Ve[Ye])-r.height,U*=p?1:-1),i!==O1&&(i!==k1&&i!==cs||o!==Wh)||(ge=ls,H-=(D&&Ve===xe&&xe.visualViewport?xe.visualViewport.width:Ve[St])-r.width,H*=p?1:-1)}var a2,Xn=Object.assign({position:d},v&&n2e),_r=!0===y?function r2e(n){var t=n.y,i=window.devicePixelRatio||1;return{x:J8(n.x*i)/i||0,y:J8(t*i)/i||0}}({x:H,y:U}):{x:H,y:U};return H=_r.x,U=_r.y,Object.assign({},Xn,p?((a2={})[fe]=ue?"0":"",a2[ge]=re?"0":"",a2.transform=(xe.devicePixelRatio||1)<=1?"translate("+H+"px, "+U+"px)":"translate3d("+H+"px, "+U+"px, 0)",a2):((e={})[fe]=ue?U+"px":"",e[ge]=re?H+"px":"",e.transform="",e))}const s2e={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function i2e(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,o=t.adaptive,l=void 0===o||o,d=t.roundOffsets,p=void 0===d||d,y={placement:lo(e.placement),variation:e5(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,vO(Object.assign({},y,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:p})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,vO(Object.assign({},y,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var c2e=[Xne,t2e,s2e,{name:"applyStyles",enabled:!0,phase:"write",fn:function o2e(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];!gi(o)||!uo(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(l){var d=i[l];!1===d?o.removeAttribute(l):o.setAttribute(l,!0===d?"":d)}))})},effect:function a2e(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},d=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(p,v){return p[v]="",p},{});!gi(i)||!uo(i)||(Object.assign(i.style,d),Object.keys(o).forEach(function(p){i.removeAttribute(p)}))})}},requires:["computeStyles"]}],l2e=Qne({defaultModifiers:c2e});const f2e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function d2e(n){var e=n.state,r=n.name,i=n.options.offset,o=void 0===i?[0,0]:i,l=sO.reduce(function(y,D){return y[D]=function u2e(n,e,t){var r=lo(n),i=[O1,k1].indexOf(r)>=0?-1:1,o="function"==typeof t?t(Object.assign({},e,{placement:n})):t,l=o[0],d=o[1];return l=l||0,d=(d||0)*i,[O1,ls].indexOf(r)>=0?{x:d,y:l}:{x:l,y:d}}(D,e.rects,o),y},{}),d=l[e.placement],v=d.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=d.x,e.modifiersData.popperOffsets.y+=v),e.modifiersData[r]=l}};function y2e(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",1),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.close())}),s.qZA()}}const tC=["*"];function b2e(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",6),s.NdJ("click",function(){const o=s.CHM(t).$implicit,l=s.oxw();return l.focus(),s.KtG(l.select(o.id,l.NgbSlideEventSource.INDICATOR))}),s.qZA()}if(2&n){const t=e.$implicit,r=s.oxw();s.ekj("active",t.id===r.activeId),s.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function M2e(n,e){}function w2e(n,e){if(1&n&&(s.TgZ(0,"div",7)(1,"span",8),s.SDv(2,9),s.qZA(),s.YNc(3,M2e,0,0,"ng-template",10),s.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;s.Q6J("id","slide-"+t.id),s.xp6(2),s.pQV(r+1)(i),s.QtT(2),s.xp6(1),s.Q6J("ngTemplateOutlet",t.tplRef)}}function S2e(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",11),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.arrowLeft())}),s._UZ(1,"span",12),s.TgZ(2,"span",8),s.SDv(3,13),s.qZA()()}}function D2e(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"button",14),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.arrowRight())}),s._UZ(1,"span",15),s.TgZ(2,"span",8),s.SDv(3,16),s.qZA()()}}const P2e=["dialog"];function wre(n,e){if(1&n&&(s.TgZ(0,"strong",3),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Oqu(t.header)}}function Sre(n,e){}function Dre(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",4),s.YNc(1,Sre,0,0,"ng-template",5),s.TgZ(2,"button",6),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.hide())}),s.qZA()()}if(2&n){const t=s.oxw(),r=s.MAs(1);s.xp6(1),s.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function sE(n){return"string"==typeof n}function vl(n){return null!=n}function t5(n){return(n||document.body).getBoundingClientRect()}const CO={animation:!0,transitionTimerDelayMs:5},Lre=()=>{},{transitionTimerDelayMs:zre}=CO,Xh=new Map,U2=(n,e,t,r)=>{let i=r.context||{};const o=Xh.get(e);if(o)switch(r.runningTransition){case"continue":return Dr.E;case"stop":n.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Xh.delete(e)}const l=t(e,r.animation,i)||Lre;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>l()),tt(void 0).pipe(function Ire(n){return e=>new Un.y(t=>e.subscribe({next:l=>n.run(()=>t.next(l)),error:l=>n.run(()=>t.error(l)),complete:()=>n.run(()=>t.complete())}))}(n));const d=new Yt.x,p=new Yt.x,v=d.pipe(function ute(...n){return e=>M4(e,tt(...n))}(!0));Xh.set(e,{transition$:d,complete:()=>{p.next(),p.complete()},context:i});const y=function Vre(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const D=Kr(e,"transitionend").pipe(F2(v),gn(({target:H})=>H===e));Zz(ET(y+zre).pipe(F2(v)),D,p).pipe(F2(v)).subscribe(()=>{Xh.delete(e),n.run(()=>{l(),d.next(),d.complete()})})}),d.asObservable()},aE=(n,e,t)=>{let{direction:r,maxHeight:i}=t;const{classList:o}=n;function l(){o.add("collapse"),"show"===r?o.add("show"):o.remove("show")}if(e)return i||(i=function Ore(n){if(typeof navigator>"u")return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const r=n.getBoundingClientRect().height+"px";return t||e.remove("show"),r}(n),t.maxHeight=i,n.style.height="show"!==r?i:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),t5(n),o.add("collapsing")),n.style.height="show"===r?i:"0px",()=>{l(),o.remove("collapsing"),n.style.height=""};l()};let Wc=(()=>{class n{constructor(){this.animation=CO.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Y2]}),n})();const Ure=({classList:n})=>{n.remove("show")};let Bre=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Wc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DO=(()=>{class n{constructor(t,r,i,o){this._renderer=r,this._element=i,this._zone=o,this.closed=new s.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=U2(this._zone,this._element.nativeElement,Ure,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Bre),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&s.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],features:[s.TTD],ngContentSelectors:tC,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(s.F$t(),s.Hsn(0),s.YNc(1,y2e,1,0,"button",0)),2&t&&(s.xp6(1),s.Q6J("ngIf",r.dismissible))},dependencies:[Gt],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),TO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Y2]}),n})();var Kc=(()=>(function(n){n.START="start",n.END="end"}(Kc||(Kc={})),Kc))();const EO=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),e9=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},rC=n=>{e9(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},jre=(n,e,{direction:t})=>{const{classList:r}=n;return e?(EO(n)?e9(r):(r.add("carousel-item-"+(t===Kc.START?"next":"prev")),t5(n),r.add("carousel-item-"+t)),()=>{rC(r),r.add("active")}):(e9(r),rC(r),void r.add("active"))},$re=(n,e,{direction:t})=>{const{classList:r}=n;return e?(EO(n)?e9(r):r.add("carousel-item-"+t),()=>{rC(r),r.remove("active")}):(e9(r),rC(r),void r.remove("active"))};let Gre=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Wc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qre=0,uE=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+qre++,this.slid=new s.vpe}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),xO=(()=>{class n{constructor(t,r,i,o,l){this._platformId=r,this._ngZone=i,this._cd=o,this._container=l,this.NgbSlideEventSource=_l,this._destroy$=new Yt.x,this._interval$=new f2(0),this._mouseHover$=new f2(!1),this._focused$=new f2(!1),this._pauseOnHover$=new f2(!1),this._pauseOnFocus$=new f2(!1),this._pause$=new f2(!1),this._wrap$=new f2(!1),this.slide=new s.vpe,this.slid=new s.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(_l.ARROW_LEFT)}arrowRight(){this.focus(),this.next(_l.ARROW_RIGHT)}ngAfterContentInit(){Q2(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Vs([this.slide.pipe((0,Ke.U)(r=>r.current),w1(this.activeId)),this._wrap$,this.slides.changes.pipe(w1(null))]).pipe((0,Ke.U)(([r,i])=>{const o=this.slides.toArray(),l=this._getSlideIdxById(r);return i?o.length>1:l<o.length-1}),k_());Vs([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,Ke.U)(([r,i,o,l,d,p,v])=>r||i&&o||l&&d||!v?0:p),k_(),_n(r=>r>0?ET(r,r):Wz),F2(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(_l.TIMER)))}),this.slides.changes.pipe(F2(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{Xh.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(On(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Kc.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Kc.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const o=this._transitionIds;if(o&&(o[0]!==t||o[1]!==this.activeId))return;let l=this._getSlideById(t);if(l&&l.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:l.id,direction:r,paused:this._pause$.value,source:i});const d={animation:this.animation,runningTransition:"stop",context:{direction:r}},p=[],v=this._getSlideById(this.activeId);if(v){const H=U2(this._ngZone,this._getSlideElement(v.id),$re,d);H.subscribe(()=>{v.slid.emit({isShown:!1,direction:r,source:i})}),p.push(H)}const y=this.activeId;this.activeId=l.id;const D=this._getSlideById(this.activeId),x=U2(this._ngZone,this._getSlideElement(l.id),jre,d);x.subscribe(()=>{D?.slid.emit({isShown:!0,direction:r,source:i})}),p.push(x),F_(...p).pipe(On(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:y,current:l.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?Kc.END:Kc.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Gre),s.Y36(s.Lbi),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&s.Suo(i,uE,4),2&t){let o;s.iGM(o=s.CRH())&&(r.slides=o)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&s.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(s.uIk("aria-activedescendant","slide-"+r.activeId),s.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,b2e,1,5,"button",1),s.qZA(),s.TgZ(2,"div",2),s.YNc(3,w2e,4,4,"div",3),s.qZA(),s.YNc(4,S2e,4,0,"button",4),s.YNc(5,D2e,4,0,"button",5)),2&t&&(s.ekj("visually-hidden",!r.showNavigationIndicators),s.xp6(1),s.Q6J("ngForOf",r.slides),s.xp6(2),s.Q6J("ngForOf",r.slides),s.xp6(1),s.Q6J("ngIf",r.showNavigationArrows),s.xp6(1),s.Q6J("ngIf",r.showNavigationArrows))},dependencies:[Fn,Gt,Lr],encapsulation:2,changeDetection:0}),n})();var _l=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(_l||(_l={})),_l))();let dE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Y2]}),n})(),Zre=(()=>{class n{constructor(t){this._ngbConfig=t}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Wc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wre=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this.collapsed=!1,this.ngbCollapseChange=new s.vpe,this.shown=new s.vpe,this.hidden=new s.vpe,this.animation=r.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:t}){t.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(t=this.collapsed){this.collapsed=!t,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(t,r){return U2(this._zone,this._element.nativeElement,aE,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(Zre),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[s.TTD]}),n})(),AO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();var B2=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(B2||(B2={})),B2))();const iC=(n,e)=>!!e&&e.some(t=>t.contains(n)),NO=(n,e)=>!e||null!=function Hre(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}(n,e),t1e=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function HO(n,e,t,r,i,o,l,d){t&&n.runOutsideAngular((n=>t1e?()=>setTimeout(()=>n(),100):n)(()=>{const v=Kr(e,"keydown").pipe(F2(i),gn(x=>x.which===B2.Escape),Ht(x=>x.preventDefault())),y=Kr(e,"mousedown").pipe((0,Ke.U)(x=>{const H=x.target;return 2!==x.button&&!iC(H,l)&&("inside"===t?iC(H,o)&&NO(H,d):"outside"===t?!iC(H,o):NO(H,d)||!iC(H,o))}),F2(i)),D=Kr(e,"mouseup").pipe(xT(y),gn(([x,H])=>H),AT(0),F2(i));Zz([v.pipe((0,Ke.U)(x=>0)),D.pipe((0,Ke.U)(x=>1))]).subscribe(x=>n.run(()=>r(x)))}))}const IO=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function VO(n){const e=Array.from(n.querySelectorAll(IO)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const i1e=/\s+/,s1e=/  +/gi,o1e=/^start/,a1e=/^end/,c1e=/-(top|left)$/,l1e=/-(bottom|right)$/,d1e=/^left/,f1e=/^right/,h1e=/^start/,p1e=/^end/;function LO({placement:n,baseClass:e}){let t=Array.isArray(n)?n:n.split(i1e),i=t.findIndex(p=>"auto"===p);i>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(p){null==t.find(v=>-1!==v.search("^"+p))&&t.splice(i++,1,p)});const o=t.map(p=>function u1e(n){return n.replace(o1e,"left").replace(a1e,"right").replace(c1e,"-start").replace(l1e,"-end")}(p));return{placement:o.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:p}){const v=new RegExp(e+"(-[a-z]+)*","gi"),y=p.elements.popper,D=p.placement;let x=y.className;x=x.replace(v,""),x+=` ${function g1e(n,e){let[t,r]=e.split("-");const i=t.replace(d1e,"start").replace(f1e,"end");let o=[i];if(r){let l=r;("left"===t||"right"===t)&&(l=l.replace(h1e,"top").replace(p1e,"bottom")),o.push(`${i}-${l}`)}return n&&(o=o.map(l=>`${n}-${l}`)),o.join(" ")}(e,D)}`,x=x.trim().replace(s1e," "),y.className=x}},Lne,Pne,Bne,{enabled:!0,name:"flip",options:{fallbackPlacements:o}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function zO(n){return n}function kO(){let n=null;return{createPopper(e){if(!n){let r=(e.updatePopperOptions||zO)(LO(e));n=l2e(e.hostElement,e.targetElement,r)}},update(){n&&n.update()},setOptions(e){if(n){let r=(e.updatePopperOptions||zO)(LO(e));n.setOptions(r)}},destroy(){n&&(n.destroy(),n=null)}}}function m1e(n){return e=>(e.modifiers.push(f2e,{name:"offset",options:{offset:()=>n}}),e)}new Date(1882,10,12),new Date(2174,10,25);let BO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Y2,tO]}),n})(),D1e=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),lC=(()=>{class n{constructor(t,r){this.elementRef=t,this._renderer=r,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(t,r){2&t&&(s.Ikx("tabIndex",r.disabled?-1:0),s.ekj("disabled",r.disabled))},inputs:{disabled:"disabled"}}),n})(),uC=(()=>{class n{constructor(t,r){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(s.Y36((0,s.Gpc)(()=>r5)),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,r,i){if(1&t&&s.Suo(i,lC,4),2&t){let o;s.iGM(o=s.CRH())&&(r.menuItems=o)}},hostVars:4,hostBindings:function(t,r){1&t&&s.NdJ("keydown.ArrowUp",function(o){return r.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return r.dropdown.onKeyDown(o)})("keydown.Home",function(o){return r.dropdown.onKeyDown(o)})("keydown.End",function(o){return r.dropdown.onKeyDown(o)})("keydown.Enter",function(o){return r.dropdown.onKeyDown(o)})("keydown.Space",function(o){return r.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return r.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return r.dropdown.onKeyDown(o)}),2&t&&s.ekj("dropdown-menu",!0)("show",r.dropdown.isOpen())}}),n})(),dC=(()=>{class n{constructor(t,r){this.dropdown=t,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(s.Y36((0,s.Gpc)(()=>r5)),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("aria-expanded",r.dropdown.isOpen())}}),n})(),gE=(()=>{class n extends dC{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36((0,s.Gpc)(()=>r5)),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){1&t&&s.NdJ("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(o){return r.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return r.dropdown.onKeyDown(o)})("keydown.Home",function(o){return r.dropdown.onKeyDown(o)})("keydown.End",function(o){return r.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return r.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return r.dropdown.onKeyDown(o)}),2&t&&s.uIk("aria-expanded",r.dropdown.isOpen())},features:[s._Bn([{provide:dC,useExisting:(0,s.Gpc)(()=>n)}]),s.qOj]}),n})(),r5=(()=>{class n{constructor(t,r,i,o,l,d,p){this._changeDetector=t,this._document=i,this._ngZone=o,this._elementRef=l,this._renderer=d,this._destroyCloseHandlers$=new Yt.x,this._bodyContainer=null,this._positioning=kO(),this._open=!1,this.openChange=new s.vpe,this.placement=r.placement,this.container=r.container,this.autoClose=r.autoClose,this.display=p?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe(On(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),t.dropdownClass){const{currentValue:r,previousValue:i}=t.dropdownClass;this._applyCustomDropdownClass(r,i)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:m1e([0,2])}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),HO(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){const r=t.which,i=this._getMenuElements();let o=-1,l=null;const d=this._isEventFromToggle(t);if(!d&&i.length&&i.forEach((p,v)=>{p.contains(t.target)&&(l=p),p===this._document.activeElement&&(o=v)}),r!==B2.Space&&r!==B2.Enter){if(r!==B2.Tab){if(d||l){if(this.open(),i.length){switch(r){case B2.ArrowDown:o=Math.min(o+1,i.length-1);break;case B2.ArrowUp:if(this._isDropup()&&-1===o){o=i.length-1;break}o=Math.max(o-1,0);break;case B2.Home:o=0;break;case B2.End:o=i.length-1}i[o].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const p=this._menu.nativeElement.querySelectorAll(IO);t.shiftKey&&t.target===p[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===p[p.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Kr(t.target,"focusout").pipe(On(1)).subscribe(({relatedTarget:p})=>{this._elementRef.nativeElement.contains(p)||this.close()})}}else l&&(!0===this.autoClose||"inside"===this.autoClose)&&Kr(l,"click").pipe(On(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(r=>!r.disabled).map(r=>r.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;this._menu&&t.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const r=this._renderer,i=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||r.createElement("div");r.setStyle(o,"position","absolute"),r.setStyle(i,"position","static"),r.setStyle(o,"z-index","1055"),r.appendChild(o,i),r.appendChild(this._document.body,o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,r){const i="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;i&&(r&&this._renderer.removeClass(i,r),t&&this._renderer.addClass(i,t))}_applyPlacementClasses(t){const r=this._menu;if(r){t||(t=this._getFirstPlacement(this.placement));const i=this._renderer,o=this._elementRef.nativeElement;i.removeClass(o,"dropup"),i.removeClass(o,"dropdown");const{nativeElement:l}=r;"static"===this.display?(r.placement=null,i.setAttribute(l,"data-bs-popper","static")):(r.placement=t,i.removeAttribute(l,"data-bs-popper"));const d=-1!==t.search("^top")?"dropup":"dropdown";i.addClass(o,d);const p=this._bodyContainer;p&&(i.removeClass(p,"dropup"),i.removeClass(p,"dropdown"),i.addClass(p,d))}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.sBO),s.Y36(D1e),s.Y36(we),s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(cC,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,uC,5),s.Suo(i,dC,5)),2&t){let o;s.iGM(o=s.CRH())&&(r._menu=o.first),s.iGM(o=s.CRH())&&(r._anchor=o.first)}},hostVars:2,hostBindings:function(t,r){2&t&&s.ekj("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[s.TTD]}),n})(),jO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class bl{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class T1e{constructor(e,t,r,i,o,l){this._componentType=e,this._injector=t,this._viewContainerRef=r,this._renderer=i,this._ngZone=o,this._applicationRef=l,this._windowRef=null,this._contentRef=null}open(e,t,r=!1){this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:i}=this._windowRef.location,o=this._ngZone.onStable.pipe(On(1),(0,en.z)(()=>U2(this._ngZone,i,({classList:l})=>l.add("show"),{animation:r,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(e=!1){return this._windowRef?U2(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:e,runningTransition:"stop"}).pipe(Ht(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):tt(void 0)}_getContentRef(e,t){if(e){if(e instanceof s.Rgc){const r=e.createEmbeddedView(t);return this._applicationRef.attachView(r),new bl([r.rootNodes],r)}return new bl([[this._renderer.createText(`${e}`)]])}return new bl([])}}let E1e=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(On(1)).subscribe(()=>{U2(this._zone,this._el.nativeElement,(t,r)=>{r&&t5(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return U2(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(s.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),s.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class $O{close(e){}dismiss(e){}}class x1e{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Yt.x,this._dismissed=new Yt.x,this._hidden=new Yt.x,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,l)=>{this._resolve=o,this._reject=l}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(F2(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(F2(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function _O(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():tt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),F_(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var r9=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(r9||(r9={})),r9))();let A1e=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Yt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.vpe,this.shown=new Yt.x,this.hidden=new Yt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":sE(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(On(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},l=F_(U2(this._zone,t,()=>t.classList.remove("show"),r),U2(this._zone,this._dialogEl.nativeElement,()=>{},r));return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){const t={animation:this.animation,runningTransition:"continue"};F_(U2(this._zone,this._elRef.nativeElement,(o,l)=>{l&&t5(o),o.classList.add("show")},t),U2(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Kr(t,"keydown").pipe(F2(this._closed$),gn(i=>i.which===B2.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(r9.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Kr(this._dialogEl.nativeElement,"mousedown").pipe(F2(this._closed$),Ht(()=>r=!1),_n(()=>Kr(t,"mouseup").pipe(F2(this._closed$),On(1))),gn(({target:i})=>t===i)).subscribe(()=>{r=!0}),Kr(t,"click").pipe(F2(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(r9.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=VO(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&U2(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(we),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&s.Gf(P2e,7),2&t){let i;s.iGM(i=s.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(s.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),s.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),s.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:tC,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"div",0,1)(2,"div",2),s.Hsn(3),s.qZA()()),2&t&&s.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),N1e=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:l}=i;if(t>0){const d=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${d+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=l),i.overflow=o}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(we))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H1e=(()=>{class n{constructor(t,r,i,o,l,d){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=o,this._rendererFactory=l,this._ngZone=d,this._activeWindowCmptHasChanged=new Yt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const p=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Kr(e,"focusin").pipe(F2(t),(0,Ke.U)(o=>o.target));Kr(e,"keydown").pipe(F2(t),gn(o=>o.which===B2.Tab),xT(i)).subscribe(([o,l])=>{const[d,p]=VO(e);(l===d||l===e)&&o.shiftKey&&(p.focus(),o.preventDefault()),l===p&&!o.shiftKey&&(d.focus(),o.preventDefault())}),r&&Kr(e,"click").pipe(F2(t),xT(i),(0,Ke.U)(o=>o[1])).subscribe(o=>o.focus())})})(0,p.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(p.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const o=i.container instanceof HTMLElement?i.container:vl(i.container)?this._document.querySelector(i.container):this._document.body,l=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const d=new $O,p=this._getContentRef(i.injector||t,r,d,i);let v=!1!==i.backdrop?this._attachBackdrop(o):void 0,y=this._attachWindowComponent(o,p.nodes),D=new x1e(y,p,v,i.beforeDismiss);return this._registerModalRef(D),this._registerWindowCmpt(y),D.hidden.pipe(On(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(l.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),d.close=x=>{D.close(x)},d.dismiss=x=>{D.dismiss(x)},this._applyWindowOptions(y.instance,i),1===this._modalRefs.length&&l.addClass(this._document.body,"modal-open"),v&&v.instance&&(this._applyBackdropOptions(v.instance,i),v.changeDetectorRef.detectChanges()),y.changeDetectorRef.detectChanges(),D}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,s.LMc)(E1e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,s.LMc)(A1e,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{vl(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{vl(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,o){return r?r instanceof s.Rgc?this._createFromTemplateRef(r,i):sE(r)?this._createFromString(r):this._createFromComponent(t,r,i,o):new bl([])}_createFromTemplateRef(t,r){const o=t.createEmbeddedView({$implicit:r,close(l){r.close(l)},dismiss(l){r.dismiss(l)}});return this._applicationRef.attachView(o),new bl([o.rootNodes],o)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new bl([[r]])}_createFromComponent(t,r,i,o){const l=s.zs3.create({providers:[{provide:$O,useValue:i}],parent:t}),d=(0,s.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:l}),p=d.location.nativeElement;return o.scrollable&&p.classList.add("component-host-scrollable"),this._applicationRef.attachView(d.hostView),new bl([[p]],d.hostView,d)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.z2F),s.LFG(s.zs3),s.LFG(we),s.LFG(N1e),s.LFG(s.FYo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I1e=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Wc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V1e=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.zs3),s.LFG(H1e),s.LFG(I1e))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[V1e]}),n})(),KO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Y2]}),n})(),rP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Y2]}),n})();class R1e{constructor(e,t){this.open=e,this.close=t,t||(this.close=e)}isManual(){return"manual"===this.open||"manual"===this.close}}const F1e={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},iP=n=>n>0?AT(n):e=>e;let sP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Y2]}),n})(),oP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Y2]}),n})(),aP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Y2]}),n})(),cP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Y2]}),n})();const Z1e=(n,e)=>{const{classList:t}=n;if(e)return t.remove("hide"),t5(n),t.add("showing"),()=>{t.remove("showing"),t.add("show")};t.add("show")},W1e=({classList:n})=>(n.remove("show"),()=>{n.add("hide")});let K1e=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Wc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y1e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbToastHeader",""]]}),n})(),Q1e=(()=>{class n{constructor(t,r,i,o){this.ariaLive=t,this._zone=i,this._element=o,this.contentHeaderTpl=null,this.shown=new s.vpe,this.hidden=new s.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(On(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=U2(this._zone,this._element.nativeElement,W1e,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=U2(this._zone,this._element.nativeElement,Z1e,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(s.$8M("aria-live"),s.Y36(K1e),s.Y36(s.R0b),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&s.Suo(i,Y1e,7,s.Rgc),2&t){let o;s.iGM(o=s.CRH())&&(r.contentHeaderTpl=o.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(s.uIk("aria-live",r.ariaLive),s.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],features:[s.TTD],ngContentSelectors:tC,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(s.F$t(),s.YNc(0,wre,2,1,"ng-template",null,0,s.W1O),s.YNc(2,Dre,3,1,"ng-template",1),s.TgZ(3,"div",2),s.Hsn(4),s.qZA()),2&t&&(s.xp6(2),s.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[Gt,Lr],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),lP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Y2]}),n})(),J1e=(()=>{class n{constructor(t){this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Wc))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X1e=0,eie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,r){2&t&&(s.Ikx("id",r.id),s.Tol("tooltip"+(r.tooltipClass?" "+r.tooltipClass:"")),s.ekj("fade",r.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:tC,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(t,r){1&t&&(s.F$t(),s._UZ(0,"div",0),s.TgZ(1,"div",1),s.Hsn(2),s.qZA())},encapsulation:2,changeDetection:0}),n})(),tie=(()=>{class n{constructor(t,r,i,o,l,d,p,v,y){this._elementRef=t,this._renderer=r,this._ngZone=d,this._document=p,this._changeDetector=v,this.shown=new s.vpe,this.hidden=new s.vpe,this._ngbTooltipWindowId="ngb-tooltip-"+X1e++,this._windowRef=null,this._positioning=kO(),this.animation=l.animation,this.autoClose=l.autoClose,this.placement=l.placement,this.triggers=l.triggers,this.container=l.container,this.disableTooltip=l.disableTooltip,this.tooltipClass=l.tooltipClass,this.openDelay=l.openDelay,this.closeDelay=l.closeDelay,this._popupService=new T1e(eie,i,o,r,this._ngZone,y)}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:r,transition$:i}=this._popupService.open(this._ngbTooltip,t,this.animation);this._windowRef=r,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._elementRef.nativeElement,targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:"body"===this.container,baseClass:"bs-tooltip"}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),HO(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),i.subscribe(()=>this.shown.emit())}}close(t=this.animation){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function $1e(n,e,t,r,i,o,l=0,d=0){const p=function U1e(n,e=F1e){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(o=>o.split(":")).map(o=>{let l=e[o[0]]||o;return new R1e(l[0],l[1])}),i=r.filter(o=>o.isManual());if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(t);if(1===p.length&&p[0].isManual())return()=>{};const v=function B1e(n,e,t,r){return new Un.y(i=>{const o=[],l=()=>i.next(!0),d=()=>i.next(!1),p=()=>i.next(!r());return t.forEach(v=>{v.open===v.close?o.push(n.listen(e,v.open,p)):o.push(n.listen(e,v.open,l),n.listen(e,v.close,d))}),()=>{o.forEach(v=>v())}})}(n,e,p,r).pipe(function j1e(n,e,t){return r=>{let i=null;const o=r.pipe((0,Ke.U)(p=>({open:p})),gn(p=>{const v=t();return v===p.open||i&&i.open!==v?(i&&i.open!==p.open&&(i=null),!1):(i=p,!0)}),(0,xz.B)()),l=o.pipe(gn(p=>p.open),iP(n)),d=o.pipe(gn(p=>!p.open),iP(e));return(0,as.T)(l,d).pipe(gn(p=>p===i&&(i=null,p.open!==t())),(0,Ke.U)(p=>p.open))}}(l,d,r)).subscribe(y=>y?i():o());return()=>v.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.zs3),s.Y36(s.s_b),s.Y36(J1e),s.Y36(s.R0b),s.Y36(we),s.Y36(s.sBO),s.Y36(s.z2F))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[s.TTD]}),n})(),uP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();new s.OlP("live announcer delay",{providedIn:"root",factory:function nie(){return 100}});let dP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Y2]}),n})(),fP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const rie=[SO,TO,dE,AO,BO,jO,GO,KO,fP,rP,sP,oP,aP,cP,lP,uP,dP];let iie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[rie,SO,TO,dE,AO,BO,jO,GO,KO,fP,rP,sP,oP,aP,cP,lP,uP,dP]}),n})();var jP={prefix:"fas",iconName:"user-check",icon:[640,512,[],"f4fc","M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM625 177L497 305c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L591 143c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},wE={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.8 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},DE={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},TE={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},i5={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},xE={prefix:"fas",iconName:"user-pen",icon:[640,512,["user-edit"],"f4ff","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H322.8c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l40.3-40.3c-32.1-31-75.7-50.1-123.9-50.1H178.3zm435.5-68.3c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4 71 71 29.4-29.4c15.6-15.6 15.6-40.9 0-56.6l-14.4-14.4zM375.9 417c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5 .2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4L576.1 358.7l-71-71L375.9 417z"]},iU={prefix:"fas",iconName:"circle-arrow-left",icon:[512,512,["arrow-circle-left"],"f0a8","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256S114.6 512 256 512s256-114.6 256-256zM215 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-71 71L392 232c13.3 0 24 10.7 24 24s-10.7 24-24 24l-214.1 0 71 71c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L103 273c-9.4-9.4-9.4-24.6 0-33.9L215 127z"]},OE={prefix:"fas",iconName:"shield-halved",icon:[512,512,["shield-alt"],"f3ed","M256 0c4.6 0 9.2 1 13.4 2.9L457.7 82.8c22 9.3 38.4 31 38.3 57.2c-.5 99.2-41.3 280.7-213.7 363.2c-16.7 8-36.1 8-52.8 0C57.3 420.7 16.5 239.2 16 140c-.1-26.2 16.3-47.9 38.3-57.2L242.7 2.9C246.8 1 251.4 0 256 0zm0 66.8V444.8C394 378 431.1 230.1 432 141.4L256 66.8l0 0z"]},PE={prefix:"fas",iconName:"circle-arrow-right",icon:[512,512,["arrow-circle-right"],"f0a9","M0 256C0 397.4 114.6 512 256 512s256-114.6 256-256S397.4 0 256 0S0 114.6 0 256zM297 385c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l71-71L120 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l214.1 0-71-71c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L409 239c9.4 9.4 9.4 24.6 0 33.9L297 385z"]},s5={prefix:"fas",iconName:"star-half-stroke",icon:[576,512,["star-half-alt"],"f5c0","M288 376.4l.1-.1 26.4 14.1 85.2 45.5-16.5-97.6-4.8-28.7 20.7-20.5 70.1-69.3-96.1-14.2-29.3-4.3-12.9-26.6L288.1 86.9l-.1 .3V376.4zm175.1 98.3c2 12-3 24.2-12.9 31.3s-23 8-33.8 2.3L288.1 439.8 159.8 508.3C149 514 135.9 513.1 126 506s-14.9-19.3-12.9-31.3L137.8 329 33.6 225.9c-8.6-8.5-11.7-21.2-7.9-32.7s13.7-19.9 25.7-21.7L195 150.3 259.4 18c5.4-11 16.5-18 28.8-18s23.4 7 28.8 18l64.3 132.3 143.6 21.2c12 1.8 22 10.2 25.7 21.7s.7 24.2-7.9 32.7L438.5 329l24.6 145.7z"]},qE={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"]},KE={prefix:"fas",iconName:"circle-left",icon:[512,512,[61840,"arrow-alt-circle-left"],"f359","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256S114.6 512 256 512s256-114.6 256-256zM116.7 244.7l112-112c4.6-4.6 11.5-5.9 17.4-3.5s9.9 8.3 9.9 14.8l0 64 96 0c17.7 0 32 14.3 32 32l0 32c0 17.7-14.3 32-32 32l-96 0 0 64c0 6.5-3.9 12.3-9.9 14.8s-12.9 1.1-17.4-3.5l-112-112c-6.2-6.2-6.2-16.4 0-22.6z"]},QE={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},JE={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"]},rx={prefix:"fas",iconName:"credit-card",icon:[576,512,[128179,62083,"credit-card-alt"],"f09d","M64 32C28.7 32 0 60.7 0 96v32H576V96c0-35.3-28.7-64-64-64H64zM576 224H0V416c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V224zM112 352h64c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm112 16c0-8.8 7.2-16 16-16H368c8.8 0 16 7.2 16 16s-7.2 16-16 16H240c-8.8 0-16-7.2-16-16z"]},DC={prefix:"fas",iconName:"location-dot",icon:[384,512,["map-marker-alt"],"f3c5","M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 256c-35.3 0-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64s-28.7 64-64 64z"]},cx={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"]},fx={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M64 144c26.5 0 48-21.5 48-48s-21.5-48-48-48S16 69.5 16 96s21.5 48 48 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm48-208c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48z"]},px={prefix:"fas",iconName:"truck-fast",icon:[640,512,["shipping-fast"],"f48b","M112 0C85.5 0 64 21.5 64 48V96H16c-8.8 0-16 7.2-16 16s7.2 16 16 16H64 272c8.8 0 16 7.2 16 16s-7.2 16-16 16H64 48c-8.8 0-16 7.2-16 16s7.2 16 16 16H64 240c8.8 0 16 7.2 16 16s-7.2 16-16 16H64 16c-8.8 0-16 7.2-16 16s7.2 16 16 16H64 208c8.8 0 16 7.2 16 16s-7.2 16-16 16H64V416c0 53 43 96 96 96s96-43 96-96H384c0 53 43 96 96 96s96-43 96-96h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V288 256 237.3c0-17-6.7-33.3-18.7-45.3L512 114.7c-12-12-28.3-18.7-45.3-18.7H416V48c0-26.5-21.5-48-48-48H112zM544 237.3V256H416V160h50.7L544 237.3zM160 464c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48zm368-48c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48z"]},mx={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},o5={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},Sx={prefix:"fas",iconName:"user-large",icon:[512,512,["user-alt"],"f406","M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0S112 64.5 112 144s64.5 144 144 144zm-94.7 32C72.2 320 0 392.2 0 481.3c0 17 13.8 30.7 30.7 30.7H481.3c17 0 30.7-13.8 30.7-30.7C512 392.2 439.8 320 350.7 320H161.3z"]};function NG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function at(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?NG(Object(t),!0).forEach(function(r){j2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function AC(n){return(AC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function HG(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function j2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ex(n,e){return function Swe(n){if(Array.isArray(n))return n}(n)||function Twe(n,e){var t=null==n?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var l,d,r=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!e||r.length!==e);i=!0);}catch(p){o=!0,d=p}finally{try{!i&&null!=t.return&&t.return()}finally{if(o)throw d}}return r}}(n,e)||IG(n,e)||function xwe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l9(n){return function wwe(n){if(Array.isArray(n))return xx(n)}(n)||function Dwe(n){if(typeof Symbol<"u"&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||IG(n)||function Ewe(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IG(n,e){if(n){if("string"==typeof n)return xx(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xx(n,e)}}function xx(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var VG=function(){},Ax={},LG={},zG=null,kG={mark:VG,measure:VG};try{typeof window<"u"&&(Ax=window),typeof document<"u"&&(LG=document),typeof MutationObserver<"u"&&(zG=MutationObserver),typeof performance<"u"&&(kG=performance)}catch{}var IC,VC,LC,zC,kC,OG=(Ax.navigator||{}).userAgent,PG=void 0===OG?"":OG,Yc=Ax,Gn=LG,RG=zG,HC=kG,za=!!Gn.documentElement&&!!Gn.head&&"function"==typeof Gn.addEventListener&&"function"==typeof Gn.createElement,FG=~PG.indexOf("MSIE")||~PG.indexOf("Trident/"),ka="___FONT_AWESOME___",BG="svg-inline--fa",Ml="data-fa-i2svg",Hx="data-fa-pseudo-element",Ix="data-prefix",Vx="data-icon",jG="fontawesome-i2svg",Iwe=["HTML","HEAD","STYLE","SCRIPT"],$G=function(){try{return!0}catch{return!1}}(),qn="classic",_2="sharp",Lx=[qn,_2];function u9(n){return new Proxy(n,{get:function(t,r){return r in t?t[r]:t[qn]}})}var d9=u9((j2(IC={},qn,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),j2(IC,_2,{fa:"solid",fass:"solid","fa-solid":"solid"}),IC)),f9=u9((j2(VC={},qn,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),j2(VC,_2,{solid:"fass"}),VC)),h9=u9((j2(LC={},qn,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),j2(LC,_2,{fass:"fa-solid"}),LC)),Vwe=u9((j2(zC={},qn,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),j2(zC,_2,{"fa-solid":"fass"}),zC)),Lwe=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,GG="fa-layers-text",zwe=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,kwe=u9((j2(kC={},qn,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),j2(kC,_2,{900:"fass"}),kC)),qG=[1,2,3,4,5,6,7,8,9,10],Owe=qG.concat([11,12,13,14,15,16,17,18,19,20]),Pwe=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],p9=new Set;Object.keys(f9[qn]).map(p9.add.bind(p9)),Object.keys(f9[_2]).map(p9.add.bind(p9));var Rwe=[].concat(Lx,l9(p9),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(qG.map(function(n){return"".concat(n,"x")})).concat(Owe.map(function(n){return"w-".concat(n)})),g9=Yc.FontAwesomeConfig||{};Gn&&"function"==typeof Gn.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=Ex(n,2),r=e[1],i=function Uwe(n){return""===n||"false"!==n&&("true"===n||n)}(function Fwe(n){var e=Gn.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=i&&(g9[r]=i)});var ZG={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:BG,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};g9.familyPrefix&&(g9.cssPrefix=g9.familyPrefix);var a5=at(at({},ZG),g9);a5.autoReplaceSvg||(a5.observeMutations=!1);var yt={};Object.keys(ZG).forEach(function(n){Object.defineProperty(yt,n,{enumerable:!0,set:function(t){a5[n]=t,m9.forEach(function(r){return r(yt)})},get:function(){return a5[n]}})}),Object.defineProperty(yt,"familyPrefix",{enumerable:!0,set:function(e){a5.cssPrefix=e,m9.forEach(function(t){return t(yt)})},get:function(){return a5.cssPrefix}}),Yc.FontAwesomeConfig=yt;var m9=[],ho={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function v9(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function c5(n){for(var e=[],t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function zx(n){return n.classList?c5(n.classList):(n.getAttribute("class")||"").split(" ").filter(function(e){return e})}function WG(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function OC(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t].trim(),";")},"")}function kx(n){return n.size!==ho.size||n.x!==ho.x||n.y!==ho.y||n.rotate!==ho.rotate||n.flipX||n.flipY}function KG(){var n="fa",e=BG,t=yt.cssPrefix,r=yt.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(t!==n||r!==e){var o=new RegExp("\\.".concat(n,"\\-"),"g"),l=new RegExp("\\--".concat(n,"\\-"),"g"),d=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(t,"-")).replace(l,"--".concat(t,"-")).replace(d,".".concat(r))}return i}var YG=!1;function Ox(){yt.autoAddCss&&!YG&&(function $we(n){if(n&&za){var e=Gn.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=Gn.head.childNodes,r=null,i=t.length-1;i>-1;i--){var o=t[i],l=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=o)}Gn.head.insertBefore(e,r)}}(KG()),YG=!0)}var Ywe={mixout:function(){return{dom:{css:KG,insertCss:Ox}}},hooks:function(){return{beforeDOMElementCreation:function(){Ox()},beforeI2svg:function(){Ox()}}}},Oa=Yc||{};Oa[ka]||(Oa[ka]={}),Oa[ka].styles||(Oa[ka].styles={}),Oa[ka].hooks||(Oa[ka].hooks={}),Oa[ka].shims||(Oa[ka].shims=[]);var ds=Oa[ka],QG=[],PC=!1;function Jwe(n){!za||(PC?setTimeout(n,0):QG.push(n))}function _9(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,i=n.children,o=void 0===i?[]:i;return"string"==typeof n?WG(n):"<".concat(e," ").concat(function qwe(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(WG(n[t]),'" ')},"").trim()}(r),">").concat(o.map(_9).join(""),"</").concat(e,">")}function JG(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}za&&((PC=(Gn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Gn.readyState))||Gn.addEventListener("DOMContentLoaded",function n(){Gn.removeEventListener("DOMContentLoaded",n),PC=1,QG.map(function(e){return e()})}));var Px=function(e,t,r,i){var p,v,y,o=Object.keys(e),l=o.length,d=void 0!==i?function(e,t){return function(r,i,o,l){return e.call(t,r,i,o,l)}}(t,i):t;for(void 0===r?(p=1,y=e[o[0]]):(p=0,y=r);p<l;p++)y=d(y,e[v=o[p]],v,e);return y};function Rx(n){var e=function eSe(n){for(var e=[],t=0,r=n.length;t<r;){var i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){var o=n.charCodeAt(t++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function XG(n){return Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function Fx(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,i=void 0!==r&&r,o=XG(e);"function"!=typeof ds.hooks.addPack||i?ds.styles[n]=at(at({},ds.styles[n]||{}),o):ds.hooks.addPack(n,XG(e)),"fas"===n&&Fx("fa",e)}var RC,FC,UC,l5=ds.styles,nSe=ds.shims,rSe=(j2(RC={},qn,Object.values(h9[qn])),j2(RC,_2,Object.values(h9[_2])),RC),Ux=null,eq={},tq={},nq={},rq={},iq={},iSe=(j2(FC={},qn,Object.keys(d9[qn])),j2(FC,_2,Object.keys(d9[_2])),FC);function oSe(n,e){var t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function sSe(n){return~Rwe.indexOf(n)}(i)?null:i}var sq=function(){var e=function(o){return Px(l5,function(l,d,p){return l[p]=Px(d,o,{}),l},{})};eq=e(function(i,o,l){return o[3]&&(i[o[3]]=l),o[2]&&o[2].filter(function(p){return"number"==typeof p}).forEach(function(p){i[p.toString(16)]=l}),i}),tq=e(function(i,o,l){return i[l]=l,o[2]&&o[2].filter(function(p){return"string"==typeof p}).forEach(function(p){i[p]=l}),i}),iq=e(function(i,o,l){var d=o[2];return i[l]=l,d.forEach(function(p){i[p]=l}),i});var t="far"in l5||yt.autoFetchSvg,r=Px(nSe,function(i,o){var l=o[0],d=o[1],p=o[2];return"far"===d&&!t&&(d="fas"),"string"==typeof l&&(i.names[l]={prefix:d,iconName:p}),"number"==typeof l&&(i.unicodes[l.toString(16)]={prefix:d,iconName:p}),i},{names:{},unicodes:{}});nq=r.names,rq=r.unicodes,Ux=BC(yt.styleDefault,{family:yt.familyDefault})};function Bx(n,e){return(eq[n]||{})[e]}function Sl(n,e){return(iq[n]||{})[e]}function oq(n){return nq[n]||{prefix:null,iconName:null}}function Jc(){return Ux}function BC(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.family,r=void 0===t?qn:t,i=d9[r][n],o=f9[r][n]||f9[r][i],l=n in ds.styles?n:null;return o||l||null}(function jwe(n){m9.push(n)})(function(n){Ux=BC(n.styleDefault,{family:yt.familyDefault})}),sq();var aq=(j2(UC={},qn,Object.keys(h9[qn])),j2(UC,_2,Object.keys(h9[_2])),UC);function jC(n){var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.skipLookups,i=void 0!==r&&r,o=(j2(e={},qn,"".concat(yt.cssPrefix,"-").concat(qn)),j2(e,_2,"".concat(yt.cssPrefix,"-").concat(_2)),e),l=null,d=qn;(n.includes(o[qn])||n.some(function(v){return aq[qn].includes(v)}))&&(d=qn),(n.includes(o[_2])||n.some(function(v){return aq[_2].includes(v)}))&&(d=_2);var p=n.reduce(function(v,y){var D=oSe(yt.cssPrefix,y);if(l5[y]?(y=rSe[d].includes(y)?Vwe[d][y]:y,l=y,v.prefix=y):iSe[d].indexOf(y)>-1?(l=y,v.prefix=BC(y,{family:d})):D?v.iconName=D:y!==yt.replacementClass&&y!==o[qn]&&y!==o[_2]&&v.rest.push(y),!i&&v.prefix&&v.iconName){var x="fa"===l?oq(v.iconName):{},H=Sl(v.prefix,v.iconName);x.prefix&&(l=null),v.iconName=x.iconName||H||v.iconName,v.prefix=x.prefix||v.prefix,"far"===v.prefix&&!l5.far&&l5.fas&&!yt.autoFetchSvg&&(v.prefix="fas")}return v},{prefix:null,iconName:null,rest:[]});return(n.includes("fa-brands")||n.includes("fab"))&&(p.prefix="fab"),(n.includes("fa-duotone")||n.includes("fad"))&&(p.prefix="fad"),!p.prefix&&d===_2&&(l5.fass||yt.autoFetchSvg)&&(p.prefix="fass",p.iconName=Sl(p.prefix,p.iconName)||p.iconName),("fa"===p.prefix||"fa"===l)&&(p.prefix=Jc()||"fas"),p}var lSe=function(){function n(){(function ywe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function bwe(n,e,t){e&&HG(n.prototype,e),t&&HG(n,t),Object.defineProperty(n,"prototype",{writable:!1})}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var l=i.reduce(this._pullDefinitions,{});Object.keys(l).forEach(function(d){t.definitions[d]=at(at({},t.definitions[d]||{}),l[d]),Fx(d,l[d]);var p=h9[qn][d];p&&Fx(p,l[d]),sq()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var l=i[o],d=l.prefix,p=l.iconName,v=l.icon,y=v[2];t[d]||(t[d]={}),y.length>0&&y.forEach(function(D){"string"==typeof D&&(t[d][D]=v)}),t[d][p]=v}),t}}]),n}(),cq=[],u5={},d5={},uSe=Object.keys(d5);function $x(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];var o=u5[n]||[];return o.forEach(function(l){e=l.apply(null,[e].concat(r))}),e}function Dl(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=u5[n]||[];i.forEach(function(o){o.apply(null,t)})}function Pa(){var n=arguments[0],e=Array.prototype.slice.call(arguments,1);return d5[n]?d5[n].apply(null,e):void 0}function Gx(n){"fa"===n.prefix&&(n.prefix="fas");var e=n.iconName,t=n.prefix||Jc();if(e)return e=Sl(t,e)||e,JG(lq.definitions,t,e)||JG(ds.styles,t,e)}var lq=new lSe,hSe={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return za?(Dl("beforeI2svg",e),Pa("pseudoElements2svg",e),Pa("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===yt.autoReplaceSvg&&(yt.autoReplaceSvg=!0),yt.observeMutations=!0,Jwe(function(){gSe({autoReplaceSvgRoot:t}),Dl("watch",e)})}},P1={noAuto:function(){yt.autoReplaceSvg=!1,yt.observeMutations=!1,Dl("noAuto")},config:yt,dom:hSe,parse:{icon:function(e){if(null===e)return null;if("object"===AC(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Sl(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],r=BC(e[0]);return{prefix:r,iconName:Sl(r,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(yt.cssPrefix,"-"))>-1||e.match(Lwe))){var i=jC(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Jc(),iconName:Sl(i.prefix,i.iconName)||i.iconName}}if("string"==typeof e){var o=Jc();return{prefix:o,iconName:Sl(o,e)||e}}}},library:lq,findIconDefinition:Gx,toHtml:_9},gSe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,r=void 0===t?Gn:t;(Object.keys(ds.styles).length>0||yt.autoFetchSvg)&&za&&yt.autoReplaceSvg&&P1.dom.i2svg({node:r})};function $C(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return _9(r)})}}),Object.defineProperty(n,"node",{get:function(){if(za){var r=Gn.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function qx(n){var e=n.icons,t=e.main,r=e.mask,i=n.prefix,o=n.iconName,l=n.transform,d=n.symbol,p=n.title,v=n.maskId,y=n.titleId,D=n.extra,x=n.watchable,H=void 0!==x&&x,z=r.found?r:t,U=z.width,q=z.height,re="fak"===i,ue=[yt.replacementClass,o?"".concat(yt.cssPrefix,"-").concat(o):""].filter(function($t){return-1===D.classes.indexOf($t)}).filter(function($t){return""!==$t||!!$t}).concat(D.classes).join(" "),ge={children:[],attributes:at(at({},D.attributes),{},{"data-prefix":i,"data-icon":o,class:ue,role:D.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(U," ").concat(q)})},fe=re&&!~D.classes.indexOf("fa-fw")?{width:"".concat(U/q*16*.0625,"em")}:{};H&&(ge.attributes[Ml]=""),p&&(ge.children.push({tag:"title",attributes:{id:ge.attributes["aria-labelledby"]||"title-".concat(y||v9())},children:[p]}),delete ge.attributes.title);var xe=at(at({},ge),{},{prefix:i,iconName:o,main:t,mask:r,maskId:v,transform:l,symbol:d,styles:at(at({},fe),D.styles)}),Ve=r.found&&t.found?Pa("generateAbstractMask",xe)||{children:[],attributes:{}}:Pa("generateAbstractIcon",xe)||{children:[],attributes:{}},St=Ve.attributes;return xe.children=Ve.children,xe.attributes=St,d?function vSe(n){var t=n.iconName,r=n.children,i=n.attributes,o=n.symbol,l=!0===o?"".concat(n.prefix,"-").concat(yt.cssPrefix,"-").concat(t):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:at(at({},i),{},{id:l}),children:r}]}]}(xe):function mSe(n){var e=n.children,t=n.main,r=n.mask,i=n.attributes,o=n.styles,l=n.transform;if(kx(l)&&t.found&&!r.found){var v={x:t.width/t.height/2,y:.5};i.style=OC(at(at({},o),{},{"transform-origin":"".concat(v.x+l.x/16,"em ").concat(v.y+l.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(xe)}function uq(n){var e=n.content,t=n.width,r=n.height,i=n.transform,o=n.title,l=n.extra,d=n.watchable,p=void 0!==d&&d,v=at(at(at({},l.attributes),o?{title:o}:{}),{},{class:l.classes.join(" ")});p&&(v[Ml]="");var y=at({},l.styles);kx(i)&&(y.transform=function Wwe(n){var e=n.transform,t=n.width,i=n.height,o=void 0===i?16:i,l=n.startCentered,d=void 0!==l&&l,p="";return p+=d&&FG?"translate(".concat(e.x/16-(void 0===t?16:t)/2,"em, ").concat(e.y/16-o/2,"em) "):d?"translate(calc(-50% + ".concat(e.x/16,"em), calc(-50% + ").concat(e.y/16,"em)) "):"translate(".concat(e.x/16,"em, ").concat(e.y/16,"em) "),(p+="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "))+"rotate(".concat(e.rotate,"deg) ")}({transform:i,startCentered:!0,width:t,height:r}),y["-webkit-transform"]=y.transform);var D=OC(y);D.length>0&&(v.style=D);var x=[];return x.push({tag:"span",attributes:v,children:[e]}),o&&x.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),x}function _Se(n){var e=n.content,t=n.title,r=n.extra,i=at(at(at({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),o=OC(r.styles);o.length>0&&(i.style=o);var l=[];return l.push({tag:"span",attributes:i,children:[e]}),t&&l.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),l}var Zx=ds.styles;function Wx(n){var e=n[0],t=n[1],o=Ex(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(o)?{tag:"g",attributes:{class:"".concat(yt.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(yt.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(yt.cssPrefix,"-").concat("primary"),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}}}}var CSe={found:!1,width:512,height:512};function Kx(n,e){var t=e;return"fa"===e&&null!==yt.styleDefault&&(e=Jc()),new Promise(function(r,i){if(Pa("missingIconAbstract"),"fa"===t){var l=oq(n)||{};n=l.iconName||n,e=l.prefix||e}if(n&&e&&Zx[e]&&Zx[e][n])return r(Wx(Zx[e][n]));(function ySe(n,e){!$G&&!yt.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(at(at({},CSe),{},{icon:yt.showMissingIcons&&n&&Pa("missingIconAbstract")||{}}))})}var dq=function(){},Yx=yt.measurePerformance&&HC&&HC.mark&&HC.measure?HC:{mark:dq,measure:dq},C9='FA "6.2.1"',Qx_begin=function(e){return Yx.mark("".concat(C9," ").concat(e," begins")),function(){return function(e){Yx.mark("".concat(C9," ").concat(e," ends")),Yx.measure("".concat(C9," ").concat(e),"".concat(C9," ").concat(e," begins"),"".concat(C9," ").concat(e," ends"))}(e)}},GC=function(){};function hq(n){return"string"==typeof(n.getAttribute?n.getAttribute(Ml):null)}function DSe(n){return Gn.createElementNS("http://www.w3.org/2000/svg",n)}function TSe(n){return Gn.createElement(n)}function pq(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ceFn,r=void 0===t?"svg"===n.tag?DSe:TSe:t;if("string"==typeof n)return Gn.createTextNode(n);var i=r(n.tag);Object.keys(n.attributes||[]).forEach(function(l){i.setAttribute(l,n.attributes[l])});var o=n.children||[];return o.forEach(function(l){i.appendChild(pq(l,{ceFn:r}))}),i}var qC={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach(function(i){t.parentNode.insertBefore(pq(i),t)}),null===t.getAttribute(Ml)&&yt.keepOriginalSource){var r=Gn.createComment(function ESe(n){var e=" ".concat(n.outerHTML," ");return"".concat(e,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){var t=e[0],r=e[1];if(~zx(t).indexOf(yt.replacementClass))return qC.replace(e);var i=new RegExp("".concat(yt.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(d,p){return p===yt.replacementClass||p.match(i)?d.toSvg.push(p):d.toNode.push(p),d},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),0===o.toNode.length?t.removeAttribute("class"):t.setAttribute("class",o.toNode.join(" "))}var l=r.map(function(d){return _9(d)}).join("\n");t.setAttribute(Ml,""),t.innerHTML=l}};function gq(n){n()}function mq(n,e){var t="function"==typeof e?e:GC;if(0===n.length)t();else{var r=gq;"async"===yt.mutateApproach&&(r=Yc.requestAnimationFrame||gq),r(function(){var i=function SSe(){return!0===yt.autoReplaceSvg?qC.replace:qC[yt.autoReplaceSvg]||qC.replace}(),o=Qx_begin("mutate");n.map(i),o(),t()})}}var Jx=!1;function vq(){Jx=!0}function Xx(){Jx=!1}var ZC=null;function _q(n){if(RG&&yt.observeMutations){var e=n.treeCallback,t=void 0===e?GC:e,r=n.nodeCallback,i=void 0===r?GC:r,o=n.pseudoElementsCallback,l=void 0===o?GC:o,d=n.observeMutationsRoot,p=void 0===d?Gn:d;ZC=new RG(function(v){if(!Jx){var y=Jc();c5(v).forEach(function(D){if("childList"===D.type&&D.addedNodes.length>0&&!hq(D.addedNodes[0])&&(yt.searchPseudoElements&&l(D.target),t(D.target)),"attributes"===D.type&&D.target.parentNode&&yt.searchPseudoElements&&l(D.target.parentNode),"attributes"===D.type&&hq(D.target)&&~Pwe.indexOf(D.attributeName))if("class"===D.attributeName&&function MSe(n){var e=n.getAttribute?n.getAttribute(Ix):null,t=n.getAttribute?n.getAttribute(Vx):null;return e&&t}(D.target)){var x=jC(zx(D.target)),z=x.iconName;D.target.setAttribute(Ix,x.prefix||y),z&&D.target.setAttribute(Vx,z)}else(function wSe(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(yt.replacementClass)})(D.target)&&i(D.target)})}}),za&&ZC.observe(p,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function ASe(n){var e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce(function(r,i){var o=i.split(":"),l=o[0],d=o.slice(1);return l&&d.length>0&&(r[l]=d.join(":").trim()),r},{})),t}function NSe(n){var e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"",i=jC(zx(n));return i.prefix||(i.prefix=Jc()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function aSe(n,e){return(tq[n]||{})[e]}(i.prefix,n.innerText)||Bx(i.prefix,Rx(n.innerText))),!i.iconName&&yt.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=n.firstChild.data)),i}function HSe(n){var e=c5(n.attributes).reduce(function(i,o){return"class"!==i.name&&"style"!==i.name&&(i[o.name]=o.value),i},{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return yt.autoA11y&&(t?e["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(r||v9()):(e["aria-hidden"]="true",e.focusable="false")),e}function Cq(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},t=NSe(n),r=t.iconName,i=t.prefix,o=t.rest,l=HSe(n),d=$x("parseNodeAttributes",{},n),p=e.styleParser?ASe(n):[];return at({iconName:r,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:ho,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:p,attributes:l}},d)}var VSe=ds.styles;function yq(n){var e="nest"===yt.autoReplaceSvg?Cq(n,{styleParser:!1}):Cq(n);return~e.extra.classes.indexOf(GG)?Pa("generateLayersText",n,e):Pa("generateSvgReplacementMutation",n,e)}var Xc=new Set;function bq(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!za)return Promise.resolve();var t=Gn.documentElement.classList,r=function(D){return t.add("".concat(jG,"-").concat(D))},i=function(D){return t.remove("".concat(jG,"-").concat(D))},o=yt.autoFetchSvg?Xc:Lx.map(function(y){return"fa-".concat(y)}).concat(Object.keys(VSe));o.includes("fa")||o.push("fa");var l=[".".concat(GG,":not([").concat(Ml,"])")].concat(o.map(function(y){return".".concat(y,":not([").concat(Ml,"])")})).join(", ");if(0===l.length)return Promise.resolve();var d=[];try{d=c5(n.querySelectorAll(l))}catch{}if(!(d.length>0))return Promise.resolve();r("pending"),i("complete");var p=Qx_begin("onTree"),v=d.reduce(function(y,D){try{var x=yq(D);x&&y.push(x)}catch(H){$G||"MissingIcon"===H.name&&console.error(H)}return y},[]);return new Promise(function(y,D){Promise.all(v).then(function(x){mq(x,function(){r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),p(),y()})}).catch(function(x){p(),D(x)})})}function LSe(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;yq(n).then(function(t){t&&mq([t],e)})}function zSe(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:Gx(e||{}),i=t.mask;return i&&(i=(i||{}).icon?i:Gx(i||{})),n(r,at(at({},t),{},{mask:i}))}}Lx.map(function(n){Xc.add("fa-".concat(n))}),Object.keys(d9[qn]).map(Xc.add.bind(Xc)),Object.keys(d9[_2]).map(Xc.add.bind(Xc)),Xc=l9(Xc);var kSe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.transform,i=void 0===r?ho:r,o=t.symbol,l=void 0!==o&&o,d=t.mask,p=void 0===d?null:d,v=t.maskId,y=void 0===v?null:v,D=t.title,x=void 0===D?null:D,H=t.titleId,z=void 0===H?null:H,U=t.classes,q=void 0===U?[]:U,re=t.attributes,ue=void 0===re?{}:re,ge=t.styles,fe=void 0===ge?{}:ge;if(e){var xe=e.prefix,Ve=e.iconName,Ye=e.icon;return $C(at({type:"icon"},e),function(){return Dl("beforeDOMElementCreation",{iconDefinition:e,params:t}),yt.autoA11y&&(x?ue["aria-labelledby"]="".concat(yt.replacementClass,"-title-").concat(z||v9()):(ue["aria-hidden"]="true",ue.focusable="false")),qx({icons:{main:Wx(Ye),mask:p?Wx(p.icon):{found:!1,width:null,height:null,icon:{}}},prefix:xe,iconName:Ve,transform:at(at({},ho),i),symbol:l,title:x,maskId:y,titleId:z,extra:{attributes:ue,styles:fe,classes:q}})})}},OSe={mixout:function(){return{icon:zSe(kSe)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=bq,t.nodeCallback=LSe,t}}},provides:function(e){e.i2svg=function(t){var r=t.node,o=t.callback;return bq(void 0===r?Gn:r,void 0===o?function(){}:o)},e.generateSvgReplacementMutation=function(t,r){var i=r.iconName,o=r.title,l=r.titleId,d=r.prefix,p=r.transform,v=r.symbol,y=r.mask,D=r.maskId,x=r.extra;return new Promise(function(H,z){Promise.all([Kx(i,d),y.iconName?Kx(y.iconName,y.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(U){var q=Ex(U,2);H([t,qx({icons:{main:q[0],mask:q[1]},prefix:d,iconName:i,transform:p,symbol:v,maskId:D,title:o,titleId:l,extra:x,watchable:!0})])}).catch(z)})},e.generateAbstractIcon=function(t){var v,r=t.children,i=t.attributes,o=t.main,l=t.transform,p=OC(t.styles);return p.length>0&&(i.style=p),kx(l)&&(v=Pa("generateAbstractTransformGrouping",{main:o,transform:l,containerWidth:o.width,iconWidth:o.width})),r.push(v||o.icon),{children:r,attributes:i}}}},PSe={mixout:function(){return{layer:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,o=void 0===i?[]:i;return $C({type:"layer"},function(){Dl("beforeDOMElementCreation",{assembler:t,params:r});var l=[];return t(function(d){Array.isArray(d)?d.map(function(p){l=l.concat(p.abstract)}):l=l.concat(d.abstract)}),[{tag:"span",attributes:{class:["".concat(yt.cssPrefix,"-layers")].concat(l9(o)).join(" ")},children:l}]})}}}},RSe={mixout:function(){return{counter:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,o=void 0===i?null:i,l=r.classes,d=void 0===l?[]:l,p=r.attributes,v=void 0===p?{}:p,y=r.styles,D=void 0===y?{}:y;return $C({type:"counter",content:t},function(){return Dl("beforeDOMElementCreation",{content:t,params:r}),_Se({content:t.toString(),title:o,extra:{attributes:v,styles:D,classes:["".concat(yt.cssPrefix,"-layers-counter")].concat(l9(d))}})})}}}},FSe={mixout:function(){return{text:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,o=void 0===i?ho:i,l=r.title,d=void 0===l?null:l,p=r.classes,v=void 0===p?[]:p,y=r.attributes,D=void 0===y?{}:y,x=r.styles,H=void 0===x?{}:x;return $C({type:"text",content:t},function(){return Dl("beforeDOMElementCreation",{content:t,params:r}),uq({content:t,transform:at(at({},ho),o),title:d,extra:{attributes:D,styles:H,classes:["".concat(yt.cssPrefix,"-layers-text")].concat(l9(v))}})})}}},provides:function(e){e.generateLayersText=function(t,r){var i=r.title,o=r.transform,l=r.extra,d=null,p=null;if(FG){var v=parseInt(getComputedStyle(t).fontSize,10),y=t.getBoundingClientRect();d=y.width/v,p=y.height/v}return yt.autoA11y&&!i&&(l.attributes["aria-hidden"]="true"),Promise.resolve([t,uq({content:t.innerHTML,width:d,height:p,transform:o,title:i,extra:l,watchable:!0})])}}},USe=new RegExp('"',"ug"),Mq=[1105920,1112319];function wq(n,e){var t="".concat("data-fa-pseudo-element-pending").concat(e.replace(":","-"));return new Promise(function(r,i){if(null!==n.getAttribute(t))return r();var l=c5(n.children).filter(function(Ye){return Ye.getAttribute(Hx)===e})[0],d=Yc.getComputedStyle(n,e),p=d.getPropertyValue("font-family").match(zwe),v=d.getPropertyValue("font-weight"),y=d.getPropertyValue("content");if(l&&!p)return n.removeChild(l),r();if(p&&"none"!==y&&""!==y){var D=d.getPropertyValue("content"),x=~["Sharp"].indexOf(p[2])?_2:qn,H=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(p[2])?f9[x][p[2].toLowerCase()]:kwe[x][v],z=function BSe(n){var e=n.replace(USe,""),t=function tSe(n,e){var i,t=n.length,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=Mq[0]&&t<=Mq[1],i=2===e.length&&e[0]===e[1];return{value:Rx(i?e[0]:e),isSecondary:r||i}}(D),U=z.value,q=z.isSecondary,re=p[0].startsWith("FontAwesome"),ue=Bx(H,U),ge=ue;if(re){var fe=function cSe(n){var e=rq[n],t=Bx("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(U);fe.iconName&&fe.prefix&&(ue=fe.iconName,H=fe.prefix)}if(!ue||q||l&&l.getAttribute(Ix)===H&&l.getAttribute(Vx)===ge)r();else{n.setAttribute(t,ge),l&&n.removeChild(l);var xe=function ISe(){return{iconName:null,title:null,titleId:null,prefix:null,transform:ho,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),Ve=xe.extra;Ve.attributes[Hx]=e,Kx(ue,H).then(function(Ye){var St=qx(at(at({},xe),{},{icons:{main:Ye,mask:{prefix:null,iconName:null,rest:[]}},prefix:H,iconName:ge,extra:Ve,watchable:!0})),$t=Gn.createElement("svg");"::before"===e?n.insertBefore($t,n.firstChild):n.appendChild($t),$t.outerHTML=St.map(function(Cn){return _9(Cn)}).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function jSe(n){return Promise.all([wq(n,"::before"),wq(n,"::after")])}function $Se(n){return!(n.parentNode===document.head||~Iwe.indexOf(n.tagName.toUpperCase())||n.getAttribute(Hx)||n.parentNode&&"svg"===n.parentNode.tagName)}function Sq(n){if(za)return new Promise(function(e,t){var r=c5(n.querySelectorAll("*")).filter($Se).map(jSe),i=Qx_begin("searchPseudoElements");vq(),Promise.all(r).then(function(){i(),Xx(),e()}).catch(function(){i(),Xx(),t()})})}var Dq=!1,Tq=function(e){return e.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),l=o[0],d=o.slice(1).join("-");if(l&&"h"===d)return r.flipX=!0,r;if(l&&"v"===d)return r.flipY=!0,r;if(d=parseFloat(d),isNaN(d))return r;switch(l){case"grow":r.size=r.size+d;break;case"shrink":r.size=r.size-d;break;case"left":r.x=r.x-d;break;case"right":r.x=r.x+d;break;case"up":r.y=r.y-d;break;case"down":r.y=r.y+d;break;case"rotate":r.rotate=r.rotate+d}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},eA={x:0,y:0,width:"100%",height:"100%"};function Eq(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function WSe(n){return"g"===n.tag?n.children:[n]}var KSe={hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-mask"),o=i?jC(i.split(" ").map(function(l){return l.trim()})):{prefix:null,iconName:null,rest:[]};return o.prefix||(o.prefix=Jc()),t.mask=o,t.maskId=r.getAttribute("data-fa-mask-id"),t}}},provides:function(e){e.generateAbstractMask=function(t){var r=t.children,i=t.attributes,o=t.main,l=t.mask,d=t.maskId,y=o.icon,x=l.icon,H=function Zwe(n){var e=n.transform,r=n.iconWidth,i={transform:"translate(".concat(n.containerWidth/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),l="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),d="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(l," ").concat(d)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:t.transform,containerWidth:l.width,iconWidth:o.width}),z={tag:"rect",attributes:at(at({},eA),{},{fill:"white"})},U=y.children?{children:y.children.map(Eq)}:{},q={tag:"g",attributes:at({},H.inner),children:[Eq(at({tag:y.tag,attributes:at(at({},y.attributes),H.path)},U))]},re={tag:"g",attributes:at({},H.outer),children:[q]},ue="mask-".concat(d||v9()),ge="clip-".concat(d||v9()),fe={tag:"mask",attributes:at(at({},eA),{},{id:ue,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[z,re]},xe={tag:"defs",children:[{tag:"clipPath",attributes:{id:ge},children:WSe(x)},fe]};return r.push(xe,{tag:"rect",attributes:at({fill:"currentColor","clip-path":"url(#".concat(ge,")"),mask:"url(#".concat(ue,")")},eA)}),{children:r,attributes:i}}}};!function dSe(n,e){var t=e.mixoutsTo;cq=n,u5={},Object.keys(d5).forEach(function(r){-1===uSe.indexOf(r)&&delete d5[r]}),cq.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(l){"function"==typeof i[l]&&(t[l]=i[l]),"object"===AC(i[l])&&Object.keys(i[l]).forEach(function(d){t[l]||(t[l]={}),t[l][d]=i[l][d]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(l){u5[l]||(u5[l]=[]),u5[l].push(o[l])})}r.provides&&r.provides(d5)})}([Ywe,OSe,PSe,RSe,FSe,{hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=Sq,t}}},provides:function(e){e.pseudoElements2svg=function(t){var r=t.node;yt.searchPseudoElements&&Sq(void 0===r?Gn:r)}}},{mixout:function(){return{dom:{unwatch:function(){vq(),Dq=!0}}}},hooks:function(){return{bootstrap:function(){_q($x("mutationObserverCallbacks",{}))},noAuto:function(){!function xSe(){!ZC||ZC.disconnect()}()},watch:function(t){var r=t.observeMutationsRoot;Dq?Xx():_q($x("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(t){return Tq(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-transform");return i&&(t.transform=Tq(i)),t}}},provides:function(e){e.generateAbstractTransformGrouping=function(t){var r=t.main,i=t.transform,l=t.iconWidth,d={transform:"translate(".concat(t.containerWidth/2," 256)")},p="translate(".concat(32*i.x,", ").concat(32*i.y,") "),v="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),y="rotate(".concat(i.rotate," 0 0)"),H={outer:d,inner:{transform:"".concat(p," ").concat(v," ").concat(y)},path:{transform:"translate(".concat(l/2*-1," -256)")}};return{tag:"g",attributes:at({},H.outer),children:[{tag:"g",attributes:at({},H.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:at(at({},r.icon.attributes),H.path)}]}]}}}},KSe,{provides:function(e){var t=!1;Yc.matchMedia&&(t=Yc.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:at(at({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var l=at(at({},o),{},{attributeName:"opacity"}),d={tag:"circle",attributes:at(at({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||d.children.push({tag:"animate",attributes:at(at({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:at(at({},l),{},{values:"1;0;1;1;0;1;"})}),r.push(d),r.push({tag:"path",attributes:at(at({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:at(at({},l),{},{values:"1;0;0;0;0;1;"})}]}),t||r.push({tag:"path",attributes:at(at({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:at(at({},l),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(t,r){var i=r.getAttribute("data-fa-symbol");return t.symbol=null!==i&&(""===i||i),t}}}}],{mixoutsTo:P1});var XSe=P1.parse,eDe=P1.icon;const tDe=["*"],iDe=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let aDe=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cDe=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(o=>r[o]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lDe=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[s.TTD]}),n})(),uDe=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[s.TTD],ngContentSelectors:tDe,decls:1,vars:0,template:function(t,r){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2}),n})(),po=(()=>{class n{constructor(t,r,i,o,l){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=o,this.classes=[],null!=l&&null==o&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=this.icon??this.config.fallbackIcon,t){const i=this.findIconDefinition(r);if(null!=i){const o=this.buildParams();this.renderIcon(i,o)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?XSe.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...iDe(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=eDe(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Oi),s.Y36(aDe),s.Y36(cDe),s.Y36(lDe,8),s.Y36(uDe,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(s.Ikx("innerHTML",r.renderedIconHTML,s.oJD),s.uIk("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[s.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),dDe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function fDe(n,e){if(1&n&&(s.TgZ(0,"li",20)(1,"a",21),s._UZ(2,"fa-icon",22),s._uU(3," LogIn "),s.qZA(),s.TgZ(4,"div",23)(5,"a",24),s._uU(6,"Login"),s.qZA(),s.TgZ(7,"a",25),s._uU(8,"Register"),s.qZA()()()),2&n){const t=s.oxw();s.xp6(2),s.Q6J("icon",t.faUser)}}function hDe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"li",20)(1,"a",21),s._UZ(2,"fa-icon",22),s._uU(3," Profile "),s.qZA(),s.TgZ(4,"div",23)(5,"a",26),s._uU(6,"See your Profile"),s.qZA(),s.TgZ(7,"a",27),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.logOut())}),s._uU(8,"Log Out"),s.qZA(),s._UZ(9,"div",28),s.TgZ(10,"a",29),s._uU(11),s.ALo(12,"titlecase"),s.qZA()()()}if(2&n){const t=s.oxw();s.xp6(2),s.Q6J("icon",t.faUserCheck),s.xp6(9),s.hij(" Hello, ",s.lcZ(12,2,t.user1stName),"! ")}}function pDe(n,e){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.hij(" ",t.itemsInCart," ")}}let go=(()=>{class n{constructor(t,r,i,o){this.route=t,this.router=r,this.fireAuth=i,this.userService=o,this.faSearch=cx,this.faShoppingCart=QE,this.faUser=TE,this.faUserCheck=jP,this.isCollapsed=!0,this.logged=!1,this.checkIfUserIsLogged(),this.getItemsInCart()}ngOnInit(){this.getUrlParam()}getUrlParam(){this.route.url.subscribe(t=>{var r=t[0].path;console.log("url in header: ",r);var i=document.getElementsByClassName("active")[0];switch(i&&i.classList.remove("active"),r){case"categories":document.querySelectorAll(".nav-link").forEach(o=>{"Categories"==o.innerHTML&&o.classList.add("active")});break;case"home":document.querySelectorAll(".nav-link").forEach(o=>{"Home"==o.innerHTML&&o.classList.add("active")});break;case"cart":document.querySelectorAll(".nav-link").forEach(o=>{"cartIconlink"==o.id&&o.classList.add("active")});break;case"my-profile":document.getElementById("navbarDropdown").classList.add("active")}})}submitQuery(){this.router.navigate(["/query"],{queryParams:{qry:this.searchTerm}}).then(()=>window.location.reload())}logOut(){this.userService.logUserOut().then(t=>{window.location.reload()}).catch(t=>{console.log(t)})}checkIfUserIsLogged(){bw(this.fireAuth,t=>{t?(this.logged=!0,this.userInfo=t,this.user1stName=t.displayName?.split(" ")[0],console.log("user: ",t)):console.log("user not authenticated")})}getItemsInCart(){bw(this.fireAuth,t=>{this.userService.getAllProductsOnCartList(t.uid).subscribe(r=>{this.itemsInCart=r.length})})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Er),s.Y36(Sn),s.Y36(Hr),s.Y36(Ia))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-header"]],decls:29,vars:8,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],[2,"font-weight","700"],[2,"color","rgb(254,231,18)"],[2,"color","rgb(35,159,115)"],[1,"d-flex","justify-content-center"],["autocomplete","off","name","searchTerm","type","search","placeholder","What are you looking for...","aria-label","Search",1,"form-control","me-2",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-outline-success",3,"click"],[3,"icon"],["type","button","aria-controls","collapseExample",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","collapseExample",1,"collapse","navbar-collapse","justify-content-end",3,"ngbCollapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home","aria-current","page",1,"nav-link"],["routerLink","/categories",1,"nav-link"],["ngbDropdown","","class","nav-item dropdown",4,"ngIf"],["id","cartIconlink","routerLink","/cart",1,"nav-link","cart-icon"],["class","cart-counter",4,"ngIf"],["ngbDropdown","",1,"nav-item","dropdown"],["id","navbarDropdown","ngbDropdownToggle","","role","button","data-toggle","dropdown",1,"nav-link","dropdown-toggle"],[2,"margin-right",".2rem","vertical-align","center",3,"icon"],["ngbDropdownMenu","","aria-labelledby","navbarDropdown1",1,"dropdown-menu"],["routerLink","/login","ngbDropdownItem","",1,"dropdown-item"],["routerLink","/register","ngbDropdownItem","",1,"dropdown-item"],["routerLink","/my-profile","ngbDropdownItem","",1,"dropdown-item"],["ngbDropdownItem","",1,"dropdown-item",3,"click"],[1,"dropdown-divider"],["ngbDropdownItem","","id","dropdown-item-message",1,"dropdown-item"],[1,"cart-counter"]],template:function(t,r){1&t&&(s.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),s._uU(3,"Store"),s.TgZ(4,"span",3)(5,"span",4),s._uU(6,"M"),s.qZA(),s.TgZ(7,"span",5),s._uU(8,"Q"),s.qZA()()(),s.TgZ(9,"form",6)(10,"input",7),s.NdJ("ngModelChange",function(o){return r.searchTerm=o}),s.qZA(),s.TgZ(11,"button",8),s.NdJ("click",function(){return r.submitQuery()}),s._UZ(12,"fa-icon",9),s.qZA()(),s.TgZ(13,"button",10),s.NdJ("click",function(){return r.isCollapsed=!r.isCollapsed}),s._UZ(14,"span",11),s.qZA(),s.TgZ(15,"div",12)(16,"ul",13)(17,"li",14)(18,"a",15),s._uU(19,"Home"),s.qZA()(),s.TgZ(20,"li",14)(21,"a",16),s._uU(22,"Categories"),s.qZA()(),s.YNc(23,fDe,9,1,"li",17),s.YNc(24,hDe,13,4,"li",17),s.TgZ(25,"li",14)(26,"a",18),s._UZ(27,"fa-icon",9),s.YNc(28,pDe,2,1,"div",19),s.qZA()()()()()()),2&t&&(s.xp6(10),s.Q6J("ngModel",r.searchTerm),s.xp6(2),s.Q6J("icon",r.faSearch),s.xp6(1),s.uIk("aria-expanded",!r.isCollapsed),s.xp6(2),s.Q6J("ngbCollapse",r.isCollapsed),s.xp6(8),s.Q6J("ngIf",!r.logged),s.xp6(1),s.Q6J("ngIf",r.logged),s.xp6(3),s.Q6J("icon",r.faShoppingCart),s.xp6(1),s.Q6J("ngIf",r.itemsInCart>=1))},dependencies:[Gt,si,Wre,r5,gE,uC,lC,cC,po,Y8,Bc,Z8,W8,fl,qc,Ya],styles:[".navbar[_ngcontent-%COMP%]{padding-top:1.3rem;padding-bottom:1.3rem;font-family:Merriweather,serif;font-weight:400}.navbar[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:50%}.nav-item[_ngcontent-%COMP%]{padding-right:1rem;font-weight:700;font-size:.9rem;letter-spacing:2px}.navbar-brand[_ngcontent-%COMP%]{font-size:1.6rem;padding-right:1rem}.cart-icon[_ngcontent-%COMP%]{position:relative;font-size:1.2rem}.cart-counter[_ngcontent-%COMP%]{font-size:.65rem;position:absolute;border-radius:50%;padding:.01rem .25rem;background-color:#239f73;color:#fff;vertical-align:middle;right:2%;top:60%;text-align:center}#cartIconlink[_ngcontent-%COMP%]{margin-top:-.1rem}@media (max-width: 991px){.cart-counter[_ngcontent-%COMP%]{right:97%;top:60%}.navbar-nav[_ngcontent-%COMP%]{width:100%}.nav-item[_ngcontent-%COMP%]:not(:nth-child(4)){width:100%;border-bottom:1px solid rgba(128,128,128,.623)}}.dropdown-item[_ngcontent-%COMP%]{font-family:Merriweather,serif;font-weight:700;cursor:pointer;font-size:.7rem;padding-top:.5rem;padding-bottom:.5rem}#dropdown-item-message[_ngcontent-%COMP%]{cursor:default}#dropdown-item-message[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:transparent}@media (max-width: 800px){.cart-counter[_ngcontent-%COMP%]{right:96%;top:60%}}@media (max-width: 650px){input[_ngcontent-%COMP%]::placeholder{font-size:.7rem}.cart-counter[_ngcontent-%COMP%]{right:95%;top:60%}.navbar[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:50%}.navbar[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.8rem}.navbar-brand[_ngcontent-%COMP%]{padding-right:0}}@media (max-width: 500px){input[_ngcontent-%COMP%]::placeholder{font-size:.5rem}.navbar-brand[_ngcontent-%COMP%]{font-size:1.2rem}.navbar[_ngcontent-%COMP%]{padding-bottom:.8rem}.cart-counter[_ngcontent-%COMP%]{right:93%;top:60%}.navbar[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:.7rem}}"]}),n})(),WC=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-simple-footer"]],decls:13,vars:0,consts:[["id","footer",1,"container-fluid","bg-dark"],[1,"container","bg-dark"],[1,"copyright-content","d-flex","justify-content-center"],["id","copyright-paragraph"],["routerLink","/"],[2,"color","rgb(254,231,18)"],[2,"color","rgb(35,159,115)"],[2,"padding-left",".4rem"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),s._uU(4," Copyright \xa9"),s.TgZ(5,"a",4),s._uU(6,"Store"),s.TgZ(7,"span",5),s._uU(8,"M"),s.qZA(),s.TgZ(9,"span",6),s._uU(10,"Q"),s.qZA()(),s.TgZ(11,"span",7),s._uU(12,"all rights reserved"),s.qZA()()()()())},dependencies:[si],styles:["#footer[_ngcontent-%COMP%]{margin-top:2rem;padding-top:1rem;padding-bottom:1rem}.copyright-content[_ngcontent-%COMP%]{font-family:Merriweather,serif;font-size:.9rem;opacity:.8;padding-top:1rem}#copyright-paragraph[_ngcontent-%COMP%]{color:#fff}.copyright-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;transition:.4s;color:#fff}.copyright-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 500px){.copyright-content[_ngcontent-%COMP%]{font-size:.8rem}}"]}),n})();function gDe(n,e){1&n&&(s.TgZ(0,"div",29)(1,"strong"),s._uU(2,"Name"),s.qZA(),s._uU(3," is required. "),s.qZA())}function mDe(n,e){1&n&&(s.TgZ(0,"div",29)(1,"strong"),s._uU(2,"E-mail"),s.qZA(),s._uU(3," is required. "),s.qZA())}function vDe(n,e){1&n&&(s.TgZ(0,"div",29)(1,"strong"),s._uU(2,"Street"),s.qZA(),s._uU(3," is required. "),s.qZA())}function _De(n,e){1&n&&(s.TgZ(0,"div",29)(1,"strong"),s._uU(2,"Number"),s.qZA(),s._uU(3," is required. "),s.qZA())}function CDe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"label",33),s._uU(4,"Zip Code"),s.qZA(),s.TgZ(5,"input",34,35),s.NdJ("blur",function(){s.CHM(t);const i=s.MAs(6);s.oxw();const o=s.MAs(1),l=s.oxw();return s.KtG(l.getUSAZip(i.value,o))})("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userAddressData.zip=i)}),s.qZA(),s.TgZ(7,"div",36)(8,"strong"),s._uU(9,"Zip code"),s.qZA(),s._uU(10," is required. "),s.qZA()(),s.TgZ(11,"div",37)(12,"label",38),s._uU(13,"City"),s.qZA(),s.TgZ(14,"input",39,40),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userAddressData.city=i)}),s.qZA()(),s.TgZ(16,"div",41)(17,"label",42),s._uU(18,"State"),s.qZA(),s.TgZ(19,"input",43,44),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userAddressData.state=i)}),s.qZA()()(),s._UZ(21,"br"),s.TgZ(22,"div",31)(23,"div",45)(24,"label",46),s._uU(25,"Street"),s.qZA(),s.TgZ(26,"input",47,48),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userAddressData.str=i)}),s.qZA(),s.YNc(28,vDe,4,0,"div",14),s.qZA(),s.TgZ(29,"div",49)(30,"label",50),s._uU(31,"Number"),s.qZA(),s.TgZ(32,"input",51,52),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userAddressData.num=i)}),s.qZA(),s.YNc(34,_De,4,0,"div",14),s.qZA()()()}if(2&n){const t=s.MAs(27),r=s.MAs(33),i=s.oxw(2);s.xp6(5),s.Q6J("ngModel",i.userAddressData.zip),s.xp6(9),s.Q6J("ngModel",i.userAddressData.city),s.xp6(5),s.Q6J("ngModel",i.userAddressData.state),s.xp6(7),s.Q6J("ngModel",i.userAddressData.str),s.xp6(2),s.Q6J("ngIf",!t.valid&&t.touched),s.xp6(4),s.Q6J("ngModel",i.userAddressData.num),s.xp6(2),s.Q6J("ngIf",!r.valid&&r.touched)}}function yDe(n,e){1&n&&(s.TgZ(0,"div",29)(1,"strong"),s._uU(2,"Number"),s.qZA(),s._uU(3," is required. "),s.qZA())}function bDe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"label",33),s._uU(4,"Zip Code (CEP)"),s.qZA(),s.TgZ(5,"input",53,35),s.NdJ("blur",function(){s.CHM(t);const i=s.MAs(6);s.oxw();const o=s.MAs(1),l=s.oxw();return s.KtG(l.getBrazilZip(i.value,o))})("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userAddressData.zip=i)}),s.qZA(),s.TgZ(7,"div",36)(8,"strong"),s._uU(9,"Zip code"),s.qZA(),s._uU(10," is required. "),s.qZA()(),s.TgZ(11,"div",37)(12,"label",38),s._uU(13,"City"),s.qZA(),s.TgZ(14,"input",39,40),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userAddressData.city=i)}),s.qZA()(),s.TgZ(16,"div",41)(17,"label",42),s._uU(18,"State"),s.qZA(),s.TgZ(19,"input",43,44),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userAddressData.state=i)}),s.qZA()()(),s._UZ(21,"br"),s.TgZ(22,"div",31)(23,"div",45)(24,"label",46),s._uU(25,"Street"),s.qZA(),s.TgZ(26,"input",54,48),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userAddressData.str=i)}),s.qZA()(),s.TgZ(28,"div",49)(29,"label",50),s._uU(30,"Number"),s.qZA(),s.TgZ(31,"input",51,52),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userAddressData.num=i)}),s.qZA(),s.YNc(33,yDe,4,0,"div",14),s.qZA()()()}if(2&n){const t=s.MAs(32),r=s.oxw(2);s.xp6(5),s.Q6J("ngModel",r.userAddressData.zip),s.xp6(9),s.Q6J("ngModel",r.userAddressData.city),s.xp6(5),s.Q6J("ngModel",r.userAddressData.state),s.xp6(7),s.Q6J("ngModel",r.userAddressData.str),s.xp6(5),s.Q6J("ngModel",r.userAddressData.num),s.xp6(2),s.Q6J("ngIf",!t.valid&&t.touched)}}function MDe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"form",8,9),s.NdJ("ngSubmit",function(){s.CHM(t);const i=s.MAs(1),o=s.oxw();return s.KtG(o.onSubmit(i))}),s.TgZ(2,"div",10)(3,"label",11),s._uU(4,"Name"),s.qZA(),s.TgZ(5,"input",12,13),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userAddressData.name=i)}),s.qZA(),s.YNc(7,gDe,4,0,"div",14),s.qZA(),s._UZ(8,"br"),s.TgZ(9,"div",10)(10,"label",15),s._uU(11,"E-mail"),s.qZA(),s.TgZ(12,"input",16,17),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userAddressData.email=i)}),s.qZA(),s.YNc(14,mDe,4,0,"div",14),s.qZA(),s._UZ(15,"br"),s.TgZ(16,"div",18),s._uU(17," Where are you located? "),s.qZA(),s._UZ(18,"br"),s.TgZ(19,"div",19)(20,"div",20)(21,"input",21,22),s.NdJ("click",function(){s.CHM(t);const i=s.MAs(1),o=s.oxw();return s.KtG(o.resetAddressSection(i))})("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userAddressData.location=i)}),s.qZA(),s.TgZ(23,"label",23),s._uU(24,"U.S.A. \u{1f1fa}\u{1f1f8}"),s.qZA()(),s.TgZ(25,"div",20)(26,"input",24,25),s.NdJ("click",function(){s.CHM(t);const i=s.MAs(1),o=s.oxw();return s.KtG(o.resetAddressSection(i))})("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userAddressData.location=i)}),s.qZA(),s.TgZ(28,"label",26),s._uU(29,"Brazil \u{1f1e7}\u{1f1f7}"),s.qZA()()(),s.YNc(30,CDe,35,7,"div",27),s.YNc(31,bDe,34,6,"div",27),s._UZ(32,"br")(33,"br"),s.TgZ(34,"button",28),s._uU(35," Add It Now "),s.qZA()()}if(2&n){const t=s.MAs(1),r=s.MAs(6),i=s.MAs(13),o=s.oxw();s.xp6(5),s.Q6J("ngModel",o.userAddressData.name),s.xp6(2),s.Q6J("ngIf",!r.valid&&r.touched),s.xp6(5),s.Q6J("ngModel",o.userAddressData.email),s.xp6(2),s.Q6J("ngIf",!i.valid&&i.touched),s.xp6(7),s.Q6J("ngModel",o.userAddressData.location),s.xp6(5),s.Q6J("ngModel",o.userAddressData.location),s.xp6(4),s.Q6J("ngIf","usa"==o.userAddressData.location),s.xp6(1),s.Q6J("ngIf","br"==o.userAddressData.location),s.xp6(3),s.Q6J("disabled",!t.valid)}}function wDe(n,e){1&n&&(s.TgZ(0,"div",29)(1,"strong"),s._uU(2,"Street"),s.qZA(),s._uU(3," is required. "),s.qZA())}function SDe(n,e){1&n&&(s.TgZ(0,"div",29)(1,"strong"),s._uU(2,"Number"),s.qZA(),s._uU(3," is required. "),s.qZA())}function DDe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"label",33),s._uU(4,"Zip Code"),s.qZA(),s.TgZ(5,"input",34,35),s.NdJ("blur",function(){s.CHM(t);const i=s.MAs(6);s.oxw();const o=s.MAs(1),l=s.oxw();return s.KtG(l.getUSAZip(i.value,o))})("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userEditAddressData.zip=i)}),s.qZA(),s.TgZ(7,"div",36)(8,"strong"),s._uU(9,"Zip code"),s.qZA(),s._uU(10," is required. "),s.qZA()(),s.TgZ(11,"div",37)(12,"label",38),s._uU(13,"City"),s.qZA(),s.TgZ(14,"input",39,40),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userEditAddressData.city=i)}),s.qZA()(),s.TgZ(16,"div",41)(17,"label",42),s._uU(18,"State"),s.qZA(),s.TgZ(19,"input",43,44),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userEditAddressData.state=i)}),s.qZA()()(),s._UZ(21,"br"),s.TgZ(22,"div",31)(23,"div",45)(24,"label",46),s._uU(25,"Street"),s.qZA(),s.TgZ(26,"input",47,48),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userEditAddressData.str=i)}),s.qZA(),s.YNc(28,wDe,4,0,"div",14),s.qZA(),s.TgZ(29,"div",49)(30,"label",50),s._uU(31,"Number"),s.qZA(),s.TgZ(32,"input",51,52),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userEditAddressData.num=i)}),s.qZA(),s.YNc(34,SDe,4,0,"div",14),s.qZA()()()}if(2&n){const t=s.MAs(27),r=s.MAs(33),i=s.oxw(2);s.xp6(5),s.Q6J("ngModel",i.userEditAddressData.zip),s.xp6(9),s.Q6J("ngModel",i.userEditAddressData.city),s.xp6(5),s.Q6J("ngModel",i.userEditAddressData.state),s.xp6(7),s.Q6J("ngModel",i.userEditAddressData.str),s.xp6(2),s.Q6J("ngIf",!t.valid&&t.touched),s.xp6(4),s.Q6J("ngModel",i.userEditAddressData.num),s.xp6(2),s.Q6J("ngIf",!r.valid&&r.touched)}}function TDe(n,e){1&n&&(s.TgZ(0,"div",29)(1,"strong"),s._uU(2,"Number"),s.qZA(),s._uU(3," is required. "),s.qZA())}function EDe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"label",33),s._uU(4,"Zip Code (CEP)"),s.qZA(),s.TgZ(5,"input",53,35),s.NdJ("blur",function(){s.CHM(t);const i=s.MAs(6);s.oxw();const o=s.MAs(1),l=s.oxw();return s.KtG(l.getBrazilZip(i.value,o))})("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userEditAddressData.zip=i)}),s.qZA(),s.TgZ(7,"div",36)(8,"strong"),s._uU(9,"Zip code"),s.qZA(),s._uU(10," is required. "),s.qZA()(),s.TgZ(11,"div",37)(12,"label",38),s._uU(13,"City"),s.qZA(),s.TgZ(14,"input",39,40),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userEditAddressData.city=i)}),s.qZA()(),s.TgZ(16,"div",41)(17,"label",42),s._uU(18,"State"),s.qZA(),s.TgZ(19,"input",43,44),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userEditAddressData.state=i)}),s.qZA()()(),s._UZ(21,"br"),s.TgZ(22,"div",31)(23,"div",45)(24,"label",46),s._uU(25,"Street"),s.qZA(),s.TgZ(26,"input",54,48),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userEditAddressData.str=i)}),s.qZA()(),s.TgZ(28,"div",49)(29,"label",50),s._uU(30,"Number"),s.qZA(),s.TgZ(31,"input",51,52),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw(2);return s.KtG(o.userEditAddressData.num=i)}),s.qZA(),s.YNc(33,TDe,4,0,"div",14),s.qZA()()()}if(2&n){const t=s.MAs(32),r=s.oxw(2);s.xp6(5),s.Q6J("ngModel",r.userEditAddressData.zip),s.xp6(9),s.Q6J("ngModel",r.userEditAddressData.city),s.xp6(5),s.Q6J("ngModel",r.userEditAddressData.state),s.xp6(7),s.Q6J("ngModel",r.userEditAddressData.str),s.xp6(5),s.Q6J("ngModel",r.userEditAddressData.num),s.xp6(2),s.Q6J("ngIf",!t.valid&&t.touched)}}function xDe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"form",8,55),s.NdJ("ngSubmit",function(){s.CHM(t);const i=s.MAs(1),o=s.oxw();return s.KtG(o.onSubmitEdit(i))}),s.TgZ(2,"div",10)(3,"label",11),s._uU(4,"Name"),s.qZA(),s.TgZ(5,"input",12,13),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userEditAddressData.name=i)}),s.qZA()(),s._UZ(7,"br"),s.TgZ(8,"div",10)(9,"label",15),s._uU(10,"E-mail"),s.qZA(),s.TgZ(11,"input",16,17),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userEditAddressData.email=i)}),s.qZA()(),s._UZ(13,"br"),s.YNc(14,DDe,35,7,"div",27),s.YNc(15,EDe,34,6,"div",27),s._UZ(16,"br")(17,"br"),s.TgZ(18,"button",28),s._uU(19," Edit It Now "),s.qZA()()}if(2&n){const t=s.MAs(1),r=s.oxw();s.xp6(5),s.Q6J("ngModel",r.userEditAddressData.name),s.xp6(6),s.Q6J("ngModel",r.userEditAddressData.email),s.xp6(3),s.Q6J("ngIf","usa"==r.userEditAddressData.location),s.xp6(1),s.Q6J("ngIf","br"==r.userEditAddressData.location),s.xp6(3),s.Q6J("disabled",!t.valid)}}let xq=(()=>{class n{constructor(t,r,i,o,l){this.route=t,this.router=r,this.fireAuth=i,this.zipService=o,this.userService=l,this.editPage=!1,this.userAddressData={name:this.fireAuth.currentUser.displayName,email:this.fireAuth.currentUser.email,location:null,zip:null,city:null,state:null,str:null,num:null},this.userEditAddressData={name:this.fireAuth.currentUser.displayName,email:this.fireAuth.currentUser.email,location:null,zip:null,city:null,state:null,str:null,num:null},this.getRoute()}ngOnInit(){}getRoute(){this.route.url.subscribe(t=>{console.log("aqui no address-form: ",t),"add"==t[2].path?this.title="Add Address":(this.title="Edit Address",this.editPage=!0,this.populateEditData())})}onSubmit(t){this.addAddressToDoFirestore(t.value),window.scrollTo(0,0),document.getElementById("alert").style.display="block",setTimeout(()=>{this.router.navigate(["/my-profile/my-address"])},3e3)}addAddressToDoFirestore(t){this.userService.insertUserAddress(this.fireAuth.currentUser.uid,t.location,t.zip,t.city,t.state,t.str,t.num)}getUSAZip(t,r){var i=document.getElementsByClassName("spinner")[0];i.style.display="block",setTimeout(()=>{this.zipService.getUsaZip(t).subscribe(o=>{i.style.display="none",this.populateData(r,o,null)},o=>{i.style.display="none",this.resetAddressSection(r);var l=document.getElementById("zip-code-alert");l.style.display="block",setTimeout(()=>{l.style.display="none"},2500)})},1e3)}getBrazilZip(t,r){var i=document.getElementsByClassName("spinner")[0];i.style.display="block",setTimeout(()=>{this.zipService.getBrazilZip(t).subscribe(o=>{i.style.display="none",this.populateData(r,null,o)},o=>{i.style.display="none",this.resetAddressSection(r);var l=document.getElementById("zip-code-alert");l.style.display="block",setTimeout(()=>{l.style.display="none"},2500)})},1e3)}populateData(t,r,i){r?t.form.patchValue({city:r.places[0]["place name"],state:r.places[0].state}):i&&t.form.patchValue({zip:i.cep,city:i.localidade,state:i.uf,str:i.logradouro})}resetAddressSection(t){t.form.patchValue({city:null,str:null,num:null,zip:null,state:null})}onSubmitEdit(t){this.editAddressOnFirestore(t.value),window.scrollTo(0,0),document.getElementById("edit-alert").style.display="block",setTimeout(()=>{this.router.navigate(["/my-profile/my-address"])},3e3)}populateEditData(){var t=this.fireAuth.currentUser.uid;this.route.params.subscribe(r=>{console.log("params no address-form edit: ",r.id),this.addressID=r.id,this.userService.getSpecificUserAddress(this.addressID,t).subscribe(i=>{console.log("address que pegamos na url: ",i),this.userEditAddressData={name:this.fireAuth.currentUser.displayName,email:this.fireAuth.currentUser.email,location:i.location,zip:i.zip,city:i.city,state:i.state,str:i.street,num:i.number}})})}editAddressOnFirestore(t){this.userService.editUserAddress(this.addressID,this.fireAuth.currentUser.uid,t).then(i=>{console.log("users address edited succesfully!")}).catch(i=>{console.log("error on editing users address: ",i)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Er),s.Y36(Sn),s.Y36(Hr),s.Y36(Iw),s.Y36(Ia))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-address-form"]],decls:15,vars:3,consts:[[1,"container"],[1,"content-header"],[1,"line-below"],[1,"content-info"],["id","alert","type","success"],["id","edit-alert","type","success"],["class","form-row d-flex flex-column align-items-center",3,"ngSubmit",4,"ngIf"],[1,"spinner"],[1,"form-row","d-flex","flex-column","align-items-center",3,"ngSubmit"],["form","ngForm"],[1,"form-group","col-10","col-md-10"],["for","name"],["readonly","","type","text","id","name","name","name","placeholder","Name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","email"],["readonly","","type","email","id","email","name","email","placeholder","E-mail","required","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"label","col-md-10","d-flex","justify-content-center","align-items-center"],[1,"form-group","col-md-10","d-flex","justify-content-evenly"],[1,"form-check","form-check-inline"],["required","","type","radio","id","usa","name","location","value","usa",1,"form-check-input",3,"ngModel","click","ngModelChange"],["usa","ngModel"],["for","usa",1,"form-check-label"],["required","","type","radio","id","br","name","location","value","br",1,"form-check-input",3,"ngModel","click","ngModelChange"],["br","ngModel"],["for","br",1,"form-check-label"],["style","width: 100%;",4,"ngIf"],["type","submit",1,"btn","btn-dark","col-8","col-md-8","rounded-pill",2,"padding-top",".6rem","padding-bottom",".6rem","font-weight","700","letter-spacing","1px",3,"disabled"],[1,"alert","alert-danger"],[2,"width","100%"],[1,"row","justify-content-center"],[1,"form-group","col-10","col-md-4"],["for","zipCode"],["type","text","id","zip","name","zip","placeholder","Zip Code","required","",1,"form-control",3,"ngModel","blur","ngModelChange"],["zip","ngModel"],["id","zip-code-alert",1,"alert","alert-danger"],[1,"form-group","col-7","col-md-3"],["for","city"],["type","text","id","city","name","city","placeholder","City","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["city","ngModel"],[1,"form-group","col-3","col-md-3"],["for","state"],["type","text","id","state","name","state","placeholder","State","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["state","ngModel"],[1,"form-group","col-7","col-md-8"],["for","str"],["type","text","id","str","name","str","placeholder","Street","required","",1,"form-control",3,"ngModel","ngModelChange"],["str","ngModel"],[1,"form-group","col-3","col-md-2"],["for","num"],["type","text","id","num","name","num","placeholder","Number","required","",1,"form-control",3,"ngModel","ngModelChange"],["num","ngModel"],["type","text","id","zip","name","zip","placeholder","Zip Code (CEP)","required","",1,"form-control",3,"ngModel","blur","ngModelChange"],["type","text","id","str","name","str","placeholder","Street","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["formEdit","ngForm"]],template:function(t,r){1&t&&(s._UZ(0,"app-header"),s.TgZ(1,"div",0)(2,"div",1)(3,"h3"),s._uU(4),s.qZA(),s._UZ(5,"span",2),s.qZA(),s.TgZ(6,"div",3)(7,"ngb-alert",4),s._uU(8,"You successfully added a new Address. Navigating to Addresses List..."),s.qZA(),s.TgZ(9,"ngb-alert",5),s._uU(10,"You successfully edited the Address. Navigating to Addresses List..."),s.qZA(),s.YNc(11,MDe,36,9,"form",6),s.YNc(12,xDe,20,5,"form",6),s.qZA(),s._UZ(13,"div",7),s.qZA(),s._UZ(14,"app-simple-footer")),2&t&&(s.xp6(4),s.hij(" ",r.title," "),s.xp6(7),s.Q6J("ngIf",!r.editPage),s.xp6(1),s.Q6J("ngIf",r.editPage))},dependencies:[Gt,DO,Y8,Bc,Y_,Z8,W8,pl,fl,qc,go,WC],styles:[".container[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:2rem}.content-header[_ngcontent-%COMP%]{position:relative}.line-below[_ngcontent-%COMP%]{position:absolute;width:6rem;height:5px;background-color:#239f73;left:7%;top:92%;transform:translate(-50%);border-radius:5px}.content-info[_ngcontent-%COMP%]{padding-top:2rem;width:100%}.spinner[_ngcontent-%COMP%]{position:absolute;top:65%;left:46%;display:none;border:8px solid rgba(0,0,0,.1);border-left-color:#22a6b3;height:80px;width:80px;border-radius:50%;animation:spin 1s linear infinite;margin-top:3rem;margin-bottom:3rem}@keyframes spin{to{transform:rotate(360deg)}}#zip-code-alert[_ngcontent-%COMP%]{display:none}.label[_ngcontent-%COMP%]{font-size:1.2rem}#alert[_ngcontent-%COMP%], #edit-alert[_ngcontent-%COMP%]{display:none}"]}),n})();function ADe(n,e){if(1&n&&s._UZ(0,"fa-icon",13),2&n){const t=s.oxw();s.Q6J("icon",t.faUserPen)}}function NDe(n,e){if(1&n&&s._UZ(0,"fa-icon",13),2&n){const t=s.oxw();s.Q6J("icon",t.faPlus)}}let HDe=(()=>{class n{constructor(t){this.fireAuth=t,this.faUserPen=xE,this.faPlus=mx,this.faArrowAltCircleLeft=KE}ngOnInit(){this.getUserData()}getUserData(){this.userName=this.fireAuth.currentUser.displayName,this.userEmail=this.fireAuth.currentUser.email,this.userNumber=this.fireAuth.currentUser.phoneNumber,console.log(this.fireAuth.currentUser)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Hr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-personal-data"]],decls:38,vars:7,consts:[[1,"container"],[1,"content-header","d-flex","flex-row","justify-content-evenly","align-items-center"],["routerLink","/my-profile",1,"go-back","d-flex","flex-row","align-items-center"],[1,"fa-xl",3,"icon"],[1,"content-wrapper"],[1,"content-body","d-flex","flex-column","align-items-center"],[1,"body-header"],[1,"line-below"],[1,"body-info"],[1,"section-name","d-flex","flex-row","align-items-center","justify-content-between"],[1,"section-placeholder"],[1,"section-data"],[1,"icon-wrapper","d-flex","flex-column","justify-content-center"],[3,"icon"],[1,"section-email","d-flex","flex-row","align-items-center","justify-content-between"],[1,"section-phone","d-flex","flex-row","align-items-center","justify-content-between"],[3,"icon",4,"ngIf"]],template:function(t,r){1&t&&(s._UZ(0,"app-header"),s.TgZ(1,"div",0)(2,"div",1)(3,"div",2),s._UZ(4,"fa-icon",3),s.TgZ(5,"h4"),s._uU(6,"Go Back"),s.qZA()(),s.TgZ(7,"h3"),s._uU(8,"My Data"),s.qZA()(),s.TgZ(9,"div",4)(10,"div",5)(11,"div",6)(12,"h4"),s._uU(13,"Personal Data"),s.qZA(),s._UZ(14,"span",7),s.qZA(),s.TgZ(15,"div",8)(16,"div",9)(17,"div",10),s._uU(18," Full Name "),s.qZA(),s.TgZ(19,"div",11),s._uU(20),s.qZA(),s.TgZ(21,"div",12),s._UZ(22,"fa-icon",13),s.qZA()(),s.TgZ(23,"div",14)(24,"div",10),s._uU(25," E-mail "),s.qZA(),s.TgZ(26,"div",11),s._uU(27),s.qZA(),s._UZ(28,"div",12),s.qZA(),s.TgZ(29,"div",15)(30,"div",10),s._uU(31," Phone Number "),s.qZA(),s.TgZ(32,"div",11),s._uU(33),s.qZA(),s.TgZ(34,"div",12),s.YNc(35,ADe,1,1,"fa-icon",16),s.YNc(36,NDe,1,1,"fa-icon",16),s.qZA()()()()()(),s._UZ(37,"app-simple-footer")),2&t&&(s.xp6(4),s.Q6J("icon",r.faArrowAltCircleLeft),s.xp6(16),s.hij(" ",r.userName," "),s.xp6(2),s.Q6J("icon",r.faUserPen),s.xp6(5),s.hij(" ",r.userEmail," "),s.xp6(6),s.hij(" ",r.userNumber?r.userNumber:"--"," "),s.xp6(2),s.Q6J("ngIf",r.userNumber),s.xp6(1),s.Q6J("ngIf",!r.userNumber))},dependencies:[Gt,E1,po,go,WC],styles:[".container[_ngcontent-%COMP%]{padding-top:2rem}.content-header[_ngcontent-%COMP%]{width:30%}.go-back[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:.4rem}.go-back[_ngcontent-%COMP%]{cursor:pointer}.go-back[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .content-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:.4rem}.go-back[_ngcontent-%COMP%]:hover{text-decoration:underline}.content-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.651);padding-left:1.2rem;white-space:nowrap}.content-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{white-space:nowrap}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:1rem;font-family:Merriweather,serif;width:100%}.content-body[_ngcontent-%COMP%]{width:100%}.body-info[_ngcontent-%COMP%]{background-color:#fff;padding-top:1rem;padding-bottom:1rem;border-radius:.4rem;width:70%;box-shadow:#00000029 0 1px 4px}.body-header[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem;padding-top:2rem}.section-placeholder[_ngcontent-%COMP%]{font-size:.9rem;word-spacing:2px;margin-left:.6rem}.icon-wrapper[_ngcontent-%COMP%]{margin-right:.6rem}.section-data[_ngcontent-%COMP%]{opacity:.7;font-size:1rem;width:50%;letter-spacing:1px}.section-name[_ngcontent-%COMP%], .section-email[_ngcontent-%COMP%], .section-phone[_ngcontent-%COMP%]{padding-top:.8rem;padding-bottom:.8rem}.section-name[_ngcontent-%COMP%], .section-email[_ngcontent-%COMP%]{border-bottom:1px solid rgba(128,128,128,.411)}fa-icon[_ngcontent-%COMP%]{cursor:pointer}.line-below[_ngcontent-%COMP%]{position:absolute;width:4rem;height:5px;background-color:#239f73;left:50%;top:90%;transform:translate(-50%);border-radius:5px}app-simple-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%}@media (max-width: 992px){.body-info[_ngcontent-%COMP%]{width:80%}.content-header[_ngcontent-%COMP%]{width:40%}}@media (max-width: 767px){.body-info[_ngcontent-%COMP%]{width:90%}.section-data[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.content-header[_ngcontent-%COMP%]{width:50%}}@media (max-width: 600px){.body-info[_ngcontent-%COMP%]{width:95%}.content-header[_ngcontent-%COMP%]{width:60%}}"]}),n})();function IDe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",16)(1,"div",14),s._UZ(2,"fa-icon",17),s.qZA(),s.TgZ(3,"div",18)(4,"div",19),s._uU(5),s.ALo(6,"titlecase"),s.qZA(),s.TgZ(7,"div",20),s._uU(8),s.ALo(9,"uppercase"),s.qZA(),s.TgZ(10,"div",21),s._uU(11),s.ALo(12,"titlecase"),s.qZA()(),s.TgZ(13,"div",22)(14,"div",23),s._UZ(15,"fa-icon",15),s.qZA(),s.TgZ(16,"div",24)(17,"button",25),s._uU(18," Edit "),s._UZ(19,"fa-icon",15),s.qZA(),s.TgZ(20,"button",26),s.NdJ("click",function(){const o=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.removeAddress(o.docID))}),s._uU(21," Remove "),s._UZ(22,"fa-icon",15),s.qZA()()()()}if(2&n){const t=e.$implicit,r=s.oxw();s.xp6(2),s.Q6J("icon",r.faLocationDot),s.xp6(3),s.AsE("",s.lcZ(6,11,t.street)," ",t.number," "),s.xp6(3),s.lnq(" ZIP: ",t.zip," - ",t.city," - ",s.lcZ(9,13,t.location)," "),s.xp6(3),s.Oqu(s.lcZ(12,15,r.userName)),s.xp6(4),s.Q6J("icon",r.faEllipsis),s.xp6(2),s.MGl("routerLink","/my-profile/my-address/edit/",t.docID,""),s.xp6(2),s.Q6J("icon",r.faPenToSquare),s.xp6(3),s.Q6J("icon",r.faXmark)}}function VDe(n,e){if(1&n&&(s.TgZ(0,"div",27)(1,"div",28)(2,"div",14),s._UZ(3,"fa-icon",17),s.qZA(),s.TgZ(4,"p"),s._uU(5,"You do not have registered addresses yet."),s.qZA()()()),2&n){const t=s.oxw();s.xp6(3),s.Q6J("icon",t.faLocationDot)}}let LDe=(()=>{class n{constructor(t,r){this.fireAuth=t,this.userService=r,this.faArrowAltCircleLeft=KE,this.faLocationDot=DC,this.faAngleRight=DE,this.faEllipsis=JE,this.faXmark=o5,this.faPenToSquare=wE,this.userName=this.fireAuth.currentUser.displayName,this.show=!1}ngOnInit(){this.getAllAddresses()}getAllAddresses(){this.userService.getAllUserAddresses(this.fireAuth.currentUser.uid).subscribe(r=>{this.show=!1,console.log("res no my-address: ",r),this.addressList=r})}removeAddress(t){this.userService.removeUserAddress(t,this.fireAuth.currentUser.uid).then(i=>{var o=document.getElementById("alert");o.style.display="block",setTimeout(()=>{o.style.display="none"},3e3),console.log("successfully deleted!")}).catch(i=>{console.log("error on delete address: ",i)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Hr),s.Y36(Ia))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-my-address"]],decls:26,vars:4,consts:[[1,"container"],[1,"content-header","d-flex","flex-row","justify-content-evenly","align-items-center"],["routerLink","/my-profile",1,"go-back","d-flex","flex-row","align-items-center"],[1,"fa-xl",3,"icon"],[1,"content-wrapper"],[1,"content-body","d-flex","flex-column","align-items-center"],[1,"body-header"],[1,"line-below"],["id","alert","type","success"],[1,"body-info"],["class","section-address d-flex flex-row justify-content-between",4,"ngFor","ngForOf"],["class","section-address not-found d-flex flex-row justify-content-center align-items-center",4,"ngIf"],["routerLink","/my-profile/my-address/add",1,"section-button","d-flex","justify-content-between"],[1,"button-text"],[1,"icon-wrapper"],[3,"icon"],[1,"section-address","d-flex","flex-row","justify-content-between"],[1,"fa-2x",3,"icon"],[1,"address-info","d-flex","flex-column"],[1,"street"],[1,"zip"],[1,"name"],["ngbDropdown",""],["id","dropdownConfig","ngbDropdownToggle",""],["ngbDropdownMenu","","aria-labelledby","dropdownConfig"],["ngbDropdownItem","",1,"d-flex","flex-row","justify-content-between",3,"routerLink"],["ngbDropdownItem","",1,"d-flex","flex-row","justify-content-between",3,"click"],[1,"section-address","not-found","d-flex","flex-row","justify-content-center","align-items-center"],[1,"address-not-found-message","d-flex","flex-column","justify-content-center","align-items-center"]],template:function(t,r){1&t&&(s._UZ(0,"app-header"),s.TgZ(1,"div",0)(2,"div",1)(3,"div",2),s._UZ(4,"fa-icon",3),s.TgZ(5,"h4"),s._uU(6,"Go Back"),s.qZA()(),s.TgZ(7,"h3"),s._uU(8,"Addresses"),s.qZA()(),s.TgZ(9,"div",4)(10,"div",5)(11,"div",6)(12,"h4"),s._uU(13,"Your Addresses"),s.qZA(),s._UZ(14,"span",7),s.qZA(),s.TgZ(15,"ngb-alert",8),s._uU(16,"You successfuly deleted the Address."),s.qZA(),s.TgZ(17,"div",9),s.YNc(18,IDe,23,17,"div",10),s.YNc(19,VDe,6,1,"div",11),s.TgZ(20,"div",12)(21,"div",13),s._uU(22," Add Address "),s.qZA(),s.TgZ(23,"div",14),s._UZ(24,"fa-icon",15),s.qZA()()()()()(),s._UZ(25,"app-simple-footer")),2&t&&(s.xp6(4),s.Q6J("icon",r.faArrowAltCircleLeft),s.xp6(14),s.Q6J("ngForOf",r.addressList),s.xp6(1),s.Q6J("ngIf",r.addressList.length<=0),s.xp6(5),s.Q6J("icon",r.faAngleRight))},dependencies:[Fn,Gt,E1,DO,r5,gE,uC,lC,po,go,WC,C5,Ya],styles:[".container[_ngcontent-%COMP%]{padding-top:2rem;font-family:Merriweather,serif;padding-bottom:2rem}.content-header[_ngcontent-%COMP%]{width:35%}.go-back[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:.4rem}.go-back[_ngcontent-%COMP%]{cursor:pointer}.go-back[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .content-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:.4rem}.go-back[_ngcontent-%COMP%]:hover{text-decoration:underline}.content-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-left:1px solid rgba(0,0,0,.651);padding-left:1.2rem;white-space:nowrap}.content-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{white-space:nowrap}.body-header[_ngcontent-%COMP%]{position:relative;margin-bottom:2rem;padding-top:2rem}.line-below[_ngcontent-%COMP%]{position:absolute;width:4rem;height:5px;background-color:#239f73;left:50%;top:90%;transform:translate(-50%);border-radius:5px}.body-info[_ngcontent-%COMP%]{background-color:#fff;border-radius:.4rem;width:80%;box-shadow:#00000029 0 1px 4px}.section-address[_ngcontent-%COMP%]{padding-top:1.5rem;padding-bottom:1.5rem}.section-address[_ngcontent-%COMP%]{border-bottom:1px solid rgba(180,180,180,.507)}.address-info[_ngcontent-%COMP%]{width:75%}.street[_ngcontent-%COMP%]{opacity:.9;font-size:1rem;padding-bottom:.5rem}.zip[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{opacity:.7;font-size:.85rem}.address-not-found-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.6rem}.section-address[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-left:.8rem}.section-button[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem;transition:.5s;cursor:pointer}.section-button[_ngcontent-%COMP%]:hover{background-color:#c5c5c581}.button-text[_ngcontent-%COMP%]{font-weight:700;color:#239f73;margin-left:.6rem;letter-spacing:1px}.section-button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{color:#239f73;margin-right:.6rem}#dropdownConfig[_ngcontent-%COMP%]{padding:.3rem 1rem;border-radius:50%;transition:.3s;margin-right:.6rem}#dropdownConfig[_ngcontent-%COMP%]:hover{background-color:#c5c5c581}#dropdownConfig[_ngcontent-%COMP%]:hover   fa-icon[_ngcontent-%COMP%]{color:#000}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}#alert[_ngcontent-%COMP%]{display:none;width:80%}@media (max-width: 992px){.content-header[_ngcontent-%COMP%]{width:45%}}@media (max-width: 767px){.content-header[_ngcontent-%COMP%]{width:58%}.address-not-found-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 600px){.content-header[_ngcontent-%COMP%]{width:65%}.address-not-found-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}"]}),n})(),Tl=(()=>{class n{constructor(t){this.http=t,this.urlAPI="https://fakestoreapi.com/products"}fetchApiData(){return this.http.get(this.urlAPI)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(J1))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KC=(()=>{class n{constructor(){this.productsSelected=[],this.productsIdQty=[]}addProductToUserList(t){this.productsSelected.includes(t)||this.productsSelected.push(t)}resetUserList(){this.productsSelected=[]}totalProductsQtyAndValue(t,r){this.totalValue=r+5,t.forEach(i=>{this.productsIdQty.push({prodId:i.id,qty:i.quantity})})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y9=(()=>{class n{constructor(){this.prodsOnCart=0,this.addToCardEvent=new s.vpe}ngOnInit(){this.ProductPriceDealer(this.productOnCard.price)}ProductPriceDealer(t){var r=t.toString();this.productPrice=r.includes(".")?r:t+.99}addToCart(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-card-template"]],inputs:{productOnCard:"productOnCard"},outputs:{addToCardEvent:"addToCardEvent"},decls:10,vars:7,consts:[[1,"card"],["alt","...",1,"card-img-top",3,"routerLink","src"],[1,"card-body"],[1,"card-text","text-truncate",3,"routerLink"],[1,"price",3,"routerLink"],[1,"new-button-wrapper","d-flex","justify-content-center","align-items-center"],["href","#",2,"font-weight","700","text-align","center","color","#fff","text-decoration","none","letter-spacing","1px",3,"routerLink"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s._UZ(1,"img",1),s.TgZ(2,"div",2)(3,"p",3),s._uU(4),s.qZA(),s.TgZ(5,"div",4),s._uU(6),s.qZA(),s.TgZ(7,"div",5)(8,"a",6),s._uU(9,"Buy Now"),s.qZA()()()()),2&t&&(s.xp6(1),s.MGl("routerLink","/products/",r.productOnCard.id,""),s.s9C("src",r.productOnCard.image,s.LSH),s.xp6(2),s.MGl("routerLink","/products/",r.productOnCard.id,""),s.xp6(1),s.Oqu(r.productOnCard.title),s.xp6(1),s.MGl("routerLink","/products/",r.productOnCard.id,""),s.xp6(1),s.hij(" USD ",r.productPrice," "),s.xp6(2),s.MGl("routerLink","/products/",r.productOnCard.id,""))},dependencies:[E1,si],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:2rem;padding-top:1rem;transition:.5s}.card[_ngcontent-%COMP%]:hover{margin-top:-1rem}.card[_ngcontent-%COMP%]:hover   .card-text[_ngcontent-%COMP%]{display:block;opacity:.8;height:auto}.card[_ngcontent-%COMP%]:hover   .new-button-wrapper[_ngcontent-%COMP%]{background-color:#198754a1}.card-img-top[_ngcontent-%COMP%]{height:200px;max-width:95%;object-fit:contain;align-self:center}.card-text[_ngcontent-%COMP%]{font-size:.8rem;font-weight:400;text-align:center;transition:opacity 1s ease-out;opacity:0;height:0;overflow:hidden}.price[_ngcontent-%COMP%]{font-weight:700;opacity:1;display:flex;justify-content:center;align-items:center;white-space:nowrap;color:#000000d5}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-left-color:#22a6b3;height:60px;width:60px;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.new-button-wrapper[_ngcontent-%COMP%]{position:absolute;width:100%;height:12%;bottom:0;left:0;background-color:#198754;transition:.4s;border-bottom-left-radius:calc(.375rem - 1px);border-bottom-right-radius:calc(.375rem - 1px)}.card-body[_ngcontent-%COMP%]{min-height:130px}@media (max-width: 770px){.card-text[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 570px){.card[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.card-text[_ngcontent-%COMP%]{font-size:.7rem;font-weight:400;text-align:center;opacity:1;height:auto}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:210px;width:60%}.card-img-top[_ngcontent-%COMP%]{height:140px;width:40%;object-fit:contain;margin-top:-.5rem}.new-button-wrapper[_ngcontent-%COMP%]{height:16%;bottom:0;left:0}}@media (max-width: 500px){.card-img-top[_ngcontent-%COMP%]{height:120px;width:50%;object-fit:contain}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.card-body[_ngcontent-%COMP%]{justify-content:flex-start;height:120px}.btn[_ngcontent-%COMP%]{display:none}}"]}),n})(),YC=(()=>{class n{constructor(){this.faTruckFast=px,this.faShield=OE,this.faCreditCard=rx}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-footer"]],decls:50,vars:3,consts:[[1,"container-fluid","bg-dark"],[1,"container"],[1,"content-wrapper","d-flex","flex-row","justify-content-between"],[1,"row","d-flex","justify-content-center","justify-content-center"],[1,"footer-section-1","col-10","col-md-4","d-flex","flex-column"],[1,"section-header","d-flex","flex-column","align-items-center"],[1,"fa-3x",3,"icon"],[1,"section-content","d-flex","justify-content-center"],[2,"color","rgb(254,231,18)"],[2,"color","rgb(35,159,115)"],[1,"footer-section-2","col-10","col-md-4","d-flex","flex-column"],[1,"footer-section-3","col-10","col-md-4","d-flex","flex-column"],[1,"copyright-content","d-flex","justify-content-center"],["routerLink","/"],[2,"padding-left",".4rem"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),s._UZ(6,"fa-icon",6),s.TgZ(7,"h3"),s._uU(8,"Choose How to Pay"),s.qZA()(),s.TgZ(9,"div",7)(10,"p"),s._uU(11," Here at Store"),s.TgZ(12,"span",8),s._uU(13,"M"),s.qZA(),s.TgZ(14,"span",9),s._uU(15,"Q"),s.qZA(),s._uU(16,", you choose to pay by credit or debit card. "),s.qZA()()(),s.TgZ(17,"div",10)(18,"div",5),s._UZ(19,"fa-icon",6),s.TgZ(20,"h3"),s._uU(21,"Low Cost Shipping"),s.qZA()(),s.TgZ(22,"div",7)(23,"p"),s._uU(24," Low cost and extremely fast shipping throughout the US and Brazil. "),s.qZA()()(),s.TgZ(25,"div",11)(26,"div",5),s._UZ(27,"fa-icon",6),s.TgZ(28,"h3"),s._uU(29," Security, from start to end "),s.qZA()(),s.TgZ(30,"div",7)(31,"p"),s._uU(32," Shopping here at Store"),s.TgZ(33,"span",8),s._uU(34,"M"),s.qZA(),s.TgZ(35,"span",9),s._uU(36,"Q"),s.qZA(),s._uU(37," is completely safe. If you didn't like your product, we'll be glad to give your money back. "),s.qZA()()()()(),s._UZ(38,"hr"),s.TgZ(39,"div",12)(40,"p"),s._uU(41," Copyright \xa9"),s.TgZ(42,"a",13),s._uU(43,"Store"),s.TgZ(44,"span",8),s._uU(45,"M"),s.qZA(),s.TgZ(46,"span",9),s._uU(47,"Q"),s.qZA()(),s.TgZ(48,"span",14),s._uU(49,"all rights reserved"),s.qZA()()()()()),2&t&&(s.xp6(6),s.Q6J("icon",r.faCreditCard),s.xp6(13),s.Q6J("icon",r.faTruckFast),s.xp6(8),s.Q6J("icon",r.faShield))},dependencies:[si,po],styles:[".container-fluid[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem;color:#fff;font-family:Merriweather,serif}.content-wrapper[_ngcontent-%COMP%]{width:100%}fa-icon[_ngcontent-%COMP%]{margin-top:.5rem}.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;text-align:center;padding-top:.5rem}.section-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem;opacity:.7;width:80%;text-align:center;padding-top:1rem}hr[_ngcontent-%COMP%]{border:0;height:1px;background:rgb(105,104,104)}.copyright-content[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8;padding-top:1rem}.copyright-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;transition:.4s;color:#fff}.copyright-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 500px){.section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.9rem}.copyright-content[_ngcontent-%COMP%]{font-size:.8rem}.section-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem}}"]}),n})();function zDe(n,e){if(1&n&&(s.TgZ(0,"div",30),s._UZ(1,"img",31),s.qZA(),s._UZ(2,"div",32)),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("src",t.images[0],s.LSH)}}function kDe(n,e){if(1&n&&(s.TgZ(0,"div",33),s._UZ(1,"img",34),s.qZA(),s._UZ(2,"div",32)),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("src",t.images[1],s.LSH)}}function ODe(n,e){if(1&n&&(s.TgZ(0,"div",35),s._UZ(1,"img",36),s.qZA(),s._UZ(2,"div",32)),2&n){const t=s.oxw(2);s.xp6(1),s.Q6J("src",t.images[2],s.LSH)}}function PDe(n,e){1&n&&(s.TgZ(0,"ngb-carousel"),s.YNc(1,zDe,3,1,"ng-template",29),s.YNc(2,kDe,3,1,"ng-template",29),s.YNc(3,ODe,3,1,"ng-template",29),s.qZA())}function RDe(n,e){if(1&n&&(s.TgZ(0,"div",37),s._UZ(1,"app-card-template",38),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("productOnCard",t)}}function FDe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",37)(1,"app-card-template",39),s.NdJ("addToCardEvent",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.onAddToCardEvent(i))}),s.qZA()()}if(2&n){const t=e.$implicit;s.xp6(1),s.Q6J("productOnCard",t)}}let UDe=(()=>{class n{constructor(t,r){this.ApiService=t,this.ProductService=r,this.faArrowCircleRight=PE,this.link1="../../../assets/carousel-1.png",this.link2="../../../assets/carousel-2.jpg",this.link3="https://i.ebayimg.com/images/g/T7oAAOSwZVhjhjJv/s-l960.webp",this.images=[this.link1,this.link2,this.link3],this.productsOnCart=0}ngOnInit(){this.getData()}getData(){this.ApiService.fetchApiData().subscribe(t=>{console.log("res: ",t),this.product1=t[0],this.ocultStartDisplay(),this.productList=t,this.getBestSellers(this.productList)})}getBestSellers(t){this.bestSellerProduct=t.filter(r=>r.rating.rate>=4.5),console.log("this.bestSellerProduct: ",this.bestSellerProduct)}ocultStartDisplay(){var t=document.getElementsByClassName("start-displaying");Array.from(t).forEach(i=>{i.style.display="none"})}onAddToCardEvent(t){this.productsOnCart+=1,console.log("this.productsOnCart: ",this.productsOnCart,"id: ",t),this.ProductService.addProductToUserList(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Tl),s.Y36(KC))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-home"]],decls:93,vars:4,consts:[[1,"container-fluid"],[4,"ngIf"],[1,"container"],[1,"section-categories"],["routerLink","/categories",2,"text-decoration","none"],[1,"see-all"],[3,"icon"],[1,"categories-wrapper","row","d-flex","justify-content-around","align-items-center"],["routerLink","/categories/electronics",1,"category","col-6","col-md-3","d-flex","flex-column","justify-content-center","align-items-center"],["src","https://i.ebayimg.com/images/g/XqUAAOSwYXFjgOCq/s-l200.webp","alt","","srcset",""],[1,"category-description"],["id","category-disabled",1,"category","col-6","col-md-3","d-flex","flex-column","justify-content-center","align-items-center"],["ngbTooltip","Not available yet","placement","top","src","https://i.ebayimg.com/images/g/2RAAAOSwxXljPIHd/s-l200.webp","alt","","srcset",""],["ngbTooltip","Not available yet","placement","top","src","https://i.ebayimg.com/images/g/t1AAAOSw7aBjPIHp/s-l200.webp","alt","","srcset",""],["routerLink","/categories/jewelery",1,"category","col-6","col-md-3","d-flex","flex-column","justify-content-center","align-items-center"],["src","https://i.ebayimg.com/images/g/KTwAAOSwh9pjPIH0/s-l200.webp","alt","","srcset",""],[1,"section-best-sellers"],[1,"best-sellers-wrapper"],[1,"row","d-flex","justify-content-center","align-items-center"],["class","col-10 col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"row","start-displaying"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],[1,"card","start-displaying-card","d-flex","justify-content-center","align-items-center"],[1,"card-body","d-flex","flex-column","justify-content-center","align-items-center"],[1,"spinner"],[1,"card-text"],[1,"price"],[1,"section-see-all"],[1,"see-all-wrapper"],["ngbSlide",""],[1,"picsum-img-wrapper",2,"background-color","rgb(207,165,239)"],["alt","Random first slide",3,"src"],[1,"carousel-caption"],[1,"picsum-img-wrapper",2,"background-color","rgb(217,223,255)"],["alt","Random second slide",3,"src"],[1,"picsum-img-wrapper",2,"background-color","rgb(230,230,230)"],["alt","Random third slide",3,"src"],[1,"col-10","col-sm-6","col-md-4","col-lg-3"],[3,"productOnCard"],[3,"productOnCard","addToCardEvent"]],template:function(t,r){1&t&&(s._UZ(0,"app-header"),s.TgZ(1,"div",0),s.YNc(2,PDe,4,0,"ngb-carousel",1),s.qZA(),s.TgZ(3,"div",2)(4,"div",3)(5,"h3"),s._uU(6," Categories "),s.TgZ(7,"a",4)(8,"span",5),s._uU(9," See All "),s._UZ(10,"fa-icon",6),s.qZA()()(),s.TgZ(11,"div",7)(12,"div",8),s._UZ(13,"img",9),s.TgZ(14,"span",10),s._uU(15,"Eletronics"),s.qZA()(),s.TgZ(16,"div",11),s._UZ(17,"img",12),s.TgZ(18,"span",10),s._uU(19,"Action Figures"),s.qZA()(),s.TgZ(20,"div",11),s._UZ(21,"img",13),s.TgZ(22,"span",10),s._uU(23,"Home"),s.qZA()(),s.TgZ(24,"div",14),s._UZ(25,"img",15),s.TgZ(26,"span",10),s._uU(27,"Jewelery & Acessories"),s.qZA()()()(),s._UZ(28,"hr"),s.TgZ(29,"div",16)(30,"h3"),s._uU(31," Best Sellers "),s.qZA(),s.TgZ(32,"div",17)(33,"div",18),s.YNc(34,RDe,2,1,"div",19),s.qZA(),s.TgZ(35,"div",20)(36,"div",21)(37,"div",22)(38,"div",23),s._UZ(39,"div",24)(40,"p",25)(41,"div",26),s.qZA()()(),s.TgZ(42,"div",21)(43,"div",22)(44,"div",23),s._UZ(45,"div",24)(46,"p",25)(47,"div",26),s.qZA()()(),s.TgZ(48,"div",21)(49,"div",22)(50,"div",23),s._UZ(51,"div",24)(52,"p",25)(53,"div",26),s.qZA()()(),s.TgZ(54,"div",21)(55,"div",22)(56,"div",23),s._UZ(57,"div",24)(58,"p",25)(59,"div",26),s.qZA()()()()()(),s._UZ(60,"hr"),s.TgZ(61,"div",27)(62,"h3"),s._uU(63," All Products "),s.qZA(),s.TgZ(64,"div",28)(65,"div",18),s.YNc(66,FDe,2,1,"div",19),s.qZA(),s.TgZ(67,"div",20)(68,"div",21)(69,"div",22)(70,"div",23),s._UZ(71,"div",24)(72,"p",25)(73,"div",26),s.qZA()()(),s.TgZ(74,"div",21)(75,"div",22)(76,"div",23),s._UZ(77,"div",24)(78,"p",25)(79,"div",26),s.qZA()()(),s.TgZ(80,"div",21)(81,"div",22)(82,"div",23),s._UZ(83,"div",24)(84,"p",25)(85,"div",26),s.qZA()()(),s.TgZ(86,"div",21)(87,"div",22)(88,"div",23),s._UZ(89,"div",24)(90,"p",25)(91,"div",26),s.qZA()()()()()()(),s._UZ(92,"app-footer")),2&t&&(s.xp6(2),s.Q6J("ngIf",r.images),s.xp6(8),s.Q6J("icon",r.faArrowCircleRight),s.xp6(24),s.Q6J("ngForOf",r.bestSellerProduct),s.xp6(32),s.Q6J("ngForOf",r.productList))},dependencies:[Fn,Gt,E1,si,xO,uE,tie,po,go,y9,YC],styles:[".container-fluid[_ngcontent-%COMP%]{padding:0;margin:0}.container[_ngcontent-%COMP%]{padding-bottom:2rem}.ngb-carousel[_ngcontent-%COMP%]{width:100%;border:1px solid black;outline:none}  .carousel-control-prev-icon{background-image:url(https://apufpel.com.br/assets/img/seta_prim.png)!important}  .carousel-control-next-icon{background-image:url(https://apufpel.com.br/assets/img/seta_ult.png)!important}.picsum-img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:45vh;object-fit:contain}.section-categories[_ngcontent-%COMP%]{padding-top:3.5rem;font-family:Merriweather,serif;padding-bottom:5rem}.section-categories[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .section-best-sellers[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .section-see-all[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:2.1rem;padding-bottom:1rem}.section-see-all[_ngcontent-%COMP%]{padding-top:3rem}.categories-wrapper[_ngcontent-%COMP%], .best-sellers-wrapper[_ngcontent-%COMP%], .see-all-wrapper[_ngcontent-%COMP%]{width:100%}#category-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.6}#category-disabled[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{text-decoration:none}.category[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;max-width:80%}.category-description[_ngcontent-%COMP%]{font-family:Merriweather,serif;font-weight:700;padding-top:.5rem}.category[_ngcontent-%COMP%]{cursor:pointer;margin-top:.6rem}.category[_ngcontent-%COMP%]:hover:not(#category-disabled)   .category-description[_ngcontent-%COMP%]{text-decoration:underline}.category[_ngcontent-%COMP%]:hover:not(#category-disabled)   img[_ngcontent-%COMP%]{transition:.5s;max-width:82%}.see-all[_ngcontent-%COMP%]{font-size:1.4rem;color:#000;border-left:3px solid rgba(128,128,128,.493);padding-left:.4rem;vertical-align:middle;transition:1s!important}.see-all[_ngcontent-%COMP%]:hover{text-decoration:underline}.section-best-sellers[_ngcontent-%COMP%]{padding-top:3.5rem;font-family:Merriweather,serif;padding-bottom:5rem}.card-img-top[_ngcontent-%COMP%]{height:200px;width:auto;object-fit:contain}.card-text[_ngcontent-%COMP%]{font-size:.8rem;font-weight:400;text-align:center;transition:opacity 1s ease-out;opacity:0;height:0;overflow:hidden}.price[_ngcontent-%COMP%]{font-weight:400;opacity:1;padding-bottom:1rem;display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]{cursor:pointer;min-width:170px;margin-bottom:2rem}.card[_ngcontent-%COMP%]:hover   .card-text[_ngcontent-%COMP%]{display:block;opacity:.8;height:auto}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-left-color:#22a6b3;height:60px;width:60px;border-radius:50%;animation:spin 1s linear infinite;margin-top:3rem;margin-bottom:3rem}@keyframes spin{to{transform:rotate(360deg)}}.start-displaying-card[_ngcontent-%COMP%]{cursor:default}.start-displaying-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{opacity:.4;cursor:default}hr[_ngcontent-%COMP%]{border:0;height:1px;background:#333;width:100%;background-image:linear-gradient(to right,#ccc,rgb(26,26,26),#ccc)}@media (max-width: 770px){.category-description[_ngcontent-%COMP%]{font-size:.9rem;margin-left:1rem;margin-right:1rem;text-align:center}}@media (max-width: 570px){.section-categories[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .section-best-sellers[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .section-see-all[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem}.picsum-img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:30vh}}"]}),n})();var L2={prefix:"far",iconName:"star",icon:[576,512,[11088,61446],"f005","M287.9 0C297.1 0 305.5 5.25 309.5 13.52L378.1 154.8L531.4 177.5C540.4 178.8 547.8 185.1 550.7 193.7C553.5 202.4 551.2 211.9 544.8 218.2L433.6 328.4L459.9 483.9C461.4 492.9 457.7 502.1 450.2 507.4C442.8 512.7 432.1 513.4 424.9 509.1L287.9 435.9L150.1 509.1C142.9 513.4 133.1 512.7 125.6 507.4C118.2 502.1 114.5 492.9 115.1 483.9L142.2 328.4L31.11 218.2C24.65 211.9 22.36 202.4 25.2 193.7C28.03 185.1 35.5 178.8 44.49 177.5L197.7 154.8L266.3 13.52C270.4 5.249 278.7 0 287.9 0L287.9 0zM287.9 78.95L235.4 187.2C231.9 194.3 225.1 199.3 217.3 200.5L98.98 217.9L184.9 303C190.4 308.5 192.9 316.4 191.6 324.1L171.4 443.7L276.6 387.5C283.7 383.7 292.2 383.7 299.2 387.5L404.4 443.7L384.2 324.1C382.9 316.4 385.5 308.5 391 303L476.9 217.9L358.6 200.5C350.7 199.3 343.9 194.3 340.5 187.2L287.9 78.95z"]};const Qxe=(n,e)=>(n.push(e),n);class eW{}const Ra="*";function eAe(n,e){return{type:7,name:n,definitions:e,options:{}}}function tW(n,e=null){return{type:4,styles:e,timings:n}}function nW(n,e=null){return{type:2,steps:n,options:e}}function JC(n){return{type:6,styles:n,offset:null}}function rW(n,e,t){return{type:0,name:n,styles:e,options:t}}function iW(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function sW(n){Promise.resolve().then(n)}class b9{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){sW(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class oW{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?sW(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==o&&this._onFinish()}),l.onDestroy(()=>{++r==o&&this._onDestroy()}),l.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,d)=>Math.max(l,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function tAe(n,e){}const nAe=function(n,e){return{$implicit:n,index:e}};function rAe(n,e){if(1&n&&s.YNc(0,tAe,0,0,"ng-template",4),2&n){const t=s.oxw(),r=t.$implicit,i=t.index,o=s.oxw();s.Q6J("ngTemplateOutlet",r.tplRef)("ngTemplateOutletContext",s.WLB(2,nAe,o.preparePublicSlide(r),i))}}const iAe=function(n,e,t,r){return{width:n,"margin-left":e,"margin-right":t,left:r}};function sAe(n,e){if(1&n){const t=s.EpF();s.ynx(0),s.TgZ(1,"div",2),s.NdJ("animationend",function(){const o=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.clear(o.id))}),s.YNc(2,rAe,1,5,null,3),s.qZA(),s.BQk()}if(2&n){const t=e.$implicit;s.xp6(1),s.Q6J("ngClass",t.classes)("ngStyle",s.l5B(4,iAe,t.width+"px",t.marginL?t.marginL+"px":"",t.marginR?t.marginR+"px":"",t.left))("@autoHeight",t.heightState),s.xp6(1),s.Q6J("ngIf",t.load)}}const oAe=function(n,e,t,r,i){return{width:n,transform:e,transition:t,"padding-left":r,"padding-right":i}},aAe=function(n,e){return{isMouseDragable:n,isTouchDragable:e}};function cAe(n,e){if(1&n&&(s.TgZ(0,"div",4),s._UZ(1,"owl-stage",5),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("owlDraggable",s.WLB(3,aAe,null==t.owlDOMData?null:t.owlDOMData.isMouseDragable,null==t.owlDOMData?null:t.owlDOMData.isTouchDragable))("stageData",t.stageData)("slidesData",t.slidesData)}}const lAe=function(n,e){return{active:n,"owl-dot-text":e}};function uAe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",11),s.NdJ("click",function(){const o=s.CHM(t).$implicit,l=s.oxw(2);return s.KtG(l.moveByDot(o.id))}),s._UZ(1,"span",12),s.qZA()}if(2&n){const t=e.$implicit;s.Q6J("ngClass",s.WLB(2,lAe,t.active,t.showInnerContent)),s.xp6(1),s.Q6J("innerHTML",t.innerContent,s.oJD)}}const XC=function(n){return{disabled:n}};function dAe(n,e){if(1&n){const t=s.EpF();s.ynx(0),s.TgZ(1,"div",6)(2,"div",7),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.prev())}),s.qZA(),s.TgZ(3,"div",8),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.next())}),s.qZA()(),s.TgZ(4,"div",9),s.YNc(5,uAe,2,5,"div",10),s.qZA(),s.BQk()}if(2&n){const t=s.oxw();s.xp6(1),s.Q6J("ngClass",s.VKq(7,XC,null==t.navData?null:t.navData.disabled)),s.xp6(1),s.Q6J("ngClass",s.VKq(9,XC,null==t.navData||null==t.navData.prev?null:t.navData.prev.disabled))("innerHTML",null==t.navData||null==t.navData.prev?null:t.navData.prev.htmlText,s.oJD),s.xp6(1),s.Q6J("ngClass",s.VKq(11,XC,null==t.navData||null==t.navData.next?null:t.navData.next.disabled))("innerHTML",null==t.navData||null==t.navData.next?null:t.navData.next.htmlText,s.oJD),s.xp6(1),s.Q6J("ngClass",s.VKq(13,XC,null==t.dotsData?null:t.dotsData.disabled)),s.xp6(1),s.Q6J("ngForOf",null==t.dotsData?null:t.dotsData.dots)}}const fAe=function(n,e,t,r,i){return{"owl-rtl":n,"owl-loaded":e,"owl-responsive":t,"owl-drag":r,"owl-grab":i}};class hAe{constructor(){this.items=3,this.skip_validateItems=!1,this.loop=!1,this.center=!1,this.rewind=!1,this.mouseDrag=!0,this.touchDrag=!0,this.pullDrag=!0,this.freeDrag=!1,this.margin=0,this.stagePadding=0,this.merge=!1,this.mergeFit=!0,this.autoWidth=!1,this.startPosition=0,this.rtl=!1,this.smartSpeed=250,this.fluidSpeed=!1,this.dragEndSpeed=!1,this.responsive={},this.responsiveRefreshRate=200,this.nav=!1,this.navText=["prev","next"],this.navSpeed=!1,this.slideBy=1,this.dots=!0,this.dotsEach=!1,this.dotsData=!1,this.dotsSpeed=!1,this.autoplay=!1,this.autoplayTimeout=5e3,this.autoplayHoverPause=!1,this.autoplaySpeed=!1,this.autoplayMouseleaveTimeout=1,this.lazyLoad=!1,this.lazyLoadEager=0,this.slideTransition="",this.animateOut=!1,this.animateIn=!1,this.autoHeight=!1,this.URLhashListener=!1}}class pAe{constructor(){this.items="number",this.skip_validateItems="boolean",this.loop="boolean",this.center="boolean",this.rewind="boolean",this.mouseDrag="boolean",this.touchDrag="boolean",this.pullDrag="boolean",this.freeDrag="boolean",this.margin="number",this.stagePadding="number",this.merge="boolean",this.mergeFit="boolean",this.autoWidth="boolean",this.startPosition="number|string",this.rtl="boolean",this.smartSpeed="number",this.fluidSpeed="boolean",this.dragEndSpeed="number|boolean",this.responsive={},this.responsiveRefreshRate="number",this.nav="boolean",this.navText="string[]",this.navSpeed="number|boolean",this.slideBy="number|string",this.dots="boolean",this.dotsEach="number|boolean",this.dotsData="boolean",this.dotsSpeed="number|boolean",this.autoplay="boolean",this.autoplayTimeout="number",this.autoplayHoverPause="boolean",this.autoplaySpeed="number|boolean",this.autoplayMouseleaveTimeout="number",this.lazyLoad="boolean",this.lazyLoadEager="number",this.slideTransition="string",this.animateOut="string|boolean",this.animateIn="string|boolean",this.autoHeight="boolean",this.URLhashListener="boolean"}}let cA=(()=>{class n{constructor(t){this.errorHandler=t}log(t,...r){(0,s.X6Q)()&&console.log(t,...r)}error(t){this.errorHandler.handleError(t)}warn(t,...r){console.warn(t,...r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();var ey=(()=>(function(n){n.Event="event",n.State="state"}(ey||(ey={})),ey))(),f5=(()=>(function(n){n.Default="default",n.Inner="inner",n.Outer="outer"}(f5||(f5={})),f5))();let Fa=(()=>{class n{constructor(t){this.logger=t,this._viewSettingsShipper$=new Yt.x,this._initializedCarousel$=new Yt.x,this._changeSettingsCarousel$=new Yt.x,this._changedSettingsCarousel$=new Yt.x,this._translateCarousel$=new Yt.x,this._translatedCarousel$=new Yt.x,this._resizeCarousel$=new Yt.x,this._resizedCarousel$=new Yt.x,this._refreshCarousel$=new Yt.x,this._refreshedCarousel$=new Yt.x,this._dragCarousel$=new Yt.x,this._draggedCarousel$=new Yt.x,this.settings={items:0},this.owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1},this.stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0},this._items=[],this._widths=[],this._supress={},this._plugins={},this._current=null,this._clones=[],this._mergers=[],this._speed=null,this._coordinates=[],this._breakpoint=null,this.clonedIdPrefix="cloned-",this._options={},this._invalidated={},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},this._pipe=[{filter:["width","items","settings"],run:r=>{r.current=this._items&&this._items[this.relative(this._current)].id}},{filter:["width","items","settings"],run:r=>{const i=this.settings.margin||"",l=this.settings.rtl,d={"margin-left":l?i:"","margin-right":l?"":i};!this.settings.autoWidth||this.slidesData.forEach(p=>{p.marginL=d["margin-left"],p.marginR=d["margin-right"]}),r.css=d}},{filter:["width","items","settings"],run:r=>{const i=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,o=!this.settings.autoWidth,l=[];let d=null,p=this._items.length;for(r.items={merge:!1,width:i};p-- >0;)d=this._mergers[p],d=this.settings.mergeFit&&Math.min(d,this.settings.items)||d,r.items.merge=d>1||r.items.merge,l[p]=o?i*d:this._items[p].width?this._items[p].width:i;this._widths=l,this.slidesData.forEach((v,y)=>{v.width=this._widths[y],v.marginR=r.css["margin-right"],v.marginL=r.css["margin-left"]})}},{filter:["items","settings"],run:()=>{const r=[],i=this._items,o=this.settings,l=Math.max(2*o.items,4),d=2*Math.ceil(i.length/2);let p=[],v=[],y=o.loop&&i.length?o.rewind?l:Math.max(l,d):0;for(y/=2;y-- >0;)r.push(this.normalize(r.length/2,!0)),p.push({...this.slidesData[r[r.length-1]]}),r.push(this.normalize(i.length-1-(r.length-1)/2,!0)),v.unshift({...this.slidesData[r[r.length-1]]});this._clones=r,p=p.map(D=>(D.id=`${this.clonedIdPrefix}${D.id}`,D.isActive=!1,D.isCloned=!0,D)),v=v.map(D=>(D.id=`${this.clonedIdPrefix}${D.id}`,D.isActive=!1,D.isCloned=!0,D)),this.slidesData=v.concat(this.slidesData).concat(p)}},{filter:["width","items","settings"],run:()=>{const r=this.settings.rtl?1:-1,i=this._clones.length+this._items.length,o=[];let l=-1,d=0,p=0;for(;++l<i;)d=o[l-1]||0,p=this._widths[this.relative(l)]+this.settings.margin,o.push(d+p*r);this._coordinates=o}},{filter:["width","items","settings"],run:()=>{const r=this.settings.stagePadding,i=this._coordinates,o={width:Math.ceil(Math.abs(i[i.length-1]))+2*r,"padding-left":r||"","padding-right":r||""};this.stageData.width=o.width,this.stageData.paddingL=o["padding-left"],this.stageData.paddingR=o["padding-right"]}},{filter:["width","items","settings"],run:r=>{let i=r.current?this.slidesData.findIndex(o=>o.id===r.current):0;i=Math.max(this.minimum(),Math.min(this.maximum(),i)),this.reset(i)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{const r=this.settings.rtl?1:-1,i=2*this.settings.stagePadding,o=[];let l,d,p,v,y,D;if(l=this.coordinates(this.current()),"number"==typeof l?l+=i:l=0,d=l+this.width()*r,-1===r&&this.settings.center){const x=this._coordinates.filter(H=>this.settings.items%2==1?H>=l:H>l);l=x.length?x[x.length-1]:l}for(y=0,D=this._coordinates.length;y<D;y++)p=Math.ceil(this._coordinates[y-1]||0),v=Math.ceil(Math.abs(this._coordinates[y])+i*r),(this._op(p,"<=",l)&&this._op(p,">",d)||this._op(v,"<",l)&&this._op(v,">",d))&&o.push(y);this.slidesData.forEach(x=>(x.isActive=!1,x)),o.forEach(x=>{this.slidesData[x].isActive=!0}),this.settings.center&&(this.slidesData.forEach(x=>(x.isCentered=!1,x)),this.slidesData[this.current()].isCentered=!0)}}]}get invalidated(){return this._invalidated}get states(){return this._states}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(t){const r=new hAe,i=this._validateOptions(t,r);this._options={...r,...i}}_validateOptions(t,r){const i={...t},o=new pAe,l=(d,p)=>(this.logger.log(`options.${p} must be type of ${d}; ${p}=${t[p]} skipped to defaults: ${p}=${r[p]}`),r[p]);for(const d in i)if(i.hasOwnProperty(d))if("number"===o[d])this._isNumeric(i[d])?(i[d]=+i[d],i[d]="items"===d?this._validateItems(i[d],i.skip_validateItems):i[d]):i[d]=l(o[d],d);else if("boolean"===o[d]&&"boolean"!=typeof i[d])i[d]=l(o[d],d);else if("number|boolean"!==o[d]||this._isNumberOrBoolean(i[d]))if("number|string"!==o[d]||this._isNumberOrString(i[d]))if("string|boolean"!==o[d]||this._isStringOrBoolean(i[d])){if("string[]"===o[d])if(Array.isArray(i[d])){let p=!1;i[d].forEach(v=>{p="string"==typeof v}),p||(i[d]=l(o[d],d))}else i[d]=l(o[d],d)}else i[d]=l(o[d],d);else i[d]=l(o[d],d);else i[d]=l(o[d],d);return i}_validateItems(t,r){let i=t;return t>this._items.length?r?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(i=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):t===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),i}setCarouselWidth(t){this._width=t}setup(t,r,i){this.setCarouselWidth(t),this.setItems(r),this._defineSlidesData(),this.setOptions(i),this.settings={...this._options},this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){const t=this._width,r=this._options.responsive;let i=-1;if(!Object.keys(r).length)return;if(!t)return void(this.settings.items=1);for(const l in r)r.hasOwnProperty(l)&&+l<=t&&+l>i&&(i=Number(l));this.settings={...this._options,...r[i],items:r[i]&&r[i].items?this._validateItems(r[i].items,this._options.skip_validateItems):this._options.items},delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;const o=[];this._items.forEach(l=>{o.push(this.settings.merge?l.dataMerge:1)}),this._mergers=o,this._breakpoint=i,this.invalidate("settings")}initialize(t){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),t.forEach(r=>{this._mergers.push(this.settings.merge?r.dataMerge:1)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let t=0;const r=this._pipe.length,i=l=>this._invalidated[l],o={};for(;t<r;){const l=this._pipe[t].filter.filter(i);(this._invalidated.all||l.length>0)&&this._pipe[t].run(o),t++}this.slidesData.forEach(l=>l.classes=this.setCurSlideClasses(l)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(t){switch(t=t||f5.Default){case f5.Inner:case f5.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(t){if(!this._items.length)return!1;this.setCarouselWidth(t),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(t){let i,r=null;return i=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),r={x:+i[0],y:+i[1]},this.is("animating")&&this.invalidate("position"),"mousedown"===t.type&&(this.owlDOMData.isGrab=!0),this.speed(0),r}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(t,r){let i=null,o=null,l=null;const d=this.difference(r.pointer,this.pointer(t)),p=this.difference(r.stage.start,d);return!!this.is("dragging")&&(this.settings.loop?(i=this.coordinates(this.minimum()),o=+this.coordinates(this.maximum()+1)-i,p.x=((p.x-i)%o+o)%o+i):(i=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),o=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),l=this.settings.pullDrag?-1*d.x/5:0,p.x=Math.max(Math.min(p.x,i+l),o+l)),p)}finishDragging(t,r,i){const l=this.difference(r.pointer,this.pointer(t)),d=r.stage.current,p=["right","left"][+(this.settings.rtl?l.x<+this.settings.rtl:l.x>+this.settings.rtl)];let v,y,D;(0!==l.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),v=this.closest(d.x,0!==l.x?p:r.direction),y=this.current(),D=this.current(-1===v?void 0:v),y!==D&&(this.invalidate("position"),this.update()),r.direction=p,(Math.abs(l.x)>3||(new Date).getTime()-r.time>300)&&i()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(t,r){const o=this.width();let l=this.coordinates(),d=-1;this.settings.center&&(l=l.map(p=>(0===p&&(p+=1e-6),p)));for(let p=0;p<l.length&&("left"===r&&t>l[p]-30&&t<l[p]+30?d=p:"right"===r&&t>l[p]-o-30&&t<l[p]-o+30?d=p+1:this._op(t,"<",l[p])&&this._op(t,">",l[p+1]||l[p]-o)?d="left"===r?p+1:p:null===r&&t>l[p]-30&&t<l[p]+30&&(d=p),-1===d);p++);return this.settings.loop||(this._op(t,">",l[this.minimum()])?d=t=this.minimum():this._op(t,"<",l[this.maximum()])&&(d=t=this.maximum())),d}animate(t){const r=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),r&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+t+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(t){return this._states.current[t]&&this._states.current[t]>0}current(t){return void 0===t?this._current:0!==this._items.length?(t=this.normalize(t),this._current!==t&&(this._trigger("change",{property:{name:"position",value:t}}),this._current=t,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0}invalidate(t){return"string"==typeof t&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this._suppress(["translate","translated"]),this.animate(this.coordinates(t)),this._release(["translate","translated"]))}normalize(t,r){const i=this._items.length,o=r?0:this._clones.length;return!this._isNumeric(t)||i<1?t=void 0:(t<0||t>=i+o)&&(t=((t-o/2)%i+i)%i+o/2),t}relative(t){return this.normalize(t-=this._clones.length/2,!0)}maximum(t=!1){const r=this.settings;let o,l,d,i=this._coordinates.length;if(r.loop)i=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){for(o=this._items.length,l=this.slidesData[--o].width,d=this._width;o-- >0&&(l+=+this.slidesData[o].width+this.settings.margin,!(l>d)););i=o+1}else i=r.center?this._items.length-1:this._items.length-r.items;return t&&(i-=this._clones.length/2),Math.max(i,0)}minimum(t=!1){return t?0:this._clones.length/2}items(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),[this._items[t]])}mergers(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])}clones(t){const r=this._clones.length/2,i=r+this._items.length,o=l=>l%2==0?i+l/2:r-(l+1)/2;return void 0===t?this._clones.map((l,d)=>o(d)):this._clones.map((l,d)=>l===t?o(d):null).filter(l=>l)}speed(t){return void 0!==t&&(this._speed=t),this._speed}coordinates(t){let o,l,r=1,i=t-1;return void 0===t?(l=this._coordinates.map((d,p)=>this.coordinates(p)),l):(this.settings.center?(this.settings.rtl&&(r=-1,i=t+1),o=this._coordinates[t],o+=(this.width()-o+(this._coordinates[i]||0))/2*r):o=this._coordinates[i]||0,o=Math.ceil(o),o)}_duration(t,r,i){return 0===i?0:Math.min(Math.max(Math.abs(r-t),1),6)*Math.abs(+i||this.settings.smartSpeed)}to(t,r){let i=this.current(),o=null,l=t-this.relative(i),d=this.maximum(),p=0;const v=+(l>0)-+(l<0),y=this._items.length,D=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(l)>y/2&&(l+=-1*v*y),o=(((t=i+l)-D)%y+y)%y+D,o!==t&&o-l<=d&&o-l>0&&(i=o-l,t=o,p=30,this.reset(i),this.sendChanges())):this.settings.rewind?(d+=1,t=(t%d+d)%d):t=Math.max(D,Math.min(d,t)),setTimeout(()=>{this.speed(this._duration(i,t,r)),this.current(t),this.update()},p)}next(t){t=t||!1,this.to(this.relative(this.current())+1,t)}prev(t){t=t||!1,this.to(this.relative(this.current())-1,t)}onTransitionEnd(t){if(void 0!==t)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let t;return this._width?t=this._width:this.logger.log("Can not detect viewport width."),t}setItems(t){this._items=t}_defineSlidesData(){let t;this.slidesData&&this.slidesData.length&&(t=new Map,this.slidesData.forEach(r=>{r.load&&t.set(r.id,r.load)})),this.slidesData=this._items.map(r=>({id:`${r.id}`,isActive:!1,tplRef:r.tplRef,dataMerge:r.dataMerge,width:0,isCloned:!1,load:!!t&&t.get(r.id),hashFragment:r.dataHash}))}setCurSlideClasses(t){const r={active:t.isActive,center:t.isCentered,cloned:t.isCloned,animated:t.isAnimated,"owl-animated-in":t.isDefAnimatedIn,"owl-animated-out":t.isDefAnimatedOut};return this.settings.animateIn&&(r[this.settings.animateIn]=t.isCustomAnimatedIn),this.settings.animateOut&&(r[this.settings.animateOut]=t.isCustomAnimatedOut),r}_op(t,r,i){const o=this.settings.rtl;switch(r){case"<":return o?t>i:t<i;case">":return o?t<i:t>i;case">=":return o?t<=i:t>=i;case"<=":return o?t>=i:t<=i}}_trigger(t,r,i,o,l){switch(t){case"initialized":this._initializedCarousel$.next(t);break;case"change":this._changeSettingsCarousel$.next(r);break;case"changed":this._changedSettingsCarousel$.next(r);break;case"drag":this._dragCarousel$.next(t);break;case"dragged":this._draggedCarousel$.next(t);break;case"resize":this._resizeCarousel$.next(t);break;case"resized":this._resizedCarousel$.next(t);break;case"refresh":this._refreshCarousel$.next(t);break;case"refreshed":this._refreshedCarousel$.next(t);break;case"translate":this._translateCarousel$.next(t);break;case"translated":this._translatedCarousel$.next(t)}}enter(t){[t].concat(this._states.tags[t]||[]).forEach(r=>{void 0===this._states.current[r]&&(this._states.current[r]=0),this._states.current[r]++})}leave(t){[t].concat(this._states.tags[t]||[]).forEach(r=>{(0===this._states.current[r]||this._states.current[r])&&this._states.current[r]--})}register(t){t.type===ey.State&&(this._states.tags[t.name]=this._states.tags[t.name]?this._states.tags[t.name].concat(t.tags):t.tags,this._states.tags[t.name]=this._states.tags[t.name].filter((r,i)=>this._states.tags[t.name].indexOf(r)===i))}_suppress(t){t.forEach(r=>{this._supress[r]=!0})}_release(t){t.forEach(r=>{delete this._supress[r]})}pointer(t){const r={x:null,y:null};return(t=(t=t.originalEvent||t||window.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r}_isNumeric(t){return!isNaN(parseFloat(t))}_isNumberOrBoolean(t){return this._isNumeric(t)||"boolean"==typeof t}_isNumberOrString(t){return this._isNumeric(t)||"string"==typeof t}_isStringOrBoolean(t){return"string"==typeof t||"boolean"==typeof t}difference(t,r){return null===t||null===r?{x:0,y:0}:{x:t.x-r.x,y:t.y-r.y}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(cA))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),aW=(()=>{class n{constructor(t){this.carouselService=t,this._initialized=!1,this._pages=[],this._navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}},this._dotsData={disabled:!1,dots:[]},this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe(Ht(l=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),r=this.carouselService.getChangedState().pipe(gn(l=>"position"===l.property.name),Ht(l=>{this.update()})),i=this.carouselService.getRefreshedState().pipe(Ht(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),o=(0,as.T)(t,r,i);this.navSubscription=o.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let t,r,i;const o=this.carouselService.clones().length/2,l=o+this.carouselService.items().length,d=this.carouselService.maximum(!0),p=[],v=this.carouselService.settings;let y=v.center||v.autoWidth||v.dotsData?1:Math.floor(Number(v.dotsEach))||Math.floor(v.items);if(y=+y,"page"!==v.slideBy&&(v.slideBy=Math.min(+v.slideBy,v.items)),v.dots||"page"===v.slideBy)for(t=o,r=0,i=0;t<l;t++){if(r>=y||0===r){if(p.push({start:Math.min(d,t-o),end:t-o+y-1}),Math.min(d,t-o)===d)break;r=0,++i}r+=this.carouselService.mergers(this.carouselService.relative(t))}this._pages=p}draw(){let t;const r=this.carouselService.settings,i=this.carouselService.items(),o=i.length<=r.items;if(this._navData.disabled=!r.nav||o,this._dotsData.disabled=!r.dots||o,r.dots)if(t=this._pages.length-this._dotsData.dots.length,r.dotsData&&0!==t)this._dotsData.dots=[],i.forEach(l=>{this._dotsData.dots.push({active:!1,id:`dot-${l.id}`,innerContent:l.dotContent,showInnerContent:!0})});else if(t>0){const l=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let d=0;d<t;d++)this._dotsData.dots.push({active:!1,id:`dot-${d+l}`,innerContent:"",showInnerContent:!1})}else t<0&&this._dotsData.dots.splice(t,Math.abs(t));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){const t=this.carouselService.settings,r=t.loop||t.rewind,i=this.carouselService.relative(this.carouselService.current());t.nav&&(this._navData.prev.disabled=!r&&i<=this.carouselService.minimum(!0),this._navData.next.disabled=!r&&i>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let t;!this.carouselService.settings.dots||(this._dotsData.dots.forEach(r=>{!0===r.active&&(r.active=!1)}),t=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[t].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){const t=this.carouselService.relative(this.carouselService.current());let r;const i=this._pages.filter((o,l)=>o.start<=t&&o.end>=t).pop();return r=this._pages.findIndex(o=>o.start===i.start&&o.end===i.end),r}_getPosition(t){let r,i;const o=this.carouselService.settings;return"page"===o.slideBy?(r=this._current(),i=this._pages.length,t?++r:--r,r=this._pages[(r%i+i)%i].start):(r=this.carouselService.relative(this.carouselService.current()),i=this.carouselService.items().length,t?r+=+o.slideBy:r-=+o.slideBy),r}next(t){this.carouselService.to(this._getPosition(!0),t)}prev(t){this.carouselService.to(this._getPosition(!1),t)}to(t,r,i){let o;!i&&this._pages.length?(o=this._pages.length,this.carouselService.to(this._pages[(t%o+o)%o].start,r)):this.carouselService.to(t,r)}moveByDot(t){const r=this._dotsData.dots.findIndex(i=>t===i.id);this.to(r,this.carouselService.settings.dotsSpeed)}toSlideById(t){const r=this.carouselService.slidesData.findIndex(i=>i.id===t&&!1===i.isCloned);-1===r||r===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(r),!1)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fa))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const cW=new s.OlP("WindowToken");class lA{get nativeWindow(){throw new Error("Not implemented.")}}let gAe=(()=>{class n extends lA{constructor(){super()}get nativeWindow(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const _Ae={provide:cW,useFactory:function mAe(n,e){return Q2(e)?n.nativeWindow:{setTimeout:(r,i)=>{},clearTimeout:r=>{}}},deps:[lA,s.Lbi]},CAe=[{provide:lA,useClass:gAe},_Ae],uA=new s.OlP("DocumentToken");class dA{get nativeDocument(){throw new Error("Not implemented.")}}let yAe=(()=>{class n extends dA{constructor(){super()}get nativeDocument(){return document}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const wAe={provide:uA,useFactory:function bAe(n,e){return Q2(e)?n.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[dA,s.Lbi]},SAe=[{provide:dA,useClass:yAe},wAe];let lW=(()=>{class n{constructor(t,r,i,o){this.carouselService=t,this.ngZone=o,this._timeout=null,this._paused=!1,this._isAutoplayStopped=!1,this.winRef=r,this.docRef=i,this.spyDataStreams()}get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(t){this._isAutoplayStopped=t}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe(Ht(()=>{this.carouselService.settings.autoplay&&this.play()})),r=this.carouselService.getChangedState().pipe(Ht(l=>{this._handleChangeObservable(l)})),i=this.carouselService.getResizedState().pipe(Ht(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),o=(0,as.T)(t,r,i);this.autoplaySubscription=o.subscribe(()=>{})}play(t,r){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(t,r){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!t,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(r||this.carouselService.settings.autoplaySpeed)})},t||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(t){this._timeout=this._getNextTimeout(t)}stop(){!this.carouselService.is("rotating")||(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){!this.carouselService.is("rotating")||(this._paused=!0)}_handleChangeObservable(t){"settings"===t.property.name?this.carouselService.settings.autoplay?this.play():this.stop():"position"===t.property.name&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){tt("translated").pipe(_n(t=>this.carouselService.getTranslatedState()),Tr(),gn(()=>this._isArtificialAutoplayTimeout),Ht(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fa),s.LFG(cW),s.LFG(uA),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),uW=(()=>{class n{constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe(Ht(()=>{const l=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(d=>d.load=!!l)})),r=this.carouselService.getChangeState(),i=this.carouselService.getResizedState(),o=(0,as.T)(t,r,i).pipe(Ht(l=>this._defineLazyLoadSlides(l)));this.lazyLoadSubscription=o.subscribe(()=>{})}_defineLazyLoadSlides(t){if(this.carouselService.settings&&this.carouselService.settings.lazyLoad&&(t.property&&"position"===t.property.name||"initialized"===t||"resized"===t)){const r=this.carouselService.settings,i=this.carouselService.clones().length;let o=r.center&&Math.ceil(r.items/2)||r.items,l=r.center&&-1*o||0,d=(t.property&&void 0!==t.property.value?t.property.value:this.carouselService.current())+l;for(r.lazyLoadEager>0&&(o+=r.lazyLoadEager,r.loop&&(d-=r.lazyLoadEager,o++));l++<o;)this._load(i/2+this.carouselService.relative(d)),i&&this.carouselService.clones(this.carouselService.relative(d)).forEach(p=>this._load(p)),d++}}_load(t){this.carouselService.slidesData[t].load||(this.carouselService.slidesData[t].load=!0)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fa))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),fA=(()=>{class n{constructor(t){this.carouselService=t,this.swapping=!0,this.previous=void 0,this.next=void 0,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getChangeState().pipe(Ht(v=>{"position"===v.property.name&&(this.previous=this.carouselService.current(),this.next=v.property.value)})),r=this.carouselService.getDragState(),i=this.carouselService.getDraggedState(),o=this.carouselService.getTranslatedState(),l=(0,as.T)(r,i,o).pipe(Ht(v=>this.swapping="translated"===v)),d=this.carouselService.getTranslateState().pipe(Ht(v=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),p=(0,as.T)(t,d,l).pipe();this.animateSubscription=p.subscribe(()=>{})}_swap(){if(1!==this.carouselService.settings.items)return;let t;this.carouselService.speed(0);const r=this.carouselService.slidesData[this.previous],i=this.carouselService.slidesData[this.next],o=this.carouselService.settings.animateIn,l=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(l&&(t=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(d=>{d.id===r.id&&(d.left=`${t}px`,d.isAnimated=!0,d.isDefAnimatedOut=!0,d.isCustomAnimatedOut=!0)})),o&&this.carouselService.slidesData.forEach(d=>{d.id===i.id&&(d.isAnimated=!0,d.isDefAnimatedIn=!0,d.isCustomAnimatedIn=!0)}))}clear(t){this.carouselService.slidesData.forEach(r=>{r.id===t&&(r.left="",r.isAnimated=!1,r.isDefAnimatedOut=!1,r.isCustomAnimatedOut=!1,r.isDefAnimatedIn=!1,r.isCustomAnimatedIn=!1,r.classes=this.carouselService.setCurSlideClasses(r))}),this.carouselService.onTransitionEnd()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fa))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),dW=(()=>{class n{constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe(Ht(l=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(d=>d.heightState="full")})),r=this.carouselService.getChangedState().pipe(Ht(l=>{this.carouselService.settings.autoHeight&&"position"===l.property.name&&this.update()})),i=this.carouselService.getRefreshedState().pipe(Ht(l=>{this.carouselService.settings.autoHeight&&this.update()})),o=(0,as.T)(t,r,i);this.autoHeightSubscription=o.subscribe(()=>{})}update(){const t=this.carouselService.settings.items;let r=this.carouselService.current(),i=r+t;this.carouselService.settings.center&&(r=t%2==1?r-(t-1)/2:r-t/2,i=t%2==1?r+t:r+t+1),this.carouselService.slidesData.forEach((o,l)=>{o.heightState=l>=r&&l<i?"full":"nulled"})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fa))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),fW=(()=>{class n{constructor(t,r,i){this.carouselService=t,this.route=r,this.router=i,this.spyDataStreams(),this.route||(this.route={fragment:tt("no route").pipe(On(1))}),this.router||(this.router={navigate:(o,l)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe(Ht(()=>this.listenToRoute())),r=this.carouselService.getChangedState().pipe(Ht(o=>{if(this.carouselService.settings.URLhashListener&&"position"===o.property.name){const l=this.carouselService.current(),d=this.carouselService.slidesData[l].hashFragment;if(!d||d===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:d,relativeTo:this.route})}})),i=(0,as.T)(t,r);this.hashSubscription=i.subscribe(()=>{})}rewind(t){const r=this.carouselService.slidesData.findIndex(i=>i.hashFragment===t&&!1===i.isCloned);-1===r||r===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(r),!1)}listenToRoute(){this.route.fragment.pipe(NT("URLHash"===this.carouselService.settings.startPosition?0:2)).subscribe(r=>{this.currentHashFragment=r,this.rewind(r)})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Fa),s.LFG(Er,8),s.LFG(Sn,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),DAe=0,hA=(()=>{class n{constructor(t){this.tplRef=t,this.id="owl-slide-"+DAe++,this._dataMerge=1,this.width=0,this.dotContent="",this.dataHash=""}set dataMerge(t){this._dataMerge=this.isNumeric(t)?t:1}get dataMerge(){return this._dataMerge}isNumeric(t){return!isNaN(parseFloat(t))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"}}),n})(),hW=(()=>{class n{constructor(t){this.eventManager=t,this.resizeSubject=new Yt.x,this.eventManager.addGlobalEventListener("window","resize",this.onResize.bind(this)),this.eventManager.addGlobalEventListener("window","onload",this.onLoaded.bind(this))}get onResize$(){return this.resizeSubject.asObservable()}onResize(t){this.resizeSubject.next(t.target)}onLoaded(t){this.windowWidth=t.target}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(bs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),TAe=(()=>{class n{constructor(t,r,i,o,l){this.zone=t,this.el=r,this.renderer=i,this.carouselService=o,this.animateService=l,this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this._oneDragMove$=new Yt.x,this.preparePublicSlide=d=>{const p={...d};return delete p.tplRef,p},this.bindOneMouseTouchMove=d=>{this._oneMouseTouchMove(d)},this.bindOnDragMove=d=>{this._onDragMove(d)},this.bindOnDragEnd=d=>{this._onDragEnd(d)},this._oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()}}onMouseDown(t){this.owlDraggable.isMouseDragable&&this._onDragStart(t)}onTouchStart(t){if(t.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(t)}onTouchCancel(t){this._onDragEnd(t)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe(Tr()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}_onDragStart(t){let r=null;3!==t.which&&(r=this._prepareDragging(t),this._drag.time=(new Date).getTime(),this._drag.target=t.target,this._drag.stage.start=r,this._drag.stage.current=r,this._drag.pointer=this._pointer(t),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(t){const r=this._difference(this._drag.pointer,this._pointer(t));this.listenerATag&&this.listenerATag(),!(Math.abs(r.x)<3&&Math.abs(r.y)<3&&this._is("valid"))&&(Math.abs(r.x)<3&&Math.abs(r.x)<Math.abs(r.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(t),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),t.preventDefault(),this._enterDragging(),this._oneDragMove$.next(t)))}blockClickAnchorInDragging(t){let r=t.target;for(;r&&!(r instanceof HTMLAnchorElement);)r=r.parentElement;r instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(r,"click",()=>!1))}_onDragMove(t){let r;const i=this.carouselService.defineNewCoordsDrag(t,this._drag);!1!==i&&(r=i,t.preventDefault(),this._drag.stage.current=r,this._animate(r.x-this._drag.stage.start.x))}_animate(t){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${t}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(t){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(t),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(t){return this.carouselService.prepareDragging(t)}_finishDragging(t){this.carouselService.finishDragging(t,this._drag,this._oneClickHandler)}_pointer(t){return this.carouselService.pointer(t)}_difference(t,r){return this.carouselService.difference(t,r)}_is(t){return this.carouselService.is(t)}_enter(t){this.carouselService.enter(t)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(t){this.animateService.clear(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(Fa),s.Y36(fA))},n.\u0275cmp=s.Xpm({type:n,selectors:[["owl-stage"]],hostBindings:function(t,r){1&t&&s.NdJ("mousedown",function(o){return r.onMouseDown(o)})("touchstart",function(o){return r.onTouchStart(o)})("touchcancel",function(o){return r.onTouchCancel(o)})("dragstart",function(){return r.onDragStart()})("selectstart",function(){return r.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"ngStyle","transitionend"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"ngClass","ngStyle","animationend"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(s.TgZ(0,"div")(1,"div",0),s.NdJ("transitionend",function(){return r.onTransitionEnd()}),s.YNc(2,sAe,3,9,"ng-container",1),s.qZA()()),2&t&&(s.xp6(1),s.Q6J("ngStyle",s.qbA(2,oAe,r.stageData.width+"px",r.stageData.transform,r.stageData.transition,r.stageData.paddingL?r.stageData.paddingL+"px":"",r.stageData.paddingR?r.stageData.paddingR+"px":"")),s.xp6(1),s.Q6J("ngForOf",r.slidesData))},dependencies:[rn,Fn,Gt,Lr,Ka],encapsulation:2,data:{animation:[eAe("autoHeight",[rW("nulled",JC({height:0})),rW("full",JC({height:"*"})),iW("full => nulled",[tW("700ms 350ms")]),iW("nulled => full",[tW(350)])])]}}),n})(),pW=(()=>{class n{constructor(t,r,i,o,l,d,p,v,y,D,x,H){this.el=t,this.resizeService=r,this.carouselService=i,this.navigationService=o,this.autoplayService=l,this.lazyLoadService=d,this.animateService=p,this.autoHeightService=v,this.hashService=y,this.logger=D,this.changeDetectorRef=x,this.translated=new s.vpe,this.dragging=new s.vpe,this.change=new s.vpe,this.changed=new s.vpe,this.initialized=new s.vpe,this.slidesData=[],this.carouselLoaded=!1,this.docRef=H}onVisibilityChange(t){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause()}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe(Ht(t=>{t.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,t.toArray(),this.options),this.carouselService.initialize(t.toArray())):(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered"))})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe(Ht(t=>{this.owlDOMData=t.owlDOMData,this.stageData=t.stageData,this.slidesData=t.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=t.navData,this.dotsData=t.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe(Ht(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe(Ht(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe(Ht(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe(_n(t=>{const r=tt(t).pipe(gn(()=>"position"===t.property.name),_n(()=>(0,on.D)(this.slidesData)),NT(t.property.value),On(this.carouselService.settings.items),(0,Ke.U)(i=>{const o=this.carouselService.clonedIdPrefix,l=i.id.indexOf(o)>=0?i.id.slice(o.length):i.id;return{...i,id:l,isActive:!0}}),function Jxe(){return(0,vn.e)((n,e)=>{(function Yxe(n,e){return(0,vn.e)(z3(n,e,arguments.length>=2,!1,!0))})(Qxe,[])(n).subscribe(e)})}(),(0,Ke.U)(i=>({slides:i,startPosition:this.carouselService.relative(t.property.value)})));return(0,as.T)(r)}),Ht(t=>{this.gatherTranslatedData(),this.changed.emit(t.slides.length?t:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe(Ht(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),_n(()=>this.carouselService.getDraggedState().pipe((0,Ke.U)(()=>!!this.carouselService.is("animating")))),_n(t=>t?this.carouselService.getTranslatedState().pipe(Tr()):tt("not animating")),Ht(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=(0,as.T)(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe(gn(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),AT(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){!this.carouselLoaded||this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){!this.carouselLoaded||this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(t){!this.carouselLoaded||this.navigationService.moveByDot(t)}to(t){!this.carouselLoaded||this.navigationService.toSlideById(t)}gatherTranslatedData(){let t;const r=this.carouselService.clonedIdPrefix,i=this.slidesData.filter(o=>!0===o.isActive).map(o=>({id:o.id.indexOf(r)>=0?o.id.slice(r.length):o.id,width:o.width,marginL:o.marginL,marginR:o.marginR,center:o.isCentered}));t=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:t,slides:i}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(hW),s.Y36(Fa),s.Y36(aW),s.Y36(lW),s.Y36(uW),s.Y36(fA),s.Y36(dW),s.Y36(fW),s.Y36(cA),s.Y36(s.sBO),s.Y36(uA))},n.\u0275cmp=s.Xpm({type:n,selectors:[["owl-carousel-o"]],contentQueries:function(t,r,i){if(1&t&&s.Suo(i,hA,4),2&t){let o;s.iGM(o=s.CRH())&&(r.slides=o)}},hostBindings:function(t,r){1&t&&s.NdJ("visibilitychange",function(o){return r.onVisibilityChange(o)},!1,s.evT)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[s._Bn([aW,lW,Fa,uW,fA,dW,fW]),s.TTD],decls:4,vars:9,consts:[[1,"owl-carousel","owl-theme",3,"ngClass","mouseover","mouseleave","touchstart","touchend"],["owlCarousel",""],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"ngClass","innerHTML","click"],[1,"owl-next",3,"ngClass","innerHTML","click"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"ngClass","click"],[3,"innerHTML"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0,1),s.NdJ("mouseover",function(){return r.startPausing()})("mouseleave",function(){return r.startPlayML()})("touchstart",function(){return r.startPausing()})("touchend",function(){return r.startPlayTE()}),s.YNc(2,cAe,2,6,"div",2),s.YNc(3,dAe,6,15,"ng-container",3),s.qZA()),2&t&&(s.Q6J("ngClass",s.qbA(3,fAe,null==r.owlDOMData?null:r.owlDOMData.rtl,null==r.owlDOMData?null:r.owlDOMData.isLoaded,null==r.owlDOMData?null:r.owlDOMData.isResponsive,null==r.owlDOMData?null:r.owlDOMData.isMouseDragable,null==r.owlDOMData?null:r.owlDOMData.isGrab)),s.xp6(2),s.Q6J("ngIf",r.carouselLoaded),s.xp6(1),s.Q6J("ngIf",r.slides.toArray().length))},dependencies:[rn,Fn,Gt,TAe],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),n})(),EAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[CAe,hW,SAe,cA],imports:[Y2]}),n})();function xAe(n,e){if(1&n&&s._UZ(0,"app-card-template",41),2&n){const t=s.oxw().$implicit;s.Q6J("productOnCard",t)}}function AAe(n,e){1&n&&s.YNc(0,xAe,1,1,"ng-template",40)}function NAe(n,e){if(1&n&&(s.TgZ(0,"owl-carousel-o",38),s.YNc(1,AAe,1,0,null,39),s.qZA()),2&n){const t=s.oxw();s.Q6J("options",t.customOptions),s.xp6(1),s.Q6J("ngForOf",t.similarProducts)}}let HAe=(()=>{class n{constructor(t,r,i,o,l,d){this.route=t,this.router=r,this.service=i,this.ProductService=o,this.userService=l,this.auth=d,this.faArrowCircleRight=PE,this.faArrowCircleLeft=iU,this.starFor1=i5,this.starFor2=i5,this.starFor3=i5,this.starFor4=i5,this.starFor5=i5,this.faStarHalf=s5,this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,navSpeed:800,navText:['<span class="fas fa-chevron-left fa-2x"></span>','<span class="fas fa-chevron-right fa-2x"></span>'],responsive:{0:{items:1},570:{items:1},740:{items:3},940:{items:3}},nav:!0,stagePadding:70}}ngOnInit(){this.route.params.subscribe(t=>{console.log("param: ",t),this.searchForProduct(t.id)}),this.adjustCarousel()}searchForProduct(t){this.service.fetchApiData().subscribe(r=>{document.getElementsByClassName("spinner")[0].style.display="none",this.product=r.filter(o=>o.id==t)[0],console.log("this.product: ",this.product),this.ProductPriceDealer(this.product.price),this.productRate=this.product.rating.rate,console.log("this.productRate: ",this.productRate,typeof this.productRate),this.reviews=Math.round(this.product.rating.count/2),this.ratingStars(this.productRate),this.getProductsOfSameCategory(this.product.category)})}ratingStars(t){5!=t&&(t>=4.5&&t<5?this.starFor5=s5:t>=4&&t<4.5?this.starFor5=L2:t>=3.5&&t<4?(this.starFor5=L2,this.starFor4=s5):t>=3&&t<3.5?(this.starFor5=L2,this.starFor4=L2):t>=2.5&&t<3?(this.starFor5=L2,this.starFor4=L2,this.starFor3=s5):t>=2&&t<2.5||t>=1.5&&t<2?(this.starFor5=L2,this.starFor4=L2,this.starFor3=L2):t>=1&&t<1.5?(this.starFor5=L2,this.starFor4=L2,this.starFor3=L2,this.starFor2=s5):t<=1&&(this.starFor5=L2,this.starFor4=L2,this.starFor3=L2,this.starFor2=L2))}getProductsOfSameCategory(t){this.service.fetchApiData().subscribe(r=>{this.similarProducts=r.filter(i=>i.category==t),console.log("similarProducts: ",this.similarProducts)})}ProductPriceDealer(t){var r=t.toString();this.productPrice=r.includes(".")?r:r+".99"}onAddToCardEvent(t){this.productsOnCart+=1,console.log("this.productsOnCart: ",this.productsOnCart,"id: ",t),this.ProductService.addProductToUserList(t)}adjustCarousel(){document.body.clientWidth<=510&&(this.customOptions.nav=!1)}buyItNow(t){this.ProductService.resetUserList(),this.ProductService.addProductToUserList(t),console.log("user list: ",this.ProductService.productsSelected),this.router.navigate(["/buying"])}addToCartFirebase(){var t=this.auth.currentUser.uid;this.userService.getSpecificProductsOnCartList(t,this.product.id).subscribe(r=>{console.log("specificProduct: ",r.empty),console.log("specificProduct lentgh: ",Object.keys(r)),!0===r.empty&&this.userService.insertProductOnCartList(this.product.id,t,this.product.price).then(i=>{console.log("Produto adicionado \xe0 subcollection com sucesso!"),console.log(i)}).catch(i=>console.log("erro ao adicionar produto \xe0 subcollection: ",i))})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Er),s.Y36(Sn),s.Y36(Tl),s.Y36(KC),s.Y36(Ia),s.Y36(Hr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-product-page"]],decls:60,vars:15,consts:[[1,"container"],[1,"content-wrapper"],[1,"product-image","d-flex","justify-content-center","align-items-center"],["alt","","srcset","",3,"src"],[1,"spinner"],[1,"product-info","d-flex","flex-column"],[1,"info-header"],["id","sup-title"],["id","info-title"],[1,"info-content","d-flex","flex-column","justify-content-evenly"],["id","product-price"],["id","currency",1,"align-middle"],["id","product-rate"],["id","1st-star",3,"icon"],["id","2nd-star",3,"icon"],["id","3rd-star",3,"icon"],["id","4th-star",3,"icon"],["id","5th-star",3,"icon"],["id","rate-index"],[1,"buttons"],[1,"d-grid","gap-2","col-8","mx-auto"],["type","button",1,"btn","btn-dark","rounded-pill",3,"click"],["type","button",1,"btn","btn-primary","rounded-pill",3,"click"],[1,"product-general-info","d-flex","flex-column"],[1,"general-info-header","d-flex","flex-column","justify-content-center","align-items-center"],[1,"general-info-title-wrapper"],["id","general-info-title"],[1,"line-below"],["id","general-info-product-title",1,"text-center"],[1,"general-info-content"],[1,"info-content-section"],[1,"section-title"],[1,"section-p"],[1,"see-also","d-flex","flex-column"],[1,"see-also-header","d-flex","flex-column","justify-content-center","align-items-center"],[1,"see-also-title-wrapper"],["id","see-also-title"],["class","carousel-owl",3,"options",4,"ngIf"],[1,"carousel-owl",3,"options"],[4,"ngFor","ngForOf"],["carouselSlide",""],[3,"productOnCard"]],template:function(t,r){1&t&&(s._UZ(0,"app-header"),s.TgZ(1,"div",0)(2,"div",1)(3,"div",2),s._UZ(4,"img",3)(5,"div",4),s.qZA(),s.TgZ(6,"div",5)(7,"div",6)(8,"div",7),s._uU(9),s.qZA(),s.TgZ(10,"h3",8),s._uU(11),s.qZA()(),s.TgZ(12,"div",9)(13,"div",10)(14,"span",11),s._uU(15,"USD"),s.qZA(),s._uU(16),s.qZA(),s.TgZ(17,"div",12),s._UZ(18,"fa-icon",13)(19,"fa-icon",14)(20,"fa-icon",15)(21,"fa-icon",16)(22,"fa-icon",17),s.TgZ(23,"span",18),s._uU(24),s.qZA()(),s.TgZ(25,"div",19)(26,"div",20)(27,"button",21),s.NdJ("click",function(){return r.buyItNow(r.product.id)}),s._uU(28,"Buy It Now"),s.qZA(),s.TgZ(29,"button",22),s.NdJ("click",function(){return r.addToCartFirebase()}),s._uU(30,"Add to Cart"),s.qZA()()()()()(),s._UZ(31,"hr"),s.TgZ(32,"div",23)(33,"div",24)(34,"div",25)(35,"h3",26),s._uU(36,"About this item"),s.qZA(),s._UZ(37,"span",27),s.qZA(),s.TgZ(38,"h4",28),s._uU(39),s.qZA()(),s.TgZ(40,"div",29)(41,"div",30)(42,"h5",31),s._uU(43,"Category"),s.qZA(),s.TgZ(44,"p",32),s._uU(45),s.qZA()(),s.TgZ(46,"div",30)(47,"h5",31),s._uU(48,"Description"),s.qZA(),s.TgZ(49,"p",32),s._uU(50),s.qZA()()()(),s._UZ(51,"hr"),s.TgZ(52,"div",33)(53,"div",34)(54,"div",35)(55,"h3",36),s._uU(56,"See Also"),s.qZA(),s._UZ(57,"span",27),s.qZA()(),s.YNc(58,NAe,2,2,"owl-carousel-o",37),s.qZA()(),s._UZ(59,"app-simple-footer")),2&t&&(s.xp6(4),s.s9C("src",r.product.image,s.LSH),s.xp6(5),s.hij(" New | ",r.product.rating.count," selled. "),s.xp6(2),s.hij(" ",r.product.title," "),s.xp6(5),s.hij(" ",r.productPrice," "),s.xp6(2),s.Q6J("icon",r.starFor1),s.xp6(1),s.Q6J("icon",r.starFor2),s.xp6(1),s.Q6J("icon",r.starFor3),s.xp6(1),s.Q6J("icon",r.starFor4),s.xp6(1),s.Q6J("icon",r.starFor5),s.xp6(2),s.AsE("(",r.productRate,") | ",r.reviews," reviews"),s.xp6(15),s.hij(" ",r.product.title," "),s.xp6(6),s.hij(" ",r.product.category,". "),s.xp6(5),s.hij(" ",r.product.description," "),s.xp6(8),s.Q6J("ngIf",r.similarProducts))},dependencies:[Fn,Gt,po,pW,hA,go,y9,WC],styles:[".content-wrapper[_ngcontent-%COMP%]{width:100%;padding-bottom:3rem;display:flex;flex-direction:row;justify-content:space-between}.container[_ngcontent-%COMP%]{background-color:#fff;margin-top:3rem;padding-top:1rem;padding-bottom:1rem;border-radius:.5rem;box-shadow:#00000029 0 1px 4px;height:auto}.product-image[_ngcontent-%COMP%]{width:45%}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:auto;width:85%;max-height:90vh}#info-title[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center;font-weight:700;padding-top:.6rem}#sup-title[_ngcontent-%COMP%]{font-size:.8rem;opacity:.8}.product-info[_ngcontent-%COMP%]{border:1px solid rgba(128,128,128,.555);padding:1rem;border-radius:.4rem;width:36%;font-family:Merriweather,serif}.info-content[_ngcontent-%COMP%]{width:100%;height:80%}#product-price[_ngcontent-%COMP%]{font-size:2rem;font-weight:550;color:#2a8703;font-family:Arial,Helvetica,sans-serif}#currency[_ngcontent-%COMP%]{font-size:1rem}#product-rate[_ngcontent-%COMP%]{padding-bottom:.5rem}fa-icon[_ngcontent-%COMP%]{font-size:1.2rem}#rate-index[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;padding-left:.6rem;font-size:.9rem}.btn[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}hr[_ngcontent-%COMP%]{border:0;height:1px;background:#333;background-image:linear-gradient(to right,#ccc,#333,#ccc)}.product-general-info[_ngcontent-%COMP%]{padding-top:3rem;width:100%;font-family:Merriweather,serif;padding-bottom:2rem}.general-info-title-wrapper[_ngcontent-%COMP%]{position:relative}#general-info-title[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:600}#general-info-product-title[_ngcontent-%COMP%]{width:60%;font-size:1.2rem;padding-top:2rem;line-height:28px}.line-below[_ngcontent-%COMP%]{position:absolute;width:4rem;height:5px;background-color:#239f73;left:50%;top:85%;transform:translate(-50%);border-radius:5px}.general-info-content[_ngcontent-%COMP%]{padding-top:2rem;margin-left:1rem}.info-content-section[_ngcontent-%COMP%]{padding-bottom:1rem}.section-title[_ngcontent-%COMP%]{font-family:Merriweather,serif;font-weight:700;font-size:1rem;padding-bottom:.4rem}.section-p[_ngcontent-%COMP%]{font-family:Merriweather,serif;font-size:.9rem;opacity:.8;max-width:60%}.see-also[_ngcontent-%COMP%]{padding-top:3rem;font-family:Merriweather,serif}.see-also-header[_ngcontent-%COMP%]{padding-bottom:3rem}#see-also-title[_ngcontent-%COMP%]{font-size:1.7rem;font-weight:600}.see-also-title-wrapper[_ngcontent-%COMP%]{position:relative}app-card-template[_ngcontent-%COMP%]{width:300px}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-left-color:#22a6b3;height:80px;width:80px;border-radius:50%;animation:spin 1s linear infinite;position:absolute;top:32%;left:30%}@keyframes spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.content-wrapper[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.product-image[_ngcontent-%COMP%]{width:65%}.product-info[_ngcontent-%COMP%]{margin-top:1rem;width:100%}.section-p[_ngcontent-%COMP%]{max-width:80%}app-card-template[_ngcontent-%COMP%]{width:85%}.spinner[_ngcontent-%COMP%]{top:29%;left:44%}}@media (max-width: 500px){.spinner[_ngcontent-%COMP%]{top:22%;left:40%}}"]}),n})();function IAe(n,e){if(1&n&&s._UZ(0,"app-card-template",27),2&n){const t=s.oxw().$implicit;s.Q6J("productOnCard",t)}}function VAe(n,e){1&n&&s.YNc(0,IAe,1,1,"ng-template",25)}function LAe(n,e){if(1&n&&(s.TgZ(0,"owl-carousel-o",24),s.YNc(1,VAe,1,0,null,26),s.qZA()),2&n){const t=s.oxw();s.Q6J("options",t.customOptions),s.xp6(1),s.Q6J("ngForOf",t.eletronicProds)}}function zAe(n,e){if(1&n&&s._UZ(0,"app-card-template",27),2&n){const t=s.oxw().$implicit;s.Q6J("productOnCard",t)}}function kAe(n,e){1&n&&s.YNc(0,zAe,1,1,"ng-template",25)}function OAe(n,e){if(1&n&&(s.TgZ(0,"owl-carousel-o",24),s.YNc(1,kAe,1,0,null,26),s.qZA()),2&n){const t=s.oxw();s.Q6J("options",t.customOptions),s.xp6(1),s.Q6J("ngForOf",t.mensClothingProds)}}function PAe(n,e){if(1&n&&s._UZ(0,"app-card-template",27),2&n){const t=s.oxw().$implicit;s.Q6J("productOnCard",t)}}function RAe(n,e){1&n&&s.YNc(0,PAe,1,1,"ng-template",25)}function FAe(n,e){if(1&n&&(s.TgZ(0,"owl-carousel-o",24),s.YNc(1,RAe,1,0,null,26),s.qZA()),2&n){const t=s.oxw();s.Q6J("options",t.customOptions),s.xp6(1),s.Q6J("ngForOf",t.womensClothingProds)}}function UAe(n,e){if(1&n&&s._UZ(0,"app-card-template",27),2&n){const t=s.oxw().$implicit;s.Q6J("productOnCard",t)}}function BAe(n,e){1&n&&s.YNc(0,UAe,1,1,"ng-template",25)}function jAe(n,e){if(1&n&&(s.TgZ(0,"owl-carousel-o",24),s.YNc(1,BAe,1,0,null,26),s.qZA()),2&n){const t=s.oxw();s.Q6J("options",t.customOptions),s.xp6(1),s.Q6J("ngForOf",t.jeweleryProds)}}function $Ae(n,e){if(1&n&&s._UZ(0,"app-card-template",27),2&n){const t=s.oxw().$implicit;s.Q6J("productOnCard",t)}}function GAe(n,e){1&n&&s.YNc(0,$Ae,1,1,"ng-template",25)}function qAe(n,e){if(1&n&&(s.TgZ(0,"owl-carousel-o",24),s.YNc(1,GAe,1,0,null,26),s.qZA()),2&n){const t=s.oxw();s.Q6J("options",t.customOptions),s.xp6(1),s.Q6J("ngForOf",t.under30Prods)}}function ZAe(n,e){1&n&&(s.TgZ(0,"div",28),s._UZ(1,"img",29),s.TgZ(2,"span",30),s._uU(3,"Eletronics"),s.qZA()())}function WAe(n,e){1&n&&(s.TgZ(0,"div",31),s._UZ(1,"img",32),s.TgZ(2,"span",30),s._uU(3,"Action Figures"),s.qZA()())}function KAe(n,e){1&n&&(s.TgZ(0,"div",31),s._UZ(1,"img",33),s.TgZ(2,"span",30),s._uU(3,"Home"),s.qZA()())}function YAe(n,e){1&n&&(s.TgZ(0,"div",34),s._UZ(1,"img",35),s.TgZ(2,"span",30),s._uU(3,"Jewelery & Acessories"),s.qZA()())}function QAe(n,e){1&n&&(s.TgZ(0,"div",36),s._UZ(1,"img",37),s.TgZ(2,"span",30),s._uU(3,"Under US $30"),s.qZA()())}let JAe=(()=>{class n{constructor(t){this.service=t,this.customOptions={loop:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,navSpeed:800,navText:['<span class="fas fa-chevron-left fa-2x"></span>','<span class="fas fa-chevron-right fa-2x"></span>'],responsive:{0:{items:1},500:{items:1},580:{items:2},740:{items:3},940:{items:2},1e3:{items:3}},nav:!0,stagePadding:50,autoWidth:!0},this.customOptionsCategories={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!1,navSpeed:800,navText:['<span class="fas fa-chevron-left fa-2x"></span>','<span class="fas fa-chevron-right fa-2x"></span>'],responsive:{0:{items:1},400:{items:2},570:{items:2},740:{items:3},940:{items:3}},nav:!0}}ngOnInit(){this.fetchEletronicProducts(),this.fetchMensClothingProducts(),this.fetchWomensClothingProducts(),this.fetchJeweleryProducts(),this.fetchUnder30DollarsProducts(),this.adjustCarousel()}fetchEletronicProducts(){this.service.fetchApiData().subscribe(t=>{this.ocultStartDisplay(),this.eletronicProds=t.filter(r=>"electronics"==r.category)})}fetchMensClothingProducts(){this.service.fetchApiData().subscribe(t=>{this.ocultStartDisplay(),this.mensClothingProds=t.filter(r=>"men's clothing"==r.category)})}fetchWomensClothingProducts(){this.service.fetchApiData().subscribe(t=>{this.ocultStartDisplay(),this.womensClothingProds=t.filter(r=>"women's clothing"==r.category)})}fetchJeweleryProducts(){this.service.fetchApiData().subscribe(t=>{this.ocultStartDisplay(),this.jeweleryProds=t.filter(r=>"jewelery"==r.category)})}fetchUnder30DollarsProducts(){this.service.fetchApiData().subscribe(t=>{this.under30Prods=t.filter(r=>r.price<=30),console.log("this.under30Prods: ",this.under30Prods)})}ocultStartDisplay(){var t=document.getElementsByClassName("start-displaying");Array.from(t).forEach(i=>{i.style.display="none"})}adjustCarousel(){document.body.clientWidth<=500&&(this.customOptions.nav=!1)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Tl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-categories-page"]],decls:149,vars:6,consts:[[1,"container"],[1,"categories-page-header","d-flex","justify-content-center","align-items-center"],[1,"line-below"],[1,"categories-page-content"],[1,"section-main-categories"],[1,"main-categories-header"],[1,"main-categories-1"],[1,"categories-title"],[1,"main-categories-content"],["class","carousel-owl",3,"options",4,"ngIf"],[1,"row","start-displaying","justify-content-around","align-items-center",2,"width","100%"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],[1,"card","start-displaying-card","d-flex","justify-content-center","align-items-center"],[1,"card-body","d-flex","flex-column","justify-content-center","align-items-center"],[1,"spinner"],[1,"card-text"],[1,"price"],[1,"main-categories-2"],[1,"main-categories-3"],[1,"main-categories-4"],[1,"main-categories-5"],[1,"section-all-categories"],[1,"all-categories-header"],[1,"all-categories-content"],[1,"carousel-owl",3,"options"],["carouselSlide",""],[4,"ngFor","ngForOf"],[3,"productOnCard"],["routerLink","/categories/electronics",1,"category","d-flex","flex-column","justify-content-center","align-items-center"],["src","https://i.ebayimg.com/images/g/XqUAAOSwYXFjgOCq/s-l200.webp","alt","","srcset",""],[1,"category-description"],["id","category-disabled",1,"category","d-flex","flex-column","justify-content-center","align-items-center"],["src","https://i.ebayimg.com/images/g/2RAAAOSwxXljPIHd/s-l200.webp","alt","","srcset",""],["src","https://i.ebayimg.com/images/g/t1AAAOSw7aBjPIHp/s-l200.webp","alt","","srcset",""],["routerLink","/categories/jewelery",1,"category","d-flex","flex-column","justify-content-center","align-items-center"],["src","https://i.ebayimg.com/images/g/KTwAAOSwh9pjPIH0/s-l200.webp","alt","","srcset",""],["routerLink","/categories/under-30-dollars",1,"category","d-flex","flex-column","justify-content-center","align-items-center"],["src","https://i.ebayimg.com/images/g/Zf4AAOSw6~FjPIII/s-l200.webp","alt","","srcset",""]],template:function(t,r){1&t&&(s._UZ(0,"app-header"),s.TgZ(1,"div",0)(2,"div",1)(3,"h2"),s._uU(4,"Categories"),s.qZA(),s._UZ(5,"span",2),s.qZA(),s.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"h3"),s._uU(10,"Main Categories"),s.qZA()(),s.TgZ(11,"div",6)(12,"div",7)(13,"h4"),s._uU(14,"Eletronics"),s.qZA()(),s.TgZ(15,"div",8),s.YNc(16,LAe,2,2,"owl-carousel-o",9),s.TgZ(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",13),s._UZ(21,"div",14)(22,"p",15)(23,"div",16),s.qZA()()(),s.TgZ(24,"div",11)(25,"div",12)(26,"div",13),s._UZ(27,"div",14)(28,"p",15)(29,"div",16),s.qZA()()(),s.TgZ(30,"div",11)(31,"div",12)(32,"div",13),s._UZ(33,"div",14)(34,"p",15)(35,"div",16),s.qZA()()()()()(),s.TgZ(36,"div",17)(37,"div",7)(38,"h4"),s._uU(39,"Men's Clothing"),s.qZA()(),s.TgZ(40,"div",8),s.YNc(41,OAe,2,2,"owl-carousel-o",9),s.TgZ(42,"div",10)(43,"div",11)(44,"div",12)(45,"div",13),s._UZ(46,"div",14)(47,"p",15)(48,"div",16),s.qZA()()(),s.TgZ(49,"div",11)(50,"div",12)(51,"div",13),s._UZ(52,"div",14)(53,"p",15)(54,"div",16),s.qZA()()(),s.TgZ(55,"div",11)(56,"div",12)(57,"div",13),s._UZ(58,"div",14)(59,"p",15)(60,"div",16),s.qZA()()()()()(),s.TgZ(61,"div",18)(62,"div",7)(63,"h4"),s._uU(64,"Women's Clothing"),s.qZA()(),s.TgZ(65,"div",8),s.YNc(66,FAe,2,2,"owl-carousel-o",9),s.TgZ(67,"div",10)(68,"div",11)(69,"div",12)(70,"div",13),s._UZ(71,"div",14)(72,"p",15)(73,"div",16),s.qZA()()(),s.TgZ(74,"div",11)(75,"div",12)(76,"div",13),s._UZ(77,"div",14)(78,"p",15)(79,"div",16),s.qZA()()(),s.TgZ(80,"div",11)(81,"div",12)(82,"div",13),s._UZ(83,"div",14)(84,"p",15)(85,"div",16),s.qZA()()()()()(),s.TgZ(86,"div",19)(87,"div",7)(88,"h4"),s._uU(89,"Jewelery & Acessories"),s.qZA()(),s.TgZ(90,"div",8),s.YNc(91,jAe,2,2,"owl-carousel-o",9),s.TgZ(92,"div",10)(93,"div",11)(94,"div",12)(95,"div",13),s._UZ(96,"div",14)(97,"p",15)(98,"div",16),s.qZA()()(),s.TgZ(99,"div",11)(100,"div",12)(101,"div",13),s._UZ(102,"div",14)(103,"p",15)(104,"div",16),s.qZA()()(),s.TgZ(105,"div",11)(106,"div",12)(107,"div",13),s._UZ(108,"div",14)(109,"p",15)(110,"div",16),s.qZA()()()()()(),s.TgZ(111,"div",20)(112,"div",7)(113,"h4"),s._uU(114,"Prices Under US $30"),s.qZA()(),s.TgZ(115,"div",8),s.YNc(116,qAe,2,2,"owl-carousel-o",9),s.TgZ(117,"div",10)(118,"div",11)(119,"div",12)(120,"div",13),s._UZ(121,"div",14)(122,"p",15)(123,"div",16),s.qZA()()(),s.TgZ(124,"div",11)(125,"div",12)(126,"div",13),s._UZ(127,"div",14)(128,"p",15)(129,"div",16),s.qZA()()(),s.TgZ(130,"div",11)(131,"div",12)(132,"div",13),s._UZ(133,"div",14)(134,"p",15)(135,"div",16),s.qZA()()()()()()(),s._UZ(136,"hr"),s.TgZ(137,"div",21)(138,"div",22)(139,"h3"),s._uU(140,"All Categories"),s.qZA()(),s.TgZ(141,"div",23)(142,"owl-carousel-o",24),s.YNc(143,ZAe,4,0,"ng-template",25),s.YNc(144,WAe,4,0,"ng-template",25),s.YNc(145,KAe,4,0,"ng-template",25),s.YNc(146,YAe,4,0,"ng-template",25),s.YNc(147,QAe,4,0,"ng-template",25),s.qZA()()()()(),s._UZ(148,"app-footer")),2&t&&(s.xp6(16),s.Q6J("ngIf",r.eletronicProds),s.xp6(25),s.Q6J("ngIf",r.mensClothingProds),s.xp6(25),s.Q6J("ngIf",r.womensClothingProds),s.xp6(25),s.Q6J("ngIf",r.jeweleryProds),s.xp6(25),s.Q6J("ngIf",r.under30Prods),s.xp6(26),s.Q6J("options",r.customOptionsCategories))},dependencies:[Fn,Gt,E1,pW,hA,go,y9,YC],styles:[".container[_ngcontent-%COMP%]{font-family:Merriweather,serif}.categories-page-header[_ngcontent-%COMP%]{position:relative;padding-top:3rem}.line-below[_ngcontent-%COMP%]{position:absolute;width:6rem;height:5px;background-color:#239f73;left:50%;top:100%;transform:translate(-50%);border-radius:5px}.section-main-categories[_ngcontent-%COMP%]{padding-bottom:2rem}.categories-page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;font-size:2.6rem}.categories-page-content[_ngcontent-%COMP%]{padding-top:2rem}.main-categories-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .all-categories-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem}.categories-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.main-categories-1[_ngcontent-%COMP%], .main-categories-2[_ngcontent-%COMP%], .main-categories-3[_ngcontent-%COMP%], .main-categories-4[_ngcontent-%COMP%]{padding-top:3rem}.categories-title[_ngcontent-%COMP%]{padding-bottom:1rem}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-left-color:#22a6b3;height:60px;width:60px;border-radius:50%;animation:spin 1s linear infinite;margin-top:3rem;margin-bottom:3rem}@keyframes spin{to{transform:rotate(360deg)}}hr[_ngcontent-%COMP%]{border:0;height:1px;background:#333;background-image:linear-gradient(to right,#ccc,#333,#ccc)}.section-all-categories[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:3rem}.all-categories-header[_ngcontent-%COMP%]{padding-bottom:2rem}.category[_ngcontent-%COMP%]:hover:not(#category-disabled){cursor:pointer}.category[_ngcontent-%COMP%]:hover:not(#category-disabled)   .category-description[_ngcontent-%COMP%]{text-decoration:underline}.category[_ngcontent-%COMP%]:hover:not(#category-disabled)   img[_ngcontent-%COMP%]{transition:.5s;max-width:82%}.category[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;max-width:80%}.category-description[_ngcontent-%COMP%]{font-family:Merriweather,serif;font-weight:700;padding-top:.5rem}#category-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.6}#category-disabled[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{text-decoration:none}app-card-template[_ngcontent-%COMP%]{width:280px}@media (max-width: 1200px){app-card-template[_ngcontent-%COMP%]{width:240px}}@media (max-width: 570px){app-card-template[_ngcontent-%COMP%]{width:400px;overflow-x:hidden}.main-categories-1[_ngcontent-%COMP%], .main-categories-2[_ngcontent-%COMP%], .main-categories-3[_ngcontent-%COMP%], .main-categories-4[_ngcontent-%COMP%], .main-categories-5[_ngcontent-%COMP%]{padding-top:2rem}.main-categories-header[_ngcontent-%COMP%]{padding-bottom:2rem}.categories-page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}"]}),n})();function XAe(n,e){if(1&n&&(s.TgZ(0,"div",14),s._UZ(1,"app-card-template",15),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("productOnCard",t)}}let eNe=(()=>{class n{constructor(t,r){this.service=t,this.route=r}ngOnInit(){this.route.params.subscribe(t=>{console.log("param: ",t),this.searchForCategory(t.category)})}searchForCategory(t){this.service.fetchApiData().subscribe(r=>{switch(this.ocultStartDisplay(),t){case"under-30-dollars":this.dataToShow=r.filter(i=>i.price<=30),this.title="Under USD $30";break;case"jewelery":this.dataToShow=r.filter(i=>"jewelery"==i.category),this.title="Jewelery";break;case"electronics":this.dataToShow=r.filter(i=>"electronics"==i.category),this.title="Electronics";break;case"mens-clothing":this.dataToShow=r.filter(i=>"men's clothing"==i.category),this.title="Men's Clothing";break;case"womens-clothing":this.dataToShow=r.filter(i=>"women's clothing"==i.category),this.title="Women's Clothing"}console.log("this.dataToShow :",this.dataToShow)})}ocultStartDisplay(){var t=document.getElementsByClassName("start-displaying");Array.from(t).forEach(i=>{i.style.display="none"})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Tl),s.Y36(Er))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-single-category-page"]],decls:35,vars:2,consts:[[1,"container"],[1,"single-category-page-header","d-flex","justify-content-center","align-items-center"],[1,"line-below"],[1,"single-category-page-content"],[1,"content-wrapper"],[1,"row","d-flex","justify-content-center","align-items-center"],["class","col-10 col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"row","start-displaying"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],[1,"card","start-displaying-card","d-flex","justify-content-center","align-items-center"],[1,"card-body","d-flex","flex-column","justify-content-center","align-items-center"],[1,"spinner"],[1,"card-text"],[1,"price"],[1,"col-10","col-sm-6","col-md-4","col-lg-3"],[3,"productOnCard"]],template:function(t,r){1&t&&(s._UZ(0,"app-header"),s.TgZ(1,"div",0)(2,"div",1)(3,"h2"),s._uU(4),s.qZA(),s._UZ(5,"span",2),s.qZA(),s.TgZ(6,"div",3)(7,"div",4)(8,"div",5),s.YNc(9,XAe,2,1,"div",6),s.qZA()(),s.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10),s._UZ(14,"div",11)(15,"p",12)(16,"div",13),s.qZA()()(),s.TgZ(17,"div",8)(18,"div",9)(19,"div",10),s._UZ(20,"div",11)(21,"p",12)(22,"div",13),s.qZA()()(),s.TgZ(23,"div",8)(24,"div",9)(25,"div",10),s._UZ(26,"div",11)(27,"p",12)(28,"div",13),s.qZA()()(),s.TgZ(29,"div",8)(30,"div",9)(31,"div",10),s._UZ(32,"div",11)(33,"p",12)(34,"div",13),s.qZA()()()()()()),2&t&&(s.xp6(4),s.Oqu(r.title),s.xp6(5),s.Q6J("ngForOf",r.dataToShow))},dependencies:[Fn,go,y9],styles:[".container[_ngcontent-%COMP%]{padding-top:2rem}.single-category-page-header[_ngcontent-%COMP%]{position:relative}.single-category-page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;font-size:2.6rem}.line-below[_ngcontent-%COMP%]{position:absolute;width:5rem;height:5px;background-color:#239f73;left:50%;top:100%;transform:translate(-50%);border-radius:5px}.content-wrapper[_ngcontent-%COMP%]{width:100%;padding-top:3rem}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-left-color:#22a6b3;height:60px;width:60px;border-radius:50%;animation:spin 1s linear infinite;margin-top:3rem;margin-bottom:3rem}@keyframes spin{to{transform:rotate(360deg)}}@media (max-width: 570px){.single-category-page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}}"]}),n})();function tNe(n,e){if(1&n&&(s.TgZ(0,"div",7),s._UZ(1,"app-card-template",15),s.qZA()),2&n){const t=e.$implicit;s.xp6(1),s.Q6J("productOnCard",t)}}function nNe(n,e){if(1&n&&(s.TgZ(0,"div",16),s._UZ(1,"fa-icon",17),s.TgZ(2,"div",18),s._uU(3),s.qZA()()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("icon",t.faSearch),s.xp6(2),s.hij(' No exact matches found for "',t.paramOnURL,'". ')}}let rNe=(()=>{class n{constructor(t,r){this.route=t,this.service=r,this.faSearch=cx}ngOnInit(){this.route.queryParams.subscribe(t=>{console.log("queryParam :",t.qry),this.paramOnURL=t.qry,this.fetchMatchProducts(this.paramOnURL)})}fetchMatchProducts(t){this.service.fetchApiData().subscribe(r=>{this.ocultStartDisplay(),this.prodsToShow=r.filter(i=>i.title?.toLowerCase().includes(t.toLowerCase())),console.log("this.prodsToShow: ",this.prodsToShow)})}ocultStartDisplay(){var t=document.getElementsByClassName("start-displaying");Array.from(t).forEach(i=>{i.style.display="none"})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Er),s.Y36(Tl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-query-product"]],decls:46,vars:4,consts:[[1,"container"],[1,"query-product-header","d-flex","flex-column","justify-content-center","align-items-center"],[1,"query-product-content"],[1,"content-wrapper"],[1,"row","d-flex","justify-content-center","align-items-center"],["class","col-12 col-sm-6 col-md-4 col-lg-3",4,"ngFor","ngForOf"],[1,"row","start-displaying"],[1,"col-12","col-sm-6","col-md-4","col-lg-3"],[1,"card","start-displaying-card","d-flex","justify-content-center","align-items-center"],[1,"card-body","d-flex","flex-column","justify-content-center","align-items-center"],[1,"spinner"],[1,"card-text"],[1,"price"],["href","#",1,"btn","btn-primary"],["class","no-result",4,"ngIf"],[3,"productOnCard"],[1,"no-result"],[2,"font-size","2.5rem",3,"icon"],[2,"text-align","center"]],template:function(t,r){1&t&&(s._UZ(0,"app-header"),s.TgZ(1,"div",0)(2,"div",1)(3,"h2"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6),s.qZA()(),s.TgZ(7,"div",2)(8,"div",3)(9,"div",4),s.YNc(10,tNe,2,1,"div",5),s.qZA(),s.TgZ(11,"div",6)(12,"div",7)(13,"div",8)(14,"div",9),s._UZ(15,"div",10)(16,"p",11)(17,"div",12),s.TgZ(18,"a",13),s._uU(19,"Add to Cart"),s.qZA()()()(),s.TgZ(20,"div",7)(21,"div",8)(22,"div",9),s._UZ(23,"div",10)(24,"p",11)(25,"div",12),s.TgZ(26,"a",13),s._uU(27,"Add to Cart"),s.qZA()()()(),s.TgZ(28,"div",7)(29,"div",8)(30,"div",9),s._UZ(31,"div",10)(32,"p",11)(33,"div",12),s.TgZ(34,"a",13),s._uU(35,"Add to Cart"),s.qZA()()()(),s.TgZ(36,"div",7)(37,"div",8)(38,"div",9),s._UZ(39,"div",10)(40,"p",11)(41,"div",12),s.TgZ(42,"a",13),s._uU(43,"Add to Cart"),s.qZA()()()()()(),s.YNc(44,nNe,4,2,"div",14),s.qZA()(),s._UZ(45,"app-footer")),2&t&&(s.xp6(4),s.Oqu(r.paramOnURL),s.xp6(2),s.hij("",null==r.prodsToShow?null:r.prodsToShow.length," Result(s)"),s.xp6(4),s.Q6J("ngForOf",r.prodsToShow),s.xp6(34),s.Q6J("ngIf",0==r.prodsToShow.length))},dependencies:[Fn,Gt,po,go,y9,YC],styles:[".container[_ngcontent-%COMP%]{font-family:Merriweather,serif;padding-bottom:3rem}.query-product-header[_ngcontent-%COMP%]{padding-top:2rem;padding-bottom:3rem}.query-product-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.6rem}.query-product-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.8}.content-wrapper[_ngcontent-%COMP%]{width:100%}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-left-color:#22a6b3;height:60px;width:60px;border-radius:50%;animation:spin 1s linear infinite;margin-top:3rem;margin-bottom:3rem}@keyframes spin{to{transform:rotate(360deg)}}.start-displaying-card[_ngcontent-%COMP%]{cursor:default}.start-displaying-card[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{opacity:.4;cursor:default}.no-result[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;background-color:#fff;height:40vh;border:1px solid rgba(128,128,128,.555);display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}.no-result[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1.5rem;text-decoration:underline}@media (max-width: 700px){.no-result[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-evenly;align-items:center}}"]}),n})();function iNe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",10)(1,"div",11),s._UZ(2,"img",12),s.TgZ(3,"div",13),s._uU(4),s.qZA(),s.TgZ(5,"div",14)(6,"div",15,16),s.NdJ("click",function(){const o=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.decreaseCounterFS(o))}),s._uU(8,"-"),s.qZA(),s._UZ(9,"input",17),s.TgZ(10,"div",18,19),s.NdJ("click",function(){const o=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.increaseCounterFS(o))}),s._uU(12,"+"),s.qZA()(),s.TgZ(13,"div",20)(14,"span"),s._uU(15,"USD"),s.qZA(),s._uU(16),s.ALo(17,"number"),s.qZA()(),s.TgZ(18,"div",21)(19,"div",22)(20,"div",23),s.NdJ("click",function(){const o=s.CHM(t).$implicit,l=s.oxw();return s.KtG(l.removeFSProduct(o.dbID))}),s._uU(21," Remove "),s.qZA(),s.TgZ(22,"div",24),s._uU(23," See products of the same category "),s.qZA(),s.TgZ(24,"div",25),s._uU(25," Buy it Now "),s.qZA()(),s.TgZ(26,"div",26),s._uU(27),s.qZA()(),s._UZ(28,"hr"),s.qZA()}if(2&n){const t=e.$implicit;s.xp6(2),s.MGl("routerLink","/products/",t.id,""),s.s9C("src",t.image,s.LSH),s.xp6(2),s.hij(" ",t.title," "),s.xp6(5),s.s9C("value",t.quantity),s.xp6(7),s.hij(" ",s.xi3(17,6,t.price,"1.2-2")," "),s.xp6(11),s.hij(" ",t.rating.count," available ")}}function sNe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"div",27)(2,"div",28)(3,"div"),s._uU(4,"Subtotal:"),s.qZA(),s.TgZ(5,"div")(6,"span",29),s._uU(7,"USD"),s.qZA(),s._uU(8),s.ALo(9,"number"),s.qZA()(),s.TgZ(10,"div",28)(11,"div"),s._uU(12,"Shipping Fee:"),s.qZA(),s.TgZ(13,"div")(14,"span",29),s._uU(15,"USD"),s.qZA(),s._uU(16," 5.00 "),s.qZA()(),s.TgZ(17,"div",28)(18,"div"),s._uU(19,"Order Total:"),s.qZA(),s.TgZ(20,"div")(21,"span",29),s._uU(22,"USD"),s.qZA(),s._uU(23),s.ALo(24,"number"),s.qZA()(),s._UZ(25,"hr"),s.qZA(),s.TgZ(26,"div",30)(27,"div",31)(28,"button",32),s.NdJ("click",function(){s.CHM(t);const i=s.oxw();return s.KtG(i.navigateToPurchasePage())}),s._uU(29,"Proceed Buying"),s.qZA()()()()}if(2&n){const t=s.oxw();s.xp6(8),s.hij(" ",s.xi3(9,2,t.totalProductsPrice,"1.2-2")," "),s.xp6(15),s.hij(" ",s.xi3(24,5,t.totalProductsPrice+5,"1.2-2")," ")}}function oNe(n,e){1&n&&(s.TgZ(0,"div",33),s._UZ(1,"hr")(2,"div",34)(3,"hr"),s.qZA())}let aNe=(()=>{class n{constructor(t,r,i,o,l){this.ProductsService=t,this.apiService=r,this.router=i,this.userService=o,this.auth=l,this.faShoppingCart=QE,this.productsArr=[],this.firstDecreaseBtn=!0,this.totalProductsPrice=0,this.startDisplaying=!0,this.changeProductPrices=new s.vpe}ngOnInit(){this.idArr=this.ProductsService.productsSelected,this.getAllProductsOnCartList()}increaseCounterFS(t){var r=this.auth.currentUser.uid;const i=t.price/t.quantity;t.quantity+=1,t.price=(i*t.quantity).toFixed(2),this.userService.increaseProductOnCartQty(t.dbID,r,t.quantity,t.price),this.changeProductPrices.emit(this.priceListener(t.price))}decreaseCounterFS(t){var r=this.auth.currentUser.uid;const i=t.price/t.quantity;t.quantity-=1,t.price=(t.price-i).toFixed(2),t.quantity<=1&&(t.price=i.toFixed(2),t.quantity=1),this.userService.decreaseProductOnCartQty(t.dbID,r,t.quantity,t.price),this.changeProductPrices.emit(this.priceListener(t.price))}priceListener(t){var r=0;t.forEach(i=>{i.price=parseFloat(i.price),r+=i.price}),this.totalProductsPrice=r,console.log("this.totalProductsPrice no priceListener(): ",this.totalProductsPrice)}navigateToPurchasePage(){console.log("this.productsArr no navigate: ",this.productsArr),console.log("this.totalProductsPrice no navigate: ",this.totalProductsPrice),this.router.navigate(["/buying"])}getAllProductsOnCartList(){var t=this.auth.currentUser.uid;this.apiService.fetchApiData().subscribe(r=>{this.startDisplaying=!1,this.userService.getAllProductsOnCartList(t).subscribe(i=>{console.log("getAllProductsOnCartList(): ",i),i.forEach(l=>{r.forEach(d=>{if(d.id==l.productID){if(this.productsArr.find(p=>p.id==d.id))return;d.dbID=l.docID,d.quantity=l.quantity,d.price=l.totalPrice,this.productsArr.push(d)}})}),this.priceListener(this.productsArr),console.log("productsArr certo: ",this.productsArr),0==this.productsArr.length&&(document.querySelector(".empty-card-message").style="opacity: 1; height: auto;")})})}removeFSProduct(t){var r=this;return(0,W.Z)(function*(){var i=yield r.auth.currentUser.uid;r.productsArr=r.productsArr.filter(l=>l.dbID!==t),yield r.userService.removeProductOnCartList(t,i),r.productsArr.length<=0&&(document.querySelector(".empty-card-message").style="opacity: 1; height: auto;")})()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(KC),s.Y36(Tl),s.Y36(Sn),s.Y36(Ia),s.Y36(Hr))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-cart-page"]],decls:15,vars:4,consts:[[1,"container","d-flex","flex-column","justify-content-center"],[1,"cart-page-header","d-flex","flex-row","justify-content-center","align-items-center"],[2,"font-size","2rem",3,"icon"],[1,"line-below"],[1,"cart-page-content"],["class","content-wrapper d-flex flex-column justify-content-center align-items-center",4,"ngFor","ngForOf"],[4,"ngIf"],["class","d-flex flex-column justify-content-center align-items-center",4,"ngIf"],[1,"empty-card-message","d-flex","flex-column","justify-content-center"],[1,"d-flex","justify-content-center",2,"text-align","center"],[1,"content-wrapper","d-flex","flex-column","justify-content-center","align-items-center"],[1,"product"],["alt","","srcset","",2,"cursor","pointer",3,"routerLink","src"],["id","product-title",1,"d-flex","justify-content-center","align-items-center"],[1,"increase-or-decrease-btn","d-flex","flex-row","justify-content-between","align-items-center"],["id","decrease-btn",3,"click"],["decrease",""],["type","text","id","counter","name","counter",3,"value"],["id","increase-btn",3,"click"],["increase",""],["id","price",1,"d-flex","justify-content-center","align-items-center"],[1,"product-sub","d-flex","flex-row","justify-content-between","align-items-center"],[1,"sub-links","d-flex","justify-content-around","align-items-center"],[1,"product-sub-item",3,"click"],["routerLink","/categories",1,"product-sub-item"],[1,"product-sub-item"],[1,"sub-stock","d-flex","justify-content-center","align-items-center"],[1,"values","d-flex","flex-column","justify-content-center","align-items-end"],[1,"values-item","d-flex","flex-row","justify-content-between"],[2,"font-size",".8rem","padding-right",".5rem"],[1,"proceed"],[1,"d-grid","col-6","mx-auto"],["type","button",1,"btn","btn-success","rounded-pill",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"spinner"]],template:function(t,r){1&t&&(s._UZ(0,"app-header"),s.TgZ(1,"div",0)(2,"div",1),s._UZ(3,"fa-icon",2),s.TgZ(4,"h2"),s._uU(5,"Cart"),s.qZA(),s._UZ(6,"span",3),s.qZA(),s.TgZ(7,"div",4),s.YNc(8,iNe,29,9,"div",5),s.YNc(9,sNe,30,8,"div",6),s.YNc(10,oNe,4,0,"div",7),s.TgZ(11,"div",8)(12,"div",9),s._uU(13," Your shopping cart is empty. "),s.qZA(),s._UZ(14,"hr"),s.qZA()()()),2&t&&(s.xp6(3),s.Q6J("icon",r.faShoppingCart),s.xp6(5),s.Q6J("ngForOf",r.productsArr),s.xp6(1),s.Q6J("ngIf",r.productsArr.length>=1),s.xp6(1),s.Q6J("ngIf",1==r.startDisplaying))},dependencies:[Fn,Gt,E1,po,go,xi],styles:[".container[_ngcontent-%COMP%]{background-color:#fff;font-family:Merriweather,serif;padding-bottom:1rem;height:auto;box-shadow:#00000029 0 1px 4px}.cart-page-header[_ngcontent-%COMP%]{width:100%;position:relative;padding-top:3rem}.cart-page-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;vertical-align:sub;padding-left:1rem}.cart-page-header[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{vertical-align:middle}.line-below[_ngcontent-%COMP%]{position:absolute;width:6rem;height:5px;background-color:#239f73;left:50%;top:100%;transform:translate(-50%);border-radius:5px}hr[_ngcontent-%COMP%]{border:0;height:1px;background:#333;width:100%;background-image:linear-gradient(to right,#ccc,rgb(26,26,26),#ccc)}.cart-page-content[_ngcontent-%COMP%]{padding-top:2rem}.product[_ngcontent-%COMP%]{width:100%;padding-top:2rem;padding-bottom:.8rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center}.product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:auto}#product-title[_ngcontent-%COMP%]{font-weight:700;width:40%;text-align:center}.increase-or-decrease-btn[_ngcontent-%COMP%]{width:120px;padding:.6rem;border:1px solid rgba(128,128,128,.555);border-radius:.4rem}#increase-btn[_ngcontent-%COMP%], #decrease-btn[_ngcontent-%COMP%]{color:#239f73;font-size:1.5rem;cursor:pointer}#decrease-btn-start[_ngcontent-%COMP%]{color:#239f73;font-size:1.5rem;cursor:default;opacity:.4}#counter[_ngcontent-%COMP%]{width:50%;border:none;text-align:center}#counter[_ngcontent-%COMP%]:focus{outline:none}#price[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;width:20%}#price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;padding-right:.5rem}.product-sub[_ngcontent-%COMP%]{padding-bottom:1rem;width:100%}.sub-links[_ngcontent-%COMP%]{width:50%}.sub-stock[_ngcontent-%COMP%]{width:24%;opacity:.7;font-size:.9rem}.product-sub-item[_ngcontent-%COMP%]{font-size:.7rem;color:#3483fa;cursor:pointer;transition:.5s}.product-sub-item[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#0e5fd8}.values[_ngcontent-%COMP%]{width:100%;font-size:1.4rem}.values-item[_ngcontent-%COMP%]{width:60%;padding-right:4rem;padding-top:.8rem;padding-left:1rem;white-space:nowrap}.values-item[_ngcontent-%COMP%]:nth-child(2){margin-bottom:1.4rem;padding-bottom:1rem;border-bottom:2px solid rgba(128,128,128,.315)}.spinner[_ngcontent-%COMP%]{border:8px solid rgba(0,0,0,.1);border-left-color:#22a6b3;height:60px;width:60px;border-radius:50%;animation:spin 1s linear infinite;margin-top:3rem;margin-bottom:3rem}@keyframes spin{to{transform:rotate(360deg)}}.empty-card-message[_ngcontent-%COMP%]{opacity:0;height:0;font-size:1.6rem;font-weight:700;width:100%;padding-top:2rem}.proceed[_ngcontent-%COMP%]{padding-top:2rem}.proceed[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1rem;font-size:1rem;font-weight:700}@media (max-width: 768px){.increase-or-decrease-btn[_ngcontent-%COMP%]{width:90px;padding:.3rem;border:1px solid rgba(128,128,128,.555);border-radius:.4rem;margin-right:.5rem}#price[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;width:20%}#price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;padding-right:.3rem}#product-title[_ngcontent-%COMP%]{font-size:.8rem}.product-sub-item[_ngcontent-%COMP%]{font-size:.6rem}.sub-links[_ngcontent-%COMP%]{width:70%}.sub-stock[_ngcontent-%COMP%]{font-size:.85rem}.product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100px;height:auto}.values-item[_ngcontent-%COMP%]{width:75%;font-size:1.1rem}}@media (max-width: 600px){#product-title[_ngcontent-%COMP%]{font-size:.7rem}.increase-or-decrease-btn[_ngcontent-%COMP%]{width:80px;padding:.2rem;margin-right:.3rem}#price[_ngcontent-%COMP%]{font-size:.9rem}.product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80px;height:auto}.line-below[_ngcontent-%COMP%]{width:4rem}.values-item[_ngcontent-%COMP%]{width:80%;font-size:1rem}}@media (max-width: 500px){.product[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50px;height:auto}.increase-or-decrease-btn[_ngcontent-%COMP%]{width:70px;padding:.2rem;margin-right:.4rem}.increase-or-decrease-btn[_ngcontent-%COMP%]   #decrease-btn[_ngcontent-%COMP%], .increase-or-decrease-btn[_ngcontent-%COMP%]   #increase-btn[_ngcontent-%COMP%]{font-size:1rem}#price[_ngcontent-%COMP%]{font-size:.7rem}#price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem;padding-right:.2rem}.sub-stock[_ngcontent-%COMP%]{font-size:.7rem}#product-title[_ngcontent-%COMP%]{font-size:.6rem}.product-sub-item[_ngcontent-%COMP%]{font-size:.45rem}}"]}),n})();function cNe(n,e){1&n&&(s.TgZ(0,"div",45)(1,"strong"),s._uU(2,"Name"),s.qZA(),s._uU(3," is required. "),s.qZA())}function lNe(n,e){1&n&&(s.TgZ(0,"div",45)(1,"strong"),s._uU(2,"E-mail"),s.qZA(),s._uU(3," is required. "),s.qZA())}function uNe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"div",46)(2,"div",47)(3,"label",48),s._uU(4,"Zip Code"),s.qZA(),s.TgZ(5,"input",49,50),s.NdJ("blur",function(){s.CHM(t);const i=s.MAs(6),o=s.oxw(),l=s.MAs(17);return s.KtG(o.getUSAZip(i.value,l))})("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userData.zip=i)}),s.qZA(),s.TgZ(7,"div",51)(8,"strong"),s._uU(9,"Zip code"),s.qZA(),s._uU(10," is required. "),s.qZA()(),s.TgZ(11,"div",52)(12,"label",53),s._uU(13,"City"),s.qZA(),s.TgZ(14,"input",54,55),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userData.city=i)}),s.qZA()(),s.TgZ(16,"div",56)(17,"label",57),s._uU(18,"State"),s.qZA(),s.TgZ(19,"input",58,59),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userData.state=i)}),s.qZA()()(),s._UZ(21,"br"),s.TgZ(22,"div",46)(23,"div",60)(24,"label",61),s._uU(25,"Street"),s.qZA(),s.TgZ(26,"input",62,63),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userData.str=i)}),s.qZA()(),s.TgZ(28,"div",64)(29,"label",65),s._uU(30,"Number"),s.qZA(),s.TgZ(31,"input",66,67),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userData.num=i)}),s.qZA()()()()}if(2&n){const t=s.oxw();s.xp6(5),s.Q6J("ngModel",t.userData.zip),s.xp6(9),s.Q6J("ngModel",t.userData.city),s.xp6(5),s.Q6J("ngModel",t.userData.state),s.xp6(7),s.Q6J("ngModel",t.userData.str),s.xp6(5),s.Q6J("ngModel",t.userData.num)}}function dNe(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div")(1,"div",46)(2,"div",47)(3,"label",48),s._uU(4,"Zip Code (CEP)"),s.qZA(),s.TgZ(5,"input",68,50),s.NdJ("blur",function(){s.CHM(t);const i=s.MAs(6),o=s.oxw(),l=s.MAs(17);return s.KtG(o.getBrazilZip(i.value,l))})("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userData.zip=i)}),s.qZA(),s.TgZ(7,"div",51)(8,"strong"),s._uU(9,"Zip code"),s.qZA(),s._uU(10," is required. "),s.qZA()(),s.TgZ(11,"div",52)(12,"label",53),s._uU(13,"City"),s.qZA(),s.TgZ(14,"input",54,55),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userData.city=i)}),s.qZA()(),s.TgZ(16,"div",56)(17,"label",57),s._uU(18,"State"),s.qZA(),s.TgZ(19,"input",58,59),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userData.state=i)}),s.qZA()()(),s._UZ(21,"br"),s.TgZ(22,"div",46)(23,"div",60)(24,"label",61),s._uU(25,"Street"),s.qZA(),s.TgZ(26,"input",69,63),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userData.str=i)}),s.qZA()(),s.TgZ(28,"div",64)(29,"label",65),s._uU(30,"Number"),s.qZA(),s.TgZ(31,"input",66,67),s.NdJ("ngModelChange",function(i){s.CHM(t);const o=s.oxw();return s.KtG(o.userData.num=i)}),s.qZA()()()()}if(2&n){const t=s.oxw();s.xp6(5),s.Q6J("ngModel",t.userData.zip),s.xp6(9),s.Q6J("ngModel",t.userData.city),s.xp6(5),s.Q6J("ngModel",t.userData.state),s.xp6(7),s.Q6J("ngModel",t.userData.str),s.xp6(5),s.Q6J("ngModel",t.userData.num)}}let fNe=(()=>{class n{constructor(t,r,i,o,l){this.ProductsService=t,this.APIservice=r,this.zipService=i,this.fireAuth=o,this.userService=l,this.productsArr=[],this.userData={name:this.fireAuth.currentUser.displayName,email:this.fireAuth.currentUser.email,location:null,zip:null,city:null,state:null,str:null,num:null},this.getProductsToBuy()}ngOnInit(){}getProductsToBuy(){this.userService.getAllProductsOnCartList(this.fireAuth.currentUser.uid).subscribe(r=>{console.log("prods no purchase: ",r);var i=0,o=0;r.forEach(l=>{i+=l.quantity,o+=parseFloat(l.totalPrice)}),this.totalProducts=i,this.totalValue=o,console.log("this.totalProducts: ",i),console.log("this.totalValue: ",o)})}calculateTotalPriceAndProducts(t){t.forEach(r=>{this.totalProducts+=r.quantity,this.totalValue+=parseFloat(r.totalPrice)*r.quantity}),console.log("this.totalProducts: ",this.totalProducts),console.log("this.totalValue: ",this.totalValue)}getProdArrObjsAndTotalValue(){console.log("Array com ID e Quantidade dos produtos",this.ProductsService.productsIdQty),console.log("Valor total dos produtos",this.ProductsService.totalValue),this.QtyAndIdProds=this.ProductsService.productsIdQty,this.totalValue=this.ProductsService.totalValue;var t=0;this.QtyAndIdProds.forEach(r=>{t+=r.qty}),this.totalProducts=t}onSubmit(t){console.log(t.value)}getUSAZip(t,r){var i=document.getElementsByClassName("spinner")[0];i.style.display="block",setTimeout(()=>{this.zipService.getUsaZip(t).subscribe(o=>{i.style.display="none",console.log("res: ",o),this.populateData(r,o,null)},o=>{i.style.display="none",this.resetAddressSection(r);var l=document.getElementById("zip-code-alert");l.style.display="block",setTimeout(()=>{l.style.display="none"},2500)})},1e3)}getBrazilZip(t,r){var i=document.getElementsByClassName("spinner")[0];i.style.display="block",setTimeout(()=>{this.zipService.getBrazilZip(t).subscribe(o=>{i.style.display="none",console.log("res: ",o),this.populateData(r,null,o)},o=>{i.style.display="none",this.resetAddressSection(r);var l=document.getElementById("zip-code-alert");l.style.display="block",setTimeout(()=>{l.style.display="none"},2500)})},1e3)}populateData(t,r,i){r?t.form.patchValue({city:r.places[0]["place name"],state:r.places[0].state}):i&&t.form.patchValue({zip:i.cep,city:i.localidade,state:i.uf,str:i.logradouro})}resetAddressSection(t){t.form.patchValue({city:null,str:null,num:null,zip:null,state:null})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(KC),s.Y36(Tl),s.Y36(Iw),s.Y36(Hr),s.Y36(Ia))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-purchase-page"]],decls:74,vars:11,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],[2,"font-weight","700"],[2,"color","rgb(254,231,18)"],[2,"color","rgb(35,159,115)"],[1,"container","main-container"],[1,"info-address"],[1,"address-header"],[1,"line-below"],[1,"address-content"],[1,"form-row",3,"ngSubmit"],["form","ngForm"],[1,"form-group","col-md-10"],["for","name"],["disabled","","type","text","id","name","name","name","placeholder","Name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","email"],["disabled","","type","email","id","email","name","email","placeholder","E-mail","required","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],[1,"label","col-md-10","d-flex","justify-content-center","align-items-center"],[1,"form-group","col-md-10","d-flex","justify-content-evenly"],[1,"form-check","form-check-inline"],["type","radio","id","usa","name","location","value","usa",1,"form-check-input",3,"ngModel","ngModelChange"],["usa","ngModel"],["for","usa",1,"form-check-label"],["type","radio","id","br","name","location","value","br",1,"form-check-input",3,"ngModel","ngModelChange"],["br","ngModel"],["for","br",1,"form-check-label"],[4,"ngIf"],[1,"row","row-btn"],["type","submit",1,"btn","btn-dark","col-10","col-md-10","rounded-pill",2,"padding-top",".6rem","padding-bottom",".6rem","font-weight","700","letter-spacing","1px"],[1,"info-product"],[1,"container"],[1,"info-product-header"],[1,"info-product-content"],[1,"section-content-1","d-flex","flex-row","justify-content-between"],["id","section-1-products"],["id","section-1-value"],[2,"font-size","1rem","padding-right",".3rem"],[1,"section-content-2","d-flex","flex-row","justify-content-between"],["id","section-2-total"],["id","section-2-value"],[1,"spinner"],[1,"alert","alert-danger"],[1,"row"],[1,"form-group","col-md-4"],["for","zipCode"],["type","text","id","zip","name","zip","placeholder","Zip Code","required","",1,"form-control",3,"ngModel","blur","ngModelChange"],["zip","ngModel"],["id","zip-code-alert",1,"alert","alert-danger"],[1,"form-group","col-8","col-md-3"],["for","city"],["type","text","id","city","name","city","placeholder","City","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["city","ngModel"],[1,"form-group","col-4","col-md-3"],["for","state"],["type","text","id","state","name","state","placeholder","State","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["state","ngModel"],[1,"form-group","col-8","col-md-8"],["for","str"],["type","text","id","str","name","str","placeholder","Street","required","",1,"form-control",3,"ngModel","ngModelChange"],["str","ngModel"],[1,"form-group","col-4","col-md-2"],["for","num"],["type","text","id","num","name","num","placeholder","Number","required","",1,"form-control",3,"ngModel","ngModelChange"],["num","ngModel"],["type","text","id","zip","name","zip","placeholder","Zip Code (CEP)","required","",1,"form-control",3,"ngModel","blur","ngModelChange"],["type","text","id","str","name","str","placeholder","Street","disabled","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,r){if(1&t){const i=s.EpF();s.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),s._uU(3,"Store"),s.TgZ(4,"span",3)(5,"span",4),s._uU(6,"M"),s.qZA(),s.TgZ(7,"span",5),s._uU(8,"Q"),s.qZA()()()()(),s.TgZ(9,"div",6)(10,"div",7)(11,"div",8)(12,"h2"),s._uU(13,"Address"),s.qZA(),s._UZ(14,"span",9),s.qZA(),s.TgZ(15,"div",10)(16,"form",11,12),s.NdJ("ngSubmit",function(){s.CHM(i);const l=s.MAs(17);return s.KtG(r.onSubmit(l))}),s.TgZ(18,"div",13)(19,"label",14),s._uU(20,"Name"),s.qZA(),s.TgZ(21,"input",15,16),s.NdJ("ngModelChange",function(l){return r.userData.name=l}),s.qZA(),s.YNc(23,cNe,4,0,"div",17),s.qZA(),s._UZ(24,"br"),s.TgZ(25,"div",13)(26,"label",18),s._uU(27,"E-mail"),s.qZA(),s.TgZ(28,"input",19,20),s.NdJ("ngModelChange",function(l){return r.userData.email=l}),s.qZA(),s.YNc(30,lNe,4,0,"div",17),s.qZA(),s._UZ(31,"br"),s.TgZ(32,"div",21),s._uU(33," Where are you located? "),s.qZA(),s._UZ(34,"br"),s.TgZ(35,"div",22)(36,"div",23)(37,"input",24,25),s.NdJ("ngModelChange",function(l){return r.userData.location=l}),s.qZA(),s.TgZ(39,"label",26),s._uU(40,"U.S.A."),s.qZA()(),s.TgZ(41,"div",23)(42,"input",27,28),s.NdJ("ngModelChange",function(l){return r.userData.location=l}),s.qZA(),s.TgZ(44,"label",29),s._uU(45,"Brazil"),s.qZA()()(),s.YNc(46,uNe,33,5,"div",30),s.YNc(47,dNe,33,5,"div",30),s._UZ(48,"br")(49,"br"),s.TgZ(50,"div",31)(51,"button",32),s._uU(52," Proceed "),s.qZA()()()()(),s.TgZ(53,"div",33)(54,"div",34)(55,"div",35)(56,"h3"),s._uU(57," Purchase Summary "),s.qZA()(),s.TgZ(58,"div",36)(59,"div",37)(60,"div",38),s._uU(61),s.qZA(),s.TgZ(62,"div",39)(63,"span",40),s._uU(64,"USD"),s.qZA(),s._uU(65),s.qZA()(),s.TgZ(66,"div",41)(67,"div",42),s._uU(68," Total with Shipping "),s.qZA(),s.TgZ(69,"div",43)(70,"span",40),s._uU(71,"USD"),s.qZA(),s._uU(72),s.qZA()()()()(),s._UZ(73,"div",44),s.qZA()}if(2&t){const i=s.MAs(22),o=s.MAs(29);s.xp6(21),s.Q6J("ngModel",r.userData.name),s.xp6(2),s.Q6J("ngIf",!i.valid&&i.touched),s.xp6(5),s.Q6J("ngModel",r.userData.email),s.xp6(2),s.Q6J("ngIf",!o.valid&&o.touched),s.xp6(7),s.Q6J("ngModel",r.userData.location),s.xp6(5),s.Q6J("ngModel",r.userData.location),s.xp6(4),s.Q6J("ngIf","usa"==r.userData.location),s.xp6(1),s.Q6J("ngIf","br"==r.userData.location),s.xp6(14),s.hij(" Products (",r.totalProducts?r.totalProducts:r.productsArr.length,") "),s.xp6(4),s.hij(" ",r.totalValue?r.totalValue:r.productsArr[0].price," "),s.xp6(7),s.hij(" ",r.totalValue+5," ")}},dependencies:[Gt,si,cC,Y8,Bc,Y_,Z8,W8,pl,fl,qc],styles:[".navbar[_ngcontent-%COMP%]{padding-top:1.3rem;padding-bottom:1.3rem;font-family:Merriweather,serif;font-weight:400}.nav-item[_ngcontent-%COMP%]{padding-right:1rem;font-weight:700;font-size:.9rem}.navbar-brand[_ngcontent-%COMP%]{font-size:1.6rem;padding-left:1.5rem}.container[_ngcontent-%COMP%]{font-family:Merriweather,serif;padding-bottom:2rem}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;min-height:100vh}.info-address[_ngcontent-%COMP%], .info-product[_ngcontent-%COMP%]{padding-top:3rem}.info-address[_ngcontent-%COMP%]{width:60%}.address-header[_ngcontent-%COMP%]{position:relative}.address-content[_ngcontent-%COMP%]{padding-top:1.5rem}.info-product[_ngcontent-%COMP%]{width:35%;background-color:#ffffffa9;height:auto}#searchingField[_ngcontent-%COMP%]{opacity:.7;background-color:#80808063;content:attr(div)}.spinner[_ngcontent-%COMP%]{position:absolute;top:71%;left:25%;display:none;border:8px solid rgba(0,0,0,.1);border-left-color:#22a6b3;height:80px;width:80px;border-radius:50%;animation:spin 1s linear infinite;margin-top:3rem;margin-bottom:3rem}@keyframes spin{to{transform:rotate(360deg)}}.line-below[_ngcontent-%COMP%]{position:absolute;width:5rem;height:5px;background-color:#239f73;left:9%;top:100%;transform:translate(-50%);border-radius:5px}#zip-code-alert[_ngcontent-%COMP%]{display:none}.info-product-header[_ngcontent-%COMP%]{width:90%;padding-bottom:.3rem;border-bottom:1px solid rgba(128,128,128,.349)}.info-product-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}.section-content-1[_ngcontent-%COMP%]{width:90%;font-size:1rem;padding-top:1rem;padding-bottom:1rem;border-bottom:1px solid rgba(128,128,128,.349)}.section-content-2[_ngcontent-%COMP%]{width:90%;font-size:1rem;padding-top:1rem}#section-1-products[_ngcontent-%COMP%], #section-2-total[_ngcontent-%COMP%]{font-size:.8rem}#section-1-value[_ngcontent-%COMP%], #section-2-value[_ngcontent-%COMP%]{white-space:nowrap}@media (max-width: 768px){.main-container[_ngcontent-%COMP%]{flex-direction:column-reverse}.info-address[_ngcontent-%COMP%], .info-product[_ngcontent-%COMP%]{width:100%}.info-product[_ngcontent-%COMP%]{border-radius:.4rem;border:1px solid rgba(128,128,128,.555);margin-top:1rem}.info-product[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.info-product-header[_ngcontent-%COMP%], .section-content-1[_ngcontent-%COMP%], .section-content-2[_ngcontent-%COMP%]{width:100%}.row-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.spinner[_ngcontent-%COMP%]{top:100%;left:42%}.main-container[_ngcontent-%COMP%]{min-height:0}.line-below[_ngcontent-%COMP%]{width:5rem;left:11.5%;transform:translate(-50%)}}"]}),n})(),hNe=(()=>{class n{constructor(t,r){this.userService=t,this.router=r,this.userLoginData={name:null,email:null,password:null}}ngOnInit(){}onSubmit(t){console.log(t.value),this.userService.loginUser(t.value.email,t.value.password).then(r=>{console.log(r),this.router.navigate(["/home"])}).catch(r=>{console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ia),s.Y36(Sn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:34,vars:2,consts:[[1,"all-content-wrapper"],["id","dark-part",1,"container-fluid","bg-dark"],["id","title-wrapper",1,"d-flex","align-items-center"],["routerLink","/home","id","title"],[2,"font-weight","700"],[2,"color","rgb(254,231,18)"],[2,"color","rgb(35,159,115)"],[1,"form-wrapper","d-flex","flex-column","justify-content-between"],[1,"wrapper-header"],[1,"line-below"],[1,"form-row",3,"ngSubmit"],["form","ngForm"],[1,"form-group","col-md-12"],["for","email"],["type","email","id","email","name","email","placeholder","Your E-mail","required","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["for","password"],["type","password","id","password","name","password","placeholder","Your Password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","row-btn","d-flex","justify-content-center"],["type","submit",1,"btn","btn-success","rounded-pill","col-10",2,"font-weight","700"],[1,"login-link"],["routerLink","/register"]],template:function(t,r){if(1&t){const i=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s._uU(4," Store"),s.TgZ(5,"span",4)(6,"span",5),s._uU(7,"M"),s.qZA(),s.TgZ(8,"span",6),s._uU(9,"Q"),s.qZA()()()()(),s.TgZ(10,"div",7)(11,"div",8)(12,"h4"),s._uU(13,"LogIn"),s.qZA(),s._UZ(14,"span",9),s.qZA(),s.TgZ(15,"form",10,11),s.NdJ("ngSubmit",function(){s.CHM(i);const l=s.MAs(16);return s.KtG(r.onSubmit(l))}),s.TgZ(17,"div",12)(18,"label",13),s._uU(19,"E-mail"),s.qZA(),s.TgZ(20,"input",14,15),s.NdJ("ngModelChange",function(l){return r.userLoginData.email=l}),s.qZA()(),s.TgZ(22,"div",12)(23,"label",16),s._uU(24,"Password"),s.qZA(),s.TgZ(25,"input",17),s.NdJ("ngModelChange",function(l){return r.userLoginData.password=l}),s.qZA()(),s.TgZ(26,"div",18)(27,"button",19),s._uU(28,"LogIn"),s.qZA()(),s._UZ(29,"hr"),s.TgZ(30,"div",20),s._uU(31," You don't have an account yet? "),s.TgZ(32,"a",21),s._uU(33,"Register here"),s.qZA()()()()()}2&t&&(s.xp6(20),s.Q6J("ngModel",r.userLoginData.email),s.xp6(5),s.Q6J("ngModel",r.userLoginData.password))},dependencies:[E1,si,Y8,Bc,Z8,W8,pl,fl,qc],styles:["#dark-part[_ngcontent-%COMP%]{height:38vh}#title-wrapper[_ngcontent-%COMP%]{height:30%;width:100%;color:#fff;font-size:1.6rem;font-family:Merriweather,serif}#title[_ngcontent-%COMP%]{padding-left:1.5rem;cursor:pointer}.form-wrapper[_ngcontent-%COMP%]{position:absolute;padding:1rem;background-color:#fff;top:12%;left:50%;width:500px;border-radius:.6rem;transform:translate(-50%);box-shadow:#00000029 0 1px 4px}.wrapper-header[_ngcontent-%COMP%]{position:relative;padding-top:.5rem}.wrapper-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700}.line-below[_ngcontent-%COMP%]{position:absolute;width:2.5rem;height:5px;background-color:#239f73;left:7%;top:90%;transform:translate(-50%);border-radius:5px}form[_ngcontent-%COMP%]{padding-top:1rem}label[_ngcontent-%COMP%]{font-weight:700;font-size:.9rem}.form-group[_ngcontent-%COMP%]{padding-top:.6rem}.info[_ngcontent-%COMP%]:not(fa-icon){font-size:.7rem;opacity:.8;padding-top:.3rem}hr[_ngcontent-%COMP%]{border:0;height:1px;background:#333;width:100%;background-image:linear-gradient(to right,#ccc,rgb(26,26,26),#ccc)}.row-btn[_ngcontent-%COMP%]{padding-top:1.4rem}.login-link[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;opacity:.8}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})();function pNe(n,e){1&n&&(s.TgZ(0,"ngb-toast",32)(1,"span",33),s._uU(2,"You're registered! Navigating to login page...."),s.qZA()())}function gNe(n,e){1&n&&(s.TgZ(0,"ngb-toast",34)(1,"span",33),s._uU(2,"An error has occurred, please try again"),s.qZA()()),2&n&&s.Q6J("delay",3e3)}let mNe=(()=>{class n{constructor(t,r){this.userService=t,this.router=r,this.faCircleInfo=qE,this.userRegisterData={name:null,email:null,password:null},this.toastDisplay=!1,this.toastErrorDisplay=!1}ngOnInit(){}onSubmit(t){var r=document.getElementById("conf-password");this.userRegisterData.password==r.value?(console.log(t.value),this.userService.registerUser(t.value.email,t.value.password).then(i=>{this.toastDisplay=!0,_H(i.user,{displayName:t.value.name}).then(()=>{this.createUserDataOnFirestore({name:i.user.displayName,email:i.user.email,uid:i.user.uid})}),setTimeout(()=>{this.toastDisplay=!1,this.router.navigate(["/login"])},3e3)}).catch(i=>{this.toastErrorDisplay=!0,console.log(i)})):console.log("ERROR - The two passwords doesn't match with each others.")}createUserDataOnFirestore(t){this.userService.insertUserOnFirestore(t).then(()=>{console.log("Dado inserido no Firestore com sucesso!")}).catch(r=>console.log("Ocorreu um erro ao tentar inserir o dado no firestore: ",r))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ia),s.Y36(Sn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-register"]],decls:49,vars:6,consts:[[1,"all-content-wrapper"],["id","dark-part",1,"container-fluid","bg-dark"],["id","title-wrapper",1,"d-flex","align-items-center"],["routerLink","/home","id","title"],[2,"font-weight","700"],[2,"color","rgb(254,231,18)"],[2,"color","rgb(35,159,115)"],[1,"form-wrapper","d-flex","flex-column","justify-content-between"],[1,"row","d-flex","justify-content-center"],["class","bg-success text-white",4,"ngIf"],["class","bg-danger text-white",3,"delay",4,"ngIf"],[1,"wrapper-header"],[1,"line-below"],[1,"form-row",3,"ngSubmit"],["form","ngForm"],[1,"form-group","col-md-12"],["for","name"],["type","text","id","name","name","name","placeholder","Name and Surname","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["for","email"],["type","email","id","email","name","email","placeholder","Your E-mail","required","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["for","password"],["type","password","id","password","name","password","placeholder","At least 6 characters...","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"info"],[3,"icon"],["for","conf-password"],["type","password","id","conf-password","name","conf-password","required","",1,"form-control"],[1,"row","row-btn","d-flex","justify-content-center"],["type","submit",1,"btn","btn-success","rounded-pill","col-10",2,"font-weight","700"],[1,"login-link"],["routerLink","/login"],[1,"bg-success","text-white"],[1,"text-nowrap",2,"font-weight","700","font-size",".8rem"],[1,"bg-danger","text-white",3,"delay"]],template:function(t,r){if(1&t){const i=s.EpF();s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s._uU(4," Store"),s.TgZ(5,"span",4)(6,"span",5),s._uU(7,"M"),s.qZA(),s.TgZ(8,"span",6),s._uU(9,"Q"),s.qZA()()()()(),s.TgZ(10,"div",7)(11,"div",8),s.YNc(12,pNe,3,0,"ngb-toast",9),s.YNc(13,gNe,3,1,"ngb-toast",10),s.qZA(),s.TgZ(14,"div",11)(15,"h4"),s._uU(16,"Create Account"),s.qZA(),s._UZ(17,"span",12),s.qZA(),s.TgZ(18,"form",13,14),s.NdJ("ngSubmit",function(){s.CHM(i);const l=s.MAs(19);return s.KtG(r.onSubmit(l))}),s.TgZ(20,"div",15)(21,"label",16),s._uU(22,"Your Name"),s.qZA(),s.TgZ(23,"input",17,18),s.NdJ("ngModelChange",function(l){return r.userRegisterData.name=l}),s.qZA()(),s.TgZ(25,"div",15)(26,"label",19),s._uU(27,"E-mail"),s.qZA(),s.TgZ(28,"input",20,21),s.NdJ("ngModelChange",function(l){return r.userRegisterData.email=l}),s.qZA()(),s.TgZ(30,"div",15)(31,"label",22),s._uU(32,"Password"),s.qZA(),s.TgZ(33,"input",23),s.NdJ("ngModelChange",function(l){return r.userRegisterData.password=l}),s.qZA(),s.TgZ(34,"div",24),s._UZ(35,"fa-icon",25),s._uU(36," Passwords must be at least 6 characters long. "),s.qZA()(),s.TgZ(37,"div",15)(38,"label",26),s._uU(39,"Confirm Password"),s.qZA(),s._UZ(40,"input",27),s.qZA(),s.TgZ(41,"div",28)(42,"button",29),s._uU(43,"Confirm"),s.qZA()(),s._UZ(44,"hr"),s.TgZ(45,"div",30),s._uU(46," You already have an account? "),s.TgZ(47,"a",31),s._uU(48,"Login here"),s.qZA()()()()()}2&t&&(s.xp6(12),s.Q6J("ngIf",r.toastDisplay),s.xp6(1),s.Q6J("ngIf",r.toastErrorDisplay),s.xp6(10),s.Q6J("ngModel",r.userRegisterData.name),s.xp6(5),s.Q6J("ngModel",r.userRegisterData.email),s.xp6(5),s.Q6J("ngModel",r.userRegisterData.password),s.xp6(2),s.Q6J("icon",r.faCircleInfo))},dependencies:[Gt,E1,si,Q1e,po,Y8,Bc,Z8,W8,pl,fl,qc],styles:["#dark-part[_ngcontent-%COMP%]{height:38vh}#title-wrapper[_ngcontent-%COMP%]{height:30%;width:100%;color:#fff;font-size:1.6rem;font-family:Merriweather,serif}#title[_ngcontent-%COMP%]{padding-left:1.5rem;cursor:pointer}.form-wrapper[_ngcontent-%COMP%]{position:absolute;padding:1rem;background-color:#fff;top:12%;left:50%;width:500px;border-radius:.6rem;transform:translate(-50%);box-shadow:#00000029 0 1px 4px}.wrapper-header[_ngcontent-%COMP%]{position:relative;padding-top:.5rem}.wrapper-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700}.line-below[_ngcontent-%COMP%]{position:absolute;width:6rem;height:5px;background-color:#239f73;left:19%;top:90%;transform:translate(-50%);border-radius:5px}form[_ngcontent-%COMP%]{padding-top:1rem}label[_ngcontent-%COMP%]{font-weight:700;font-size:.9rem}.form-group[_ngcontent-%COMP%]{padding-top:.6rem}.info[_ngcontent-%COMP%]:not(fa-icon){font-size:.7rem;opacity:.8;padding-top:.3rem}hr[_ngcontent-%COMP%]{border:0;height:1px;background:#333;width:100%;background-image:linear-gradient(to right,#ccc,rgb(26,26,26),#ccc)}.row-btn[_ngcontent-%COMP%]{padding-top:1.4rem}.login-link[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;opacity:.8}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),n})(),vNe=(()=>{class n{constructor(t,r){this.fireAuth=t,this.userService=r,this.faUser=TE,this.faUserLarge=Sx,this.faLocation=DC,this.faAngleRight=DE,this.faListUl=fx,this.getCurrentUser()}ngOnInit(){}getCurrentUser(){console.log("this.fireAuth.currentUser: ",this.fireAuth.currentUser),this.userName=this.fireAuth.currentUser.displayName}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Hr),s.Y36(Ia))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-profile"]],decls:46,vars:7,consts:[[1,"container"],[1,"content-wrapper"],[1,"main-container","d-flex","flex-row","justify-content-around"],[1,"user-photo"],["src","../../../assets/unknownUser - co\u0301pia.png","alt",""],[1,"user-name","d-flex","flex-column","justify-content-center"],[1,"list-container","d-flex","flex-column"],["routerLink","/my-profile/my-data",1,"section-my-data","d-flex","flex-row"],[1,"icon-wrapper","d-flex","flex-column","align-items-center"],[1,"fa-2x",3,"icon"],[1,"section-info","d-flex","flex-column"],[1,"section-title"],[1,"section-sub-title"],[1,"icon-wrapper","d-flex","flex-column","justify-content-center","lign-items-center"],[1,"arrow",3,"icon"],["routerLink","/my-profile/my-address",1,"section-adresses","d-flex","flex-row"],["routerLink","/my-profile/desire-list",1,"section-my-list","d-flex","flex-row"]],template:function(t,r){1&t&&(s._UZ(0,"app-header"),s.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),s._UZ(5,"img",4),s.qZA(),s.TgZ(6,"div",5),s._uU(7),s.qZA()(),s.TgZ(8,"div",6)(9,"div",7)(10,"div",8),s._UZ(11,"fa-icon",9),s.qZA(),s.TgZ(12,"div",10)(13,"div",11)(14,"h4"),s._uU(15,"My data"),s.qZA()(),s.TgZ(16,"div",12)(17,"p"),s._uU(18,"manage your personal data."),s.qZA()()(),s.TgZ(19,"div",13),s._UZ(20,"fa-icon",14),s.qZA()(),s.TgZ(21,"div",15)(22,"div",8),s._UZ(23,"fa-icon",9),s.qZA(),s.TgZ(24,"div",10)(25,"div",11)(26,"h4"),s._uU(27,"Addresses"),s.qZA()(),s.TgZ(28,"div",12)(29,"p"),s._uU(30,"Change your addresses or add another one."),s.qZA()()(),s.TgZ(31,"div",13),s._UZ(32,"fa-icon",14),s.qZA()(),s.TgZ(33,"div",16)(34,"div",8),s._UZ(35,"fa-icon",9),s.qZA(),s.TgZ(36,"div",10)(37,"div",11)(38,"h4"),s._uU(39,"Your List"),s.qZA()(),s.TgZ(40,"div",12)(41,"p"),s._uU(42,"create and manage your wish list."),s.qZA()()(),s.TgZ(43,"div",13),s._UZ(44,"fa-icon",14),s.qZA()()()()(),s._UZ(45,"app-footer")),2&t&&(s.xp6(7),s.Oqu(r.userName),s.xp6(4),s.Q6J("icon",r.faUserLarge),s.xp6(9),s.Q6J("icon",r.faAngleRight),s.xp6(3),s.Q6J("icon",r.faLocation),s.xp6(9),s.Q6J("icon",r.faAngleRight),s.xp6(3),s.Q6J("icon",r.faListUl),s.xp6(9),s.Q6J("icon",r.faAngleRight))},dependencies:[E1,po,go,YC],styles:[".container[_ngcontent-%COMP%]{padding-bottom:4rem}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:2rem;font-family:Merriweather,serif;width:100%}.main-container[_ngcontent-%COMP%]{background-color:#fff;padding:1rem;border-radius:.4rem;width:80%;box-shadow:#00000029 0 1px 4px}.user-photo[_ngcontent-%COMP%]{border:2px solid rgb(35,159,115);padding:.3rem;border-radius:50%}.user-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:52px;height:auto}.user-name[_ngcontent-%COMP%]{width:80%;font-size:1.6rem;font-weight:700}.list-container[_ngcontent-%COMP%]{margin-top:3rem;background-color:#fff;padding:1rem;border-radius:.4rem;width:80%;box-shadow:#00000029 0 1px 4px}.section-info[_ngcontent-%COMP%]{width:85%}.section-info[_ngcontent-%COMP%]:not(.section-my-list    > .section-info)[_ngcontent-%COMP%]{border-bottom:1px solid rgba(128,128,128,.349)}.section-adresses[_ngcontent-%COMP%], .section-my-list[_ngcontent-%COMP%]{padding-top:.7rem}.section-my-data[_ngcontent-%COMP%], .section-adresses[_ngcontent-%COMP%], .section-my-list[_ngcontent-%COMP%]{cursor:pointer}.icon-wrapper[_ngcontent-%COMP%]{width:10%}.section-title[_ngcontent-%COMP%]{font-size:1rem}.section-sub-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;opacity:.8;transition:.5s}.arrow[_ngcontent-%COMP%]{transition:.3s}.section-my-data[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%], .section-adresses[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%], .section-my-list[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{color:#239f73}.section-my-data[_ngcontent-%COMP%]:hover   .section-sub-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .section-adresses[_ngcontent-%COMP%]:hover   .section-sub-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .section-my-list[_ngcontent-%COMP%]:hover   .section-sub-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-decoration:underline}@media (max-width: 992px){.section-info[_ngcontent-%COMP%]{align-items:center}}@media (max-width: 767px){.list-container[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]{width:90%}}@media (max-width: 600px){.list-container[_ngcontent-%COMP%], .main-container[_ngcontent-%COMP%]{width:95%}.user-name[_ngcontent-%COMP%]{font-size:1.2rem}}"]}),n})();const pA=(0,Ke.U)(n=>!!n);let _Ne=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,o)=>{const l=i.data.authGuardPipe||(()=>pA);return rv(this.auth).pipe(On(1),l(i,o),(0,Ke.U)(d=>"boolean"==typeof d?d:Array.isArray(d)?this.router.createUrlTree(d):this.router.parseUrl(d)))}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Sn),s.LFG(Hr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const M9=n=>({canActivate:[_Ne],data:{authGuardPipe:n}}),w9=n=>(0,Ls.z)(pA,(0,Ke.U)(e=>e||n)),yNe=[{path:"home",component:UDe},{path:"categories",component:JAe},{path:"categories/:category",component:eNe},{path:"query",component:rNe},{path:"cart",component:aNe},{path:"buying",component:fNe},{path:"login",component:hNe},{path:"register",component:mNe},{path:"my-profile",component:vNe,...M9(()=>w9(["/home"]))},{path:"my-profile/my-data",component:HDe,...M9(()=>w9(["/home"]))},{path:"my-profile/my-address",component:LDe,...M9(()=>w9(["/home"]))},{path:"my-profile/my-address/add",component:xq,...M9(()=>w9(["/home"]))},{path:"my-profile/my-address/edit/:id",component:xq,...M9(()=>w9(["/home"]))},{path:"products/:id",component:HAe},{path:"",redirectTo:"home",pathMatch:"full"}];let bNe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[t6.forRoot(yNe,{scrollPositionRestoration:"enabled"}),t6]}),n})(),MNe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")},dependencies:[Dd],styles:['@import"https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&display=swap";']}),n})();function gW(n){return new s.vHH(3e3,!1)}function rHe(){return typeof window<"u"&&typeof window.document<"u"}function gA(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function e3(n){switch(n.length){case 0:return new b9;case 1:return n[0];default:return new oW(n)}}function mW(n,e,t,r,i=new Map,o=new Map){const l=[],d=[];let p=-1,v=null;if(r.forEach(y=>{const D=y.get("offset"),x=D==p,H=x&&v||new Map;y.forEach((z,U)=>{let q=U,re=z;if("offset"!==U)switch(q=e.normalizePropertyName(q,l),re){case"!":re=i.get(U);break;case Ra:re=o.get(U);break;default:re=e.normalizeStyleValue(U,q,re,l)}H.set(q,re)}),x||d.push(H),v=H,p=D}),l.length)throw function GNe(n){return new s.vHH(3502,!1)}();return d}function mA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&vA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&vA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&vA(t,"destroy",n)))}}function vA(n,e,t){const o=_A(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(o._data=l),o}function _A(n,e,t,r,i="",o=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!l}}function R1(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function vW(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let CA=(n,e)=>!1,_W=(n,e,t)=>[],CW=null;function yA(n){const e=n.parentNode||n.host;return e===CW?null:e}(gA()||typeof Element<"u")&&(rHe()?(CW=(()=>document.documentElement)(),CA=(n,e)=>{for(;e;){if(e===n)return!0;e=yA(e)}return!1}):CA=(n,e)=>n.contains(e),_W=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let El=null,yW=!1;const bW=CA,MW=_W;let wW=(()=>{class n{validateStyleProperty(t){return function sHe(n){El||(El=function oHe(){return typeof document<"u"?document.body:null}()||{},yW=!!El.style&&"WebkitAppearance"in El.style);let e=!0;return El.style&&!function iHe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in El.style,!e&&yW&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in El.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return bW(t,r)}getParentElement(t){return yA(t)}query(t,r,i){return MW(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,l,d=[],p){return new b9(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),bA=(()=>{class n{}return n.NOOP=new wW,n})();const MA="ng-enter",ty="ng-leave",ny="ng-trigger",ry=".ng-trigger",DW="ng-animating",wA=".ng-animating";function Ua(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:SA(parseFloat(e[1]),e[2])}function SA(n,e){return"s"===e?1e3*n:n}function iy(n,e,t){return n.hasOwnProperty("duration")?n:function lHe(n,e,t){let i,o=0,l="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(gW()),{duration:0,delay:0,easing:""};i=SA(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(o=SA(parseFloat(p),d[4]));const v=d[5];v&&(l=v)}else i=n;if(!t){let d=!1,p=e.length;i<0&&(e.push(function wNe(){return new s.vHH(3100,!1)}()),d=!0),o<0&&(e.push(function SNe(){return new s.vHH(3101,!1)}()),d=!0),d&&e.splice(p,0,gW())}return{duration:i,delay:o,easing:l}}(n,e,t)}function S9(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function TW(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function t3(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function xW(n,e,t){return t?e+":"+t+";":""}function AW(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=xW(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=xW(0,hHe(t),n.style[t]));n.setAttribute("style",e)}function mo(n,e,t){n.style&&(e.forEach((r,i)=>{const o=TA(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),gA()&&AW(n))}function xl(n,e){n.style&&(e.forEach((t,r)=>{const i=TA(r);n.style[i]=""}),gA()&&AW(n))}function D9(n){return Array.isArray(n)?1==n.length?n[0]:nW(n):n}const DA=new RegExp("{{\\s*(.+?)\\s*}}","g");function NW(n){let e=[];if("string"==typeof n){let t;for(;t=DA.exec(n);)e.push(t[1]);DA.lastIndex=0}return e}function T9(n,e,t){const r=n.toString(),i=r.replace(DA,(o,l)=>{let d=e[l];return null==d&&(t.push(function TNe(n){return new s.vHH(3003,!1)}()),d=""),d.toString()});return i==r?n:i}function sy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const fHe=/-+([a-z0-9])/g;function TA(n){return n.replace(fHe,(...e)=>e[1].toUpperCase())}function hHe(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function F1(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ENe(n){return new s.vHH(3004,!1)}()}}function HW(n,e){return window.getComputedStyle(n)[e]}function CHe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function yHe(n,e,t){if(":"==n[0]){const p=function bHe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function UNe(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function FNe(n){return new s.vHH(3015,!1)}()),e;const i=r[1],o=r[2],l=r[3];e.push(IW(i,l));"<"==o[0]&&!("*"==i&&"*"==l)&&e.push(IW(l,i))}(r,t,e)):t.push(n),t}const ly=new Set(["true","1"]),uy=new Set(["false","0"]);function IW(n,e){const t=ly.has(n)||uy.has(n),r=ly.has(e)||uy.has(e);return(i,o)=>{let l="*"==n||n==i,d="*"==e||e==o;return!l&&t&&"boolean"==typeof i&&(l=i?ly.has(n):uy.has(n)),!d&&r&&"boolean"==typeof o&&(d=o?ly.has(e):uy.has(e)),l&&d}}const MHe=new RegExp("s*:selfs*,?","g");function EA(n,e,t,r){return new wHe(n).build(e,t,r)}class wHe{constructor(e){this._driver=e}build(e,t,r){const i=new THe(t);return this._resetContextStyleTimingState(i),F1(this,D9(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function ANe(){return new s.vHH(3006,!1)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const p=d,v=p.name;v.toString().split(/\s*,\s*/).forEach(y=>{p.name=y,o.push(this.visitState(p,t))}),p.name=v}else if(1==d.type){const p=this.visitTransition(d,t);r+=p.queryCount,i+=p.depCount,l.push(p)}else t.errors.push(function NNe(){return new s.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,l=i||{};r.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{NW(p).forEach(v=>{l.hasOwnProperty(v)||o.add(v)})})}),o.size&&(sy(o.values()),t.errors.push(function HNe(n,e){return new s.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=F1(this,D9(e.animation),t);return{type:1,matchers:CHe(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Al(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>F1(this,r,t)),options:Al(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(l=>{t.currentTime=r;const d=F1(this,l,t);return i=Math.max(i,t.currentTime),d});return t.currentTime=i,{type:3,steps:o,options:Al(e.options)}}visitAnimate(e,t){const r=function xHe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return xA(iy(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=xA(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=iy(t,e);return xA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:JC({});if(5==o.type)i=this.visitKeyframes(o,t);else{let l=e.styles,d=!1;if(!l){d=!0;const v={};r.easing&&(v.easing=r.easing),l=JC(v)}t.currentTime+=r.duration+r.delay;const p=this.visitStyle(l,t);p.isEmptyStep=d,i=p}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let d of i)"string"==typeof d?d===Ra?r.push(d):t.errors.push(new s.vHH(3002,!1)):r.push(TW(d));let o=!1,l=null;return r.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(l=d.get("easing"),d.delete("easing")),!o))for(let p of d.values())if(p.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((d,p)=>{const v=t.collectedStyles.get(t.currentQuerySelector),y=v.get(p);let D=!0;y&&(o!=i&&o>=y.startTime&&i<=y.endTime&&(t.errors.push(function VNe(n,e,t,r,i){return new s.vHH(3010,!1)}()),D=!1),o=y.startTime),D&&v.set(p,{startTime:o,endTime:i}),t.options&&function dHe(n,e,t){const r=e.params||{},i=NW(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function DNe(n){return new s.vHH(3001,!1)}())})}(d,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function LNe(){return new s.vHH(3011,!1)}()),r;let o=0;const l=[];let d=!1,p=!1,v=0;const y=e.steps.map(re=>{const ue=this._makeStyleAst(re,t);let ge=null!=ue.offset?ue.offset:function EHe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(ue.styles),fe=0;return null!=ge&&(o++,fe=ue.offset=ge),p=p||fe<0||fe>1,d=d||fe<v,v=fe,l.push(fe),ue});p&&t.errors.push(function zNe(){return new s.vHH(3012,!1)}()),d&&t.errors.push(function kNe(){return new s.vHH(3200,!1)}());const D=e.steps.length;let x=0;o>0&&o<D?t.errors.push(function ONe(){return new s.vHH(3202,!1)}()):0==o&&(x=1/(D-1));const H=D-1,z=t.currentTime,U=t.currentAnimateTimings,q=U.duration;return y.forEach((re,ue)=>{const ge=x>0?ue==H?1:x*ue:l[ue],fe=ge*q;t.currentTime=z+U.delay+fe,U.duration=fe,this._validateStyleAst(re,t),re.offset=ge,r.styles.push(re)}),r}visitReference(e,t){return{type:8,animation:F1(this,D9(e.animation),t),options:Al(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Al(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Al(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,l]=function SHe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(MHe,"")),n=n.replace(/@\*/g,ry).replace(/@\w+/g,t=>ry+"-"+t.slice(1)).replace(/:animating/g,wA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,R1(t.collectedStyles,t.currentQuerySelector,new Map);const d=F1(this,D9(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:d,originalSelector:e.selector,options:Al(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function PNe(){return new s.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:iy(e.timings,t.errors,!0);return{type:12,animation:F1(this,D9(e.animation),t),timings:r,options:null}}}class THe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Al(n){return n?(n=S9(n)).params&&(n.params=function DHe(n){return n?S9(n):null}(n.params)):n={},n}function xA(n,e,t){return{duration:n,delay:e,easing:t}}function AA(n,e,t,r,i,o,l=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:d}}class dy{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const HHe=new RegExp(":enter","g"),VHe=new RegExp(":leave","g");function NA(n,e,t,r,i,o=new Map,l=new Map,d,p,v=[]){return(new LHe).buildKeyframes(n,e,t,r,i,o,l,d,p,v)}class LHe{buildKeyframes(e,t,r,i,o,l,d,p,v,y=[]){v=v||new dy;const D=new HA(e,t,v,i,o,y,[]);D.options=p;const x=p.delay?Ua(p.delay):0;D.currentTimeline.delayNextStep(x),D.currentTimeline.setStyles([l],null,D.errors,p),F1(this,r,D);const H=D.timelines.filter(z=>z.containsAnimation());if(H.length&&d.size){let z;for(let U=H.length-1;U>=0;U--){const q=H[U];if(q.element===t){z=q;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([d],null,D.errors,p)}return H.length?H.map(z=>z.buildKeyframes()):[AA(t,[],[],[],0,x,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);o!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const l="number"==typeof o?o:Ua(T9(o,i?.params??{},t.errors));r.delayNextStep(l)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const l=null!=r.duration?Ua(r.duration):null,d=null!=r.delay?Ua(r.delay):null;return 0!==l&&e.forEach(p=>{const v=t.appendInstructionToTimeline(p,l,d);o=Math.max(o,v.duration+v.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),F1(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=fy);const l=Ua(o.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>F1(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Ua(e.options.delay):0;e.steps.forEach(l=>{const d=t.createSubContext(e.options);o&&d.delayNextStep(o),F1(this,l,d),i=Math.max(i,d.currentTimeline.currentTime),r.push(d.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return iy(t.params?T9(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,d=t.createSubContext().currentTimeline;d.easing=r.easing,e.styles.forEach(p=>{d.forwardTime((p.offset||0)*o),d.setStyles(p.styles,p.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Ua(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fy);let l=r;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=d.length;let p=null;d.forEach((v,y)=>{t.currentQueryIndex=y;const D=t.createSubContext(e.options,v);o&&D.delayNextStep(o),v===t.element&&(p=D.currentTimeline),F1(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,l=Math.abs(o.duration),d=l*(t.currentQueryTotal-1);let p=l*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=d-p;break;case"full":p=r.currentStaggerTime}const y=t.currentTimeline;p&&y.delayNextStep(p);const D=y.currentTime;F1(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-D+(i.startTime-r.currentTimeline.startTime)}}const fy={};class HA{constructor(e,t,r,i,o,l,d,p){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new hy(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ua(r.duration)),null!=r.delay&&(i.delay=Ua(r.delay));const o=r.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(d=>{(!t||!l.hasOwnProperty(d))&&(l[d]=T9(o[d],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new HA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=fy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new zHe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,l){let d=[];if(i&&d.push(this.element),e.length>0){e=(e=e.replace(HHe,"."+this._enterClassName)).replace(VHe,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),d.push(...v)}return!o&&0==d.length&&l.push(function RNe(n){return new s.vHH(3014,!1)}()),d}}class hy{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new hy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Ra),this._currentKeyframe.set(t,Ra);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},l=function kHe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,Ra)}else t3(i,t)}),t}(e,this._globalTimelineStyles);for(let[d,p]of l){const v=T9(p,o,r);this._pendingStyles.set(d,v),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??Ra),this._updateStyle(d,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((d,p)=>{const v=t3(d,new Map,this._backFill);v.forEach((y,D)=>{"!"===y?e.add(D):y===Ra&&t.add(D)}),r||v.set("offset",p/this.duration),i.push(v)});const o=e.size?sy(e.values()):[],l=t.size?sy(t.values()):[];if(r){const d=i[0],p=new Map(d);d.set("offset",0),p.set("offset",1),i=[d,p]}return AA(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}}class zHe extends hy{constructor(e,t,r,i,o,l,d=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],l=r+t,d=t/l,p=t3(e[0]);p.set("offset",0),o.push(p);const v=t3(e[0]);v.set("offset",zW(d)),o.push(v);const y=e.length-1;for(let D=1;D<=y;D++){let x=t3(e[D]);const H=x.get("offset");x.set("offset",zW((t+H*r)/l)),o.push(x)}r=l,t=0,i="",e=o}return AA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function zW(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class IA{}const OHe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class PHe extends IA{normalizePropertyName(e,t){return TA(e)}normalizeStyleValue(e,t,r,i){let o="";const l=r.toString().trim();if(OHe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const d=r.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&i.push(function xNe(n,e){return new s.vHH(3005,!1)}())}return l+o}}function kW(n,e,t,r,i,o,l,d,p,v,y,D,x){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:l,timelines:d,queriedElements:p,preStyleProps:v,postStyleProps:y,totalTime:D,errors:x}}const VA={};class OW{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function RHe(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,l,d,p,v,y){const D=[],x=this.ast.options&&this.ast.options.params||VA,z=this.buildStyles(r,d&&d.params||VA,D),U=p&&p.params||VA,q=this.buildStyles(i,U,D),re=new Set,ue=new Map,ge=new Map,fe="void"===i,xe={params:FHe(U,x),delay:this.ast.options?.delay},Ve=y?[]:NA(e,t,this.ast.animation,o,l,z,q,xe,v,D);let Ye=0;if(Ve.forEach($t=>{Ye=Math.max($t.duration+$t.delay,Ye)}),D.length)return kW(t,this._triggerName,r,i,fe,z,q,[],[],ue,ge,Ye,D);Ve.forEach($t=>{const Cn=$t.element,Xn=R1(ue,Cn,new Set);$t.preStyleProps.forEach(a2=>Xn.add(a2));const _r=R1(ge,Cn,new Set);$t.postStyleProps.forEach(a2=>_r.add(a2)),Cn!==t&&re.add(Cn)});const St=sy(re.values());return kW(t,this._triggerName,r,i,fe,z,q,Ve,St,ue,ge,Ye)}}function FHe(n,e){const t=S9(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class UHe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=S9(this.defaultParams);return Object.keys(e).forEach(o=>{const l=e[o];null!==l&&(i[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,d)=>{l&&(l=T9(l,i,t));const p=this.normalizer.normalizePropertyName(d,t);l=this.normalizer.normalizeStyleValue(d,p,l,t),r.set(p,l)})}),r}}class jHe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new UHe(i.style,i.options&&i.options.params||{},r))}),PW(this.states,"true","1"),PW(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new OW(e,i,this.states))}),this.fallbackTransition=function $He(n,e,t){return new OW(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function PW(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const GHe=new dy;class qHe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],o=EA(this._driver,t,r,[]);if(r.length)throw function qNe(n){return new s.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=mW(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let l;const d=new Map;if(o?(l=NA(this._driver,t,o,MA,ty,new Map,new Map,r,GHe,i),l.forEach(y=>{const D=R1(d,y.element,new Map);y.postStyleProps.forEach(x=>D.set(x,null))})):(i.push(function ZNe(){return new s.vHH(3300,!1)}()),l=[]),i.length)throw function WNe(n){return new s.vHH(3504,!1)}();d.forEach((y,D)=>{y.forEach((x,H)=>{y.set(H,this._driver.computeStyle(D,H,Ra))})});const v=e3(l.map(y=>{const D=d.get(y.element);return this._buildPlayer(y,new Map,D)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function KNe(n){return new s.vHH(3301,!1)}();return t}listen(e,t,r,i){const o=_A(t,"","","");return mA(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const RW="ng-animate-queued",LA="ng-animate-disabled",QHe=[],FW={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},JHe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mi="__ng_removed";class zA{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function nIe(n){return n??null}(r?e.value:e),r){const o=S9(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const E9="void",kA=new zA(E9);class XHe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,vi(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function YNe(n,e){return new s.vHH(3302,!1)}();if(null==r||0==r.length)throw function QNe(n){return new s.vHH(3303,!1)}();if(!function rIe(n){return"start"==n||"done"==n}(r))throw function JNe(n,e){return new s.vHH(3400,!1)}();const o=R1(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};o.push(l);const d=R1(this._engine.statesByElement,e,new Map);return d.has(t)||(vi(e,ny),vi(e,ny+"-"+t),d.set(t,kA)),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(l);p>=0&&o.splice(p,1),this._triggers.has(t)||d.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function XNe(n){return new s.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),l=new OA(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(vi(e,ny),vi(e,ny+"-"+t),this._engine.statesByElement.set(e,d=new Map));let p=d.get(t);const v=new zA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&v.absorbOptions(p.options),d.set(t,v),p||(p=kA),v.value!==E9&&p.value===v.value){if(!function oIe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(p.params,v.params)){const U=[],q=o.matchStyles(p.value,p.params,U),re=o.matchStyles(v.value,v.params,U);U.length?this._engine.reportError(U):this._engine.afterFlush(()=>{xl(e,q),mo(e,re)})}return}const x=R1(this._engine.playersByElement,e,[]);x.forEach(U=>{U.namespaceId==this.id&&U.triggerName==t&&U.queued&&U.destroy()});let H=o.matchTransition(p.value,v.value,e,v.params),z=!1;if(!H){if(!i)return;H=o.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:p,toState:v,player:l,isFallbackTransition:z}),z||(vi(e,RW),l.onStart(()=>{h5(e,RW)})),l.onDone(()=>{let U=this.players.indexOf(l);U>=0&&this.players.splice(U,1);const q=this._engine.playersByElement.get(e);if(q){let re=q.indexOf(l);re>=0&&q.splice(re,1)}}),this.players.push(l),x.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,ry,!0);r.forEach(i=>{if(i[mi])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),l=new Map;if(o){const d=[];if(o.forEach((p,v)=>{if(l.set(v,p.value),this._triggers.has(v)){const y=this.trigger(e,v,E9,i);y&&d.push(y)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&e3(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const l=o.name;if(i.has(l))return;i.add(l);const p=this._triggers.get(l).fallbackTransition,v=r.get(l)||kA,y=new zA(E9),D=new OA(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:v,toState:y,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[mi];(!o||o===FW)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){vi(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,l=this._elementListeners.get(o);l&&l.forEach(d=>{if(d.name==r.triggerName){const p=_A(o,r.triggerName,r.fromState.value,r.toState.value);p._data=e,mA(r.player,d.phase,p,d.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class eIe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new XHe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,d=this.driver.getParentElement(t);for(;d;){const p=i.get(d);if(p){const v=r.indexOf(p);r.splice(v+1,0,e),l=!0;break}d=this.driver.getParentElement(d)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(py(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!py(t))return;const o=t[mi];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),vi(e,LA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),h5(e,LA))}removeNode(e,t,r,i){if(py(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[mi]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return py(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ry,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,wA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return e3(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[mi];if(t&&t.setForRemoval){if(e[mi]=FW,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(LA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)vi(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?e3(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function eHe(n){return new s.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new dy,i=[],o=new Map,l=[],d=new Map,p=new Map,v=new Map,y=new Set;this.disabledNodes.forEach(Ze=>{y.add(Ze);const lt=this.driver.query(Ze,".ng-animate-queued",!0);for(let Dt=0;Dt<lt.length;Dt++)y.add(lt[Dt])});const D=this.bodyNode,x=Array.from(this.statesByElement.keys()),H=jW(x,this.collectedEnterElements),z=new Map;let U=0;H.forEach((Ze,lt)=>{const Dt=MA+U++;z.set(lt,Dt),Ze.forEach(Zt=>vi(Zt,Dt))});const q=[],re=new Set,ue=new Set;for(let Ze=0;Ze<this.collectedLeaveElements.length;Ze++){const lt=this.collectedLeaveElements[Ze],Dt=lt[mi];Dt&&Dt.setForRemoval&&(q.push(lt),re.add(lt),Dt.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(Zt=>re.add(Zt)):ue.add(lt))}const ge=new Map,fe=jW(x,Array.from(re));fe.forEach((Ze,lt)=>{const Dt=ty+U++;ge.set(lt,Dt),Ze.forEach(Zt=>vi(Zt,Dt))}),e.push(()=>{H.forEach((Ze,lt)=>{const Dt=z.get(lt);Ze.forEach(Zt=>h5(Zt,Dt))}),fe.forEach((Ze,lt)=>{const Dt=ge.get(lt);Ze.forEach(Zt=>h5(Zt,Dt))}),q.forEach(Ze=>{this.processLeaveNode(Ze)})});const xe=[],Ve=[];for(let Ze=this._namespaceList.length-1;Ze>=0;Ze--)this._namespaceList[Ze].drainQueuedTransitions(t).forEach(Dt=>{const Zt=Dt.player,c2=Dt.element;if(xe.push(Zt),this.collectedEnterElements.length){const T2=c2[mi];if(T2&&T2.setForMove){if(T2.previousTriggersValues&&T2.previousTriggersValues.has(Dt.triggerName)){const Xr=T2.previousTriggersValues.get(Dt.triggerName),Vr=this.statesByElement.get(Dt.element);if(Vr&&Vr.has(Dt.triggerName)){const m5=Vr.get(Dt.triggerName);m5.value=Xr,Vr.set(Dt.triggerName,m5)}}return void Zt.destroy()}}const m1=!D||!this.driver.containsElement(D,c2),$2=ge.get(c2),U1=z.get(c2),Mn=this._buildInstruction(Dt,r,U1,$2,m1);if(Mn.errors&&Mn.errors.length)return void Ve.push(Mn);if(m1)return Zt.onStart(()=>xl(c2,Mn.fromStyles)),Zt.onDestroy(()=>mo(c2,Mn.toStyles)),void i.push(Zt);if(Dt.isFallbackTransition)return Zt.onStart(()=>xl(c2,Mn.fromStyles)),Zt.onDestroy(()=>mo(c2,Mn.toStyles)),void i.push(Zt);const ps=[];Mn.timelines.forEach(T2=>{T2.stretchStartingKeyframe=!0,this.disabledNodes.has(T2.element)||ps.push(T2)}),Mn.timelines=ps,r.append(c2,Mn.timelines),l.push({instruction:Mn,player:Zt,element:c2}),Mn.queriedElements.forEach(T2=>R1(d,T2,[]).push(Zt)),Mn.preStyleProps.forEach((T2,Xr)=>{if(T2.size){let Vr=p.get(Xr);Vr||p.set(Xr,Vr=new Set),T2.forEach((m5,Il)=>Vr.add(Il))}}),Mn.postStyleProps.forEach((T2,Xr)=>{let Vr=v.get(Xr);Vr||v.set(Xr,Vr=new Set),T2.forEach((m5,Il)=>Vr.add(Il))})});if(Ve.length){const Ze=[];Ve.forEach(lt=>{Ze.push(function tHe(n,e){return new s.vHH(3505,!1)}())}),xe.forEach(lt=>lt.destroy()),this.reportError(Ze)}const Ye=new Map,St=new Map;l.forEach(Ze=>{const lt=Ze.element;r.has(lt)&&(St.set(lt,lt),this._beforeAnimationBuild(Ze.player.namespaceId,Ze.instruction,Ye))}),i.forEach(Ze=>{const lt=Ze.element;this._getPreviousPlayers(lt,!1,Ze.namespaceId,Ze.triggerName,null).forEach(Zt=>{R1(Ye,lt,[]).push(Zt),Zt.destroy()})});const $t=q.filter(Ze=>GW(Ze,p,v)),Cn=new Map;BW(Cn,this.driver,ue,v,Ra).forEach(Ze=>{GW(Ze,p,v)&&$t.push(Ze)});const _r=new Map;H.forEach((Ze,lt)=>{BW(_r,this.driver,new Set(Ze),p,"!")}),$t.forEach(Ze=>{const lt=Cn.get(Ze),Dt=_r.get(Ze);Cn.set(Ze,new Map([...Array.from(lt?.entries()??[]),...Array.from(Dt?.entries()??[])]))});const a2=[],Co=[],yo={};l.forEach(Ze=>{const{element:lt,player:Dt,instruction:Zt}=Ze;if(r.has(lt)){if(y.has(lt))return Dt.onDestroy(()=>mo(lt,Zt.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(Zt.totalTime),void i.push(Dt);let c2=yo;if(St.size>1){let $2=lt;const U1=[];for(;$2=$2.parentNode;){const Mn=St.get($2);if(Mn){c2=Mn;break}U1.push($2)}U1.forEach(Mn=>St.set(Mn,c2))}const m1=this._buildAnimation(Dt.namespaceId,Zt,Ye,o,_r,Cn);if(Dt.setRealPlayer(m1),c2===yo)a2.push(Dt);else{const $2=this.playersByElement.get(c2);$2&&$2.length&&(Dt.parentPlayer=e3($2)),i.push(Dt)}}else xl(lt,Zt.fromStyles),Dt.onDestroy(()=>mo(lt,Zt.toStyles)),Co.push(Dt),y.has(lt)&&i.push(Dt)}),Co.forEach(Ze=>{const lt=o.get(Ze.element);if(lt&&lt.length){const Dt=e3(lt);Ze.setRealPlayer(Dt)}}),i.forEach(Ze=>{Ze.parentPlayer?Ze.syncPlayerEvents(Ze.parentPlayer):Ze.destroy()});for(let Ze=0;Ze<q.length;Ze++){const lt=q[Ze],Dt=lt[mi];if(h5(lt,ty),Dt&&Dt.hasAnimation)continue;let Zt=[];if(d.size){let m1=d.get(lt);m1&&m1.length&&Zt.push(...m1);let $2=this.driver.query(lt,wA,!0);for(let U1=0;U1<$2.length;U1++){let Mn=d.get($2[U1]);Mn&&Mn.length&&Zt.push(...Mn)}}const c2=Zt.filter(m1=>!m1.destroyed);c2.length?iIe(this,lt,c2):this.processLeaveNode(lt)}return q.length=0,a2.forEach(Ze=>{this.players.push(Ze),Ze.onDone(()=>{Ze.destroy();const lt=this.players.indexOf(Ze);this.players.splice(lt,1)}),Ze.play()}),a2}elementContainsData(e,t){let r=!1;const i=t[mi];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let l=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(l=d)}else{const d=this.playersByElement.get(e);if(d){const p=!o||o==E9;d.forEach(v=>{v.queued||!p&&v.triggerName!=i||l.push(v)})}}return(r||i)&&(l=l.filter(d=>!(r&&r!=d.namespaceId||i&&i!=d.triggerName))),l}_beforeAnimationBuild(e,t,r){const o=t.element,l=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const v=p.element,y=v!==o,D=R1(r,v,[]);this._getPreviousPlayers(v,y,l,d,t.toState).forEach(H=>{const z=H.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),H.destroy(),D.push(H)})}xl(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,l){const d=t.triggerName,p=t.element,v=[],y=new Set,D=new Set,x=t.timelines.map(z=>{const U=z.element;y.add(U);const q=U[mi];if(q&&q.removedBeforeQueried)return new b9(z.duration,z.delay);const re=U!==p,ue=function sIe(n){const e=[];return $W(n,e),e}((r.get(U)||QHe).map(Ye=>Ye.getRealPlayer())).filter(Ye=>!!Ye.element&&Ye.element===U),ge=o.get(U),fe=l.get(U),xe=mW(0,this._normalizer,0,z.keyframes,ge,fe),Ve=this._buildPlayer(z,xe,ue);if(z.subTimeline&&i&&D.add(U),re){const Ye=new OA(e,d,U);Ye.setRealPlayer(Ve),v.push(Ye)}return Ve});v.forEach(z=>{R1(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function tIe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,z.element,z))}),y.forEach(z=>vi(z,DW));const H=e3(x);return H.onDestroy(()=>{y.forEach(z=>h5(z,DW)),mo(p,t.toStyles)}),D.forEach(z=>{R1(i,z,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new b9(e.duration,e.delay)}}class OA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new b9,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>mA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){R1(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function py(n){return n&&1===n.nodeType}function UW(n,e){const t=n.style.display;return n.style.display=e??"none",t}function BW(n,e,t,r,i){const o=[];t.forEach(p=>o.push(UW(p)));const l=[];r.forEach((p,v)=>{const y=new Map;p.forEach(D=>{const x=e.computeStyle(v,D,i);y.set(D,x),(!x||0==x.length)&&(v[mi]=JHe,l.push(v))}),n.set(v,y)});let d=0;return t.forEach(p=>UW(p,o[d++])),l}function jW(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const i=new Set(e),o=new Map;function l(d){if(!d)return 1;let p=o.get(d);if(p)return p;const v=d.parentNode;return p=t.has(v)?v:i.has(v)?1:l(v),o.set(d,p),p}return e.forEach(d=>{const p=l(d);1!==p&&t.get(p).push(d)}),t}function vi(n,e){n.classList?.add(e)}function h5(n,e){n.classList?.remove(e)}function iIe(n,e,t){e3(t).onDone(()=>n.processLeaveNode(e))}function $W(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof oW?$W(r.players,e):e.push(r)}}function GW(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class gy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new eIe(e,t,r),this._timelineEngine=new qHe(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const l=e+"-"+i;let d=this._triggerCache[l];if(!d){const p=[],y=EA(this._driver,o,p,[]);if(p.length)throw function $Ne(n,e){return new s.vHH(3404,!1)}();d=function BHe(n,e,t){return new jHe(n,e,t)}(i,y,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(t,i,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,l]=vW(r);this._timelineEngine.command(o,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[l,d]=vW(r);return this._timelineEngine.listen(l,t,d,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let cIe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&mo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(mo(this._element,this._initialStyles),this._endStyles&&(mo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xl(this._element,this._endStyles),this._endStyles=null),mo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function PA(n){let e=null;return n.forEach((t,r)=>{(function lIe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class qW{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:HW(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class uIe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return bW(e,t)}getParentElement(e){return yA(e)}query(e,t,r){return MW(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,l=[]){const p={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(p.easing=o);const v=new Map,y=l.filter(H=>H instanceof qW);(function pHe(n,e){return 0===n||0===e})(r,i)&&y.forEach(H=>{H.currentSnapshot.forEach((z,U)=>v.set(U,z))});let D=function uHe(n){return n.length?n[0]instanceof Map?n:n.map(e=>TW(e)):[]}(t).map(H=>t3(H));D=function gHe(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,l)=>{r.has(l)||i.push(l),r.set(l,o)}),i.length)for(let o=1;o<e.length;o++){let l=e[o];i.forEach(d=>l.set(d,HW(n,d)))}}return e}(e,D,v);const x=function aIe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=PA(e[0]),e.length>1&&(r=PA(e[e.length-1]))):e instanceof Map&&(t=PA(e)),t||r?new cIe(n,t,r):null}(e,D);return new qW(e,D,p,x)}}let dIe=(()=>{class n extends eW{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?nW(t):t;return ZW(this._renderer,null,r,"register",[i]),new fIe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(we))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class fIe extends class Xxe{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new hIe(this._id,e,t||{},this._renderer)}}class hIe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ZW(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ZW(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const WW="@.disabled";let pIe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,l)=>{const d=l?.parentNode(o);d&&l.removeChild(d,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let y=this._rendererCache.get(o);return y||(y=new KW("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,y)),y}const l=r.id,d=r.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const p=y=>{Array.isArray(y)?y.forEach(p):this.engine.registerTrigger(l,d,t,y.name,y)};return r.data.animation.forEach(p),new gIe(this,d,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,d]=o;l(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(gy),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class KW{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==WW?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class gIe extends KW{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==WW?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function mIe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function vIe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,l,d=>{this.factory.scheduleListenerCallback(d._data||-1,r,d)})}return this.delegate.listen(e,t,r)}}let _Ie=(()=>{class n extends gy{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(we),s.LFG(bA),s.LFG(IA),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const YW=[{provide:eW,useClass:dIe},{provide:IA,useFactory:function CIe(){return new PHe}},{provide:gy,useClass:_Ie},{provide:s.FYo,useFactory:function yIe(n,e,t){return new pIe(n,e,t)},deps:[M3,gy,s.R0b]}],RA=[{provide:bA,useFactory:()=>new uIe},{provide:s.QbO,useValue:"BrowserAnimations"},...YW],QW=[{provide:bA,useClass:wW},{provide:s.QbO,useValue:"NoopAnimations"},...YW];let bIe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?QW:RA}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:RA,imports:[zi]}),n})();const FA={firebase:{projectId:"my-ecommerce-b82dd",appId:"1:416142489186:web:4c76cbbeae274033c3c33b",storageBucket:"my-ecommerce-b82dd.appspot.com",apiKey:"AIzaSyD48tp6gY942E6a3AClqz7XXI6ZZe7isMs",authDomain:"my-ecommerce-b82dd.firebaseapp.com",messagingSenderId:"416142489186"},production:!0},JW="firebasestorage.googleapis.com";class o2 extends st.ZR{constructor(e,t,r=0){super(UA(e),`Firebase Storage: ${t} (${UA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,o2.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return UA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function UA(n){return"storage/"+n}function jA(n){return new o2("invalid-argument",n)}function rK(){return new o2("app-deleted","The Firebase app was deleted.")}class Qr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Qr.makeFromUrl(e,t)}catch{return new Qr(e,"")}if(""===r.path)return r;throw function HIe(n){return new o2("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(fe){fe.path_=decodeURIComponent(fe.path)}const D=t.replace(/[.]/g,"\\."),ge=[{regex:d,indices:{bucket:1,path:3},postModify:function o(fe){"/"===fe.path.charAt(fe.path.length-1)&&(fe.path_=fe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===JW?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let fe=0;fe<ge.length;fe++){const xe=ge[fe],Ve=xe.regex.exec(e);if(Ve){let St=Ve[xe.indices.path];St||(St=""),r=new Qr(Ve[xe.indices.bucket],St),xe.postModify(r);break}}if(null==r)throw function NIe(n){return new o2("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class OIe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function GA(n,e,t,r){if(r<e)throw jA(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw jA(`Invalid value for '${n}'. Expected ${t} or less.`)}var n3=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(n3||(n3={})),n3))();class jIe{constructor(e,t,r,i,o,l,d,p,v,y,D,x=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=y,this.connectionFactory_=D,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,z)=>{this.resolve_=H,this.reject_=z,this.start_()})}start_(){const t=(r,i)=>{const o=this.resolve_,l=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function FIe(n){return void 0!==n}(p)?o():o(p)}catch(p){l(p)}else if(null!==d){const p=function BA(){return new o2("unknown","An unknown error occurred, please check the error payload for server response.")}();p.serverResponse=d.getErrorText(),l(this.errorCallback_?this.errorCallback_(d,p):p)}else l(i.canceled?this.appDelete_?rK():function tK(){return new o2("canceled","User canceled the upload/download.")}():function eK(){return new o2("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new _y(!1,null,!0)):this.backoffId_=function PIe(n,e,t){let r=1,i=null,o=null,l=!1,d=0;function p(){return 2===d}let v=!1;function y(...q){v||(v=!0,e.apply(null,q))}function D(q){i=setTimeout(()=>{i=null,n(H,p())},q)}function x(){o&&clearTimeout(o)}function H(q,...re){if(v)return void x();if(q)return x(),void y.call(null,q,...re);if(p()||l)return x(),void y.call(null,q,...re);let ge;r<64&&(r*=2),1===d?(d=2,ge=0):ge=1e3*(r+Math.random()),D(ge)}let z=!1;function U(q){z||(z=!0,x(),!v&&(null!==i?(q||(d=2),clearTimeout(i),D(0)):q||(d=1)))}return D(0),o=setTimeout(()=>{l=!0,U(!0)},t),U}((r,i)=>{if(i)return void r(!1,new _y(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const l=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const d=o.getErrorCode()===n3.NO_ERROR,p=o.getStatus();if((!d||function oK(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||i||o}(p,this.additionalRetryCodes_))&&this.retry){const y=o.getErrorCode()===n3.ABORT;return void r(!1,new _y(!1,null,y))}const v=-1!==this.successCodes_.indexOf(p);r(!0,new _y(v,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function RIe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class _y{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}class Nl{constructor(e,t){this._service=e,this._location=t instanceof Qr?t:Qr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Nl(e,t)}get root(){const e=new Qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function dK(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function rVe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Qr(this._location.bucket,e);return new Nl(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function kIe(n){return new o2("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function TK(n,e){const t=e?.storageBucket;return null==t?null:Qr.makeFromBucketSpec(t,n)}class JA{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=JW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Qr.makeFromBucketSpec(i,this._host):TK(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Qr.makeFromBucketSpec(this._url,e):TK(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,W.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,W.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nl(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new OIe(rK());{const l=function WIe(n,e,t,r,i,o,l=!0){const d=function sK(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}(n.urlParams),p=n.url+d,v=Object.assign({},n.headers);return function qIe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function $Ie(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function GIe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,o),function ZIe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new jIe(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l)}(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,t){var r=this;return(0,W.Z)(function*(){const[i,o]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,o).getPromise()})()}}const EK="@firebase/storage",AK="storage";function BVe(n=(0,Rt.getApp)(),e){n=(0,st.m9)(n);const r=(0,Rt._getProvider)(n,AK).getImmediate({identifier:e}),i=(0,st.P0)("storage");return i&&function jVe(n,e,t,r={}){!function UVe(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,st.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function $Ve(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new JA(t,r,i,e,Rt.SDK_VERSION)}!function GVe(){(0,Rt._registerComponent)(new xr.wA(AK,$Ve,"PUBLIC").setMultipleInstances(!0)),(0,Rt.registerVersion)(EK,"0.10.0",""),(0,Rt.registerVersion)(EK,"0.10.0","esm2017")}();class XA{constructor(e){return e}}const NK="storage",eN=new s.OlP("angularfire2.storage-instances");function WVe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new XA(r)}}const KVe={provide:class qVe{constructor(){return _a(NK)}},deps:[[new s.FiY,eN]]},YVe={provide:XA,useFactory:function ZVe(n,e){const t=M6(NK,n,e);return t&&new XA(t)},deps:[[new s.FiY,eN],ba]};let QVe=(()=>{class n{constructor(){(0,Rt.registerVersion)("angularfire",ic.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[YVe,KVe]}),n})();function JVe(n,...e){return{ngModule:QVe,providers:[{provide:eN,useFactory:WVe(n),multi:!0,deps:[s.R0b,s.zs3,fi,w6,[new s.FiY,Gu],[new s.FiY,Ks],...e]}]}}const XVe=X2(BVe,!0);let eLe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[MNe]}),n.\u0275inj=s.cJS({providers:[{provide:os.Dh,useValue:FA.firebase}],imports:[zi,bNe,iie,dDe,dE,W9,EAe,bIe,tO,Tm(()=>UM(FA.firebase)),nH(()=>ov()),xee(()=>Aee()),JVe(()=>XVe())]}),n})();FA.production&&(0,s.G48)(),Po().bootstrapModule(eLe).catch(n=>console.error(n))},9751:(bt,He,O)=>{O.d(He,{y:()=>be});var s=O(930),F=O(727),k=O(8822),le=O(9635),Ee=O(2416),Me=O(576),we=O(2806);let be=(()=>{class Q{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Se=new Q;return Se.source=this,Se.operator=Re,Se}subscribe(Re,Se,Qe){const oe=function $(Q){return Q&&Q instanceof s.Lv||function G(Q){return Q&&(0,Me.m)(Q.next)&&(0,Me.m)(Q.error)&&(0,Me.m)(Q.complete)}(Q)&&(0,F.Nn)(Q)}(Re)?Re:new s.Hp(Re,Se,Qe);return(0,we.x)(()=>{const{operator:de,source:rt}=this;oe.add(de?de.call(oe,rt):rt?this._subscribe(oe):this._trySubscribe(oe))}),oe}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Se){Re.error(Se)}}forEach(Re,Se){return new(Se=ke(Se))((Qe,oe)=>{const de=new s.Hp({next:rt=>{try{Re(rt)}catch(it){oe(it),de.unsubscribe()}},error:oe,complete:Qe});this.subscribe(de)})}_subscribe(Re){var Se;return null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(Re)}[k.L](){return this}pipe(...Re){return(0,le.U)(Re)(this)}toPromise(Re){return new(Re=ke(Re))((Se,Qe)=>{let oe;this.subscribe(de=>oe=de,de=>Qe(de),()=>Se(oe))})}}return Q.create=Ue=>new Q(Ue),Q})();function ke(Q){var Ue;return null!==(Ue=Q??Ee.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(bt,He,O)=>{O.d(He,{x:()=>we});var s=O(9751),F=O(727);const le=(0,O(3888).d)(ke=>function(){ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=O(8737),Me=O(2806);let we=(()=>{class ke extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Q=new be(this,this);return Q.operator=$,Q}_throwIfClosed(){if(this.closed)throw new le}next($){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next($)}})}error($){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Q}=this;for(;Q.length;)Q.shift().error($)}})}complete(){(0,Me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Q,isStopped:Ue,observers:Re}=this;return Q||Ue?F.Lc:(this.currentObservers=null,Re.push($),new F.w0(()=>{this.currentObservers=null,(0,Ee.P)(Re,$)}))}_checkFinalizedStatuses($){const{hasError:Q,thrownError:Ue,isStopped:Re}=this;Q?$.error(Ue):Re&&$.complete()}asObservable(){const $=new s.y;return $.source=this,$}}return ke.create=(G,$)=>new be(G,$),ke})();class be extends we{constructor(G,$){super(),this.destination=G,this.source=$}next(G){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Q||Q.call($,G)}error(G){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Q||Q.call($,G)}complete(){var G,$;null===($=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===$||$.call(G)}_subscribe(G){var $,Q;return null!==(Q=null===($=this.source)||void 0===$?void 0:$.subscribe(G))&&void 0!==Q?Q:F.Lc}}},930:(bt,He,O)=>{O.d(He,{Hp:()=>Qe,Lv:()=>Q});var s=O(576),F=O(727),k=O(2416),le=O(7849),Ee=O(5032);const Me=ke("C",void 0,void 0);function ke(Oe,De,me){return{kind:Oe,value:De,error:me}}var G=O(3410),$=O(2806);class Q extends F.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,F.Nn)(De)&&De.add(this)):this.destination=it}static create(De,me,Be){return new Qe(De,me,Be)}next(De){this.isStopped?rt(function be(Oe){return ke("N",Oe,void 0)}(De),this):this._next(De)}error(De){this.isStopped?rt(function we(Oe){return ke("E",void 0,Oe)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?rt(Me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Re(Oe,De){return Ue.call(Oe,De)}class Se{constructor(De){this.partialObserver=De}next(De){const{partialObserver:me}=this;if(me.next)try{me.next(De)}catch(Be){oe(Be)}}error(De){const{partialObserver:me}=this;if(me.error)try{me.error(De)}catch(Be){oe(Be)}else oe(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(me){oe(me)}}}class Qe extends Q{constructor(De,me,Be){let te;if(super(),(0,s.m)(De)||!De)te={next:De??void 0,error:me??void 0,complete:Be??void 0};else{let ie;this&&k.v.useDeprecatedNextContext?(ie=Object.create(De),ie.unsubscribe=()=>this.unsubscribe(),te={next:De.next&&Re(De.next,ie),error:De.error&&Re(De.error,ie),complete:De.complete&&Re(De.complete,ie)}):te=De}this.destination=new Se(te)}}function oe(Oe){k.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Oe):(0,le.h)(Oe)}function rt(Oe,De){const{onStoppedNotification:me}=k.v;me&&G.z.setTimeout(()=>me(Oe,De))}const it={closed:!0,next:Ee.Z,error:function de(Oe){throw Oe},complete:Ee.Z}},727:(bt,He,O)=>{O.d(He,{Lc:()=>Me,w0:()=>Ee,Nn:()=>we});var s=O(576);const k=(0,O(3888).d)(ke=>function($){ke(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Q,Ue)=>`${Ue+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var le=O(8737);class Ee{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Re of $)Re.remove(this);else $.remove(this);const{initialTeardown:Q}=this;if((0,s.m)(Q))try{Q()}catch(Re){G=Re instanceof k?Re.errors:[Re]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Re of Ue)try{be(Re)}catch(Se){G=G??[],Se instanceof k?G=[...G,...Se.errors]:G.push(Se)}}if(G)throw new k(G)}}add(G){var $;if(G&&G!==this)if(this.closed)be(G);else{if(G instanceof Ee){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(G)}}_hasParent(G){const{_parentage:$}=this;return $===G||Array.isArray($)&&$.includes(G)}_addParent(G){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(G),$):$?[$,G]:G}_removeParent(G){const{_parentage:$}=this;$===G?this._parentage=null:Array.isArray($)&&(0,le.P)($,G)}remove(G){const{_finalizers:$}=this;$&&(0,le.P)($,G),G instanceof Ee&&G._removeParent(this)}}Ee.EMPTY=(()=>{const ke=new Ee;return ke.closed=!0,ke})();const Me=Ee.EMPTY;function we(ke){return ke instanceof Ee||ke&&"closed"in ke&&(0,s.m)(ke.remove)&&(0,s.m)(ke.add)&&(0,s.m)(ke.unsubscribe)}function be(ke){(0,s.m)(ke)?ke():ke.unsubscribe()}},2416:(bt,He,O)=>{O.d(He,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(bt,He,O)=>{O.d(He,{E:()=>F});const F=new(O(9751).y)(Ee=>Ee.complete())},8996:(bt,He,O)=>{O.d(He,{D:()=>De});var s=O(8421),F=O(5363),k=O(9468),Me=O(9751),be=O(2202),ke=O(576),G=O(9672);function Q(me,Be){if(!me)throw new Error("Iterable cannot be null");return new Me.y(te=>{(0,G.f)(te,Be,()=>{const ie=me[Symbol.asyncIterator]();(0,G.f)(te,Be,()=>{ie.next().then(he=>{he.done?te.complete():te.next(he.value)})},0,!0)})})}var Ue=O(3670),Re=O(8239),Se=O(1144),Qe=O(6495),oe=O(2206),de=O(4532),rt=O(3260);function De(me,Be){return Be?function Oe(me,Be){if(null!=me){if((0,Ue.c)(me))return function le(me,Be){return(0,s.Xf)(me).pipe((0,k.R)(Be),(0,F.Q)(Be))}(me,Be);if((0,Se.z)(me))return function we(me,Be){return new Me.y(te=>{let ie=0;return Be.schedule(function(){ie===me.length?te.complete():(te.next(me[ie++]),te.closed||this.schedule())})})}(me,Be);if((0,Re.t)(me))return function Ee(me,Be){return(0,s.Xf)(me).pipe((0,k.R)(Be),(0,F.Q)(Be))}(me,Be);if((0,oe.D)(me))return Q(me,Be);if((0,Qe.T)(me))return function $(me,Be){return new Me.y(te=>{let ie;return(0,G.f)(te,Be,()=>{ie=me[be.h](),(0,G.f)(te,Be,()=>{let he,K;try{({value:he,done:K}=ie.next())}catch(Y){return void te.error(Y)}K?te.complete():te.next(he)},0,!0)}),()=>(0,ke.m)(ie?.return)&&ie.return()})}(me,Be);if((0,rt.L)(me))return function it(me,Be){return Q((0,rt.Q)(me),Be)}(me,Be)}throw(0,de.z)(me)}(me,Be):(0,s.Xf)(me)}},8421:(bt,He,O)=>{O.d(He,{Xf:()=>Ue});var s=O(655),F=O(1144),k=O(8239),le=O(9751),Ee=O(3670),Me=O(2206),we=O(4532),be=O(6495),ke=O(3260),G=O(576),$=O(7849),Q=O(8822);function Ue(Oe){if(Oe instanceof le.y)return Oe;if(null!=Oe){if((0,Ee.c)(Oe))return function Re(Oe){return new le.y(De=>{const me=Oe[Q.L]();if((0,G.m)(me.subscribe))return me.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,F.z)(Oe))return function Se(Oe){return new le.y(De=>{for(let me=0;me<Oe.length&&!De.closed;me++)De.next(Oe[me]);De.complete()})}(Oe);if((0,k.t)(Oe))return function Qe(Oe){return new le.y(De=>{Oe.then(me=>{De.closed||(De.next(me),De.complete())},me=>De.error(me)).then(null,$.h)})}(Oe);if((0,Me.D)(Oe))return de(Oe);if((0,be.T)(Oe))return function oe(Oe){return new le.y(De=>{for(const me of Oe)if(De.next(me),De.closed)return;De.complete()})}(Oe);if((0,ke.L)(Oe))return function rt(Oe){return de((0,ke.Q)(Oe))}(Oe)}throw(0,we.z)(Oe)}function de(Oe){return new le.y(De=>{(function it(Oe,De){var me,Be,te,ie;return(0,s.mG)(this,void 0,void 0,function*(){try{for(me=(0,s.KL)(Oe);!(Be=yield me.next()).done;)if(De.next(Be.value),De.closed)return}catch(he){te={error:he}}finally{try{Be&&!Be.done&&(ie=me.return)&&(yield ie.call(me))}finally{if(te)throw te.error}}De.complete()})})(Oe,De).catch(me=>De.error(me))})}},6451:(bt,He,O)=>{O.d(He,{T:()=>Me});var s=O(8189),F=O(8421),k=O(515),le=O(3269),Ee=O(8996);function Me(...we){const be=(0,le.yG)(we),ke=(0,le._6)(we,1/0),G=we;return G.length?1===G.length?(0,F.Xf)(G[0]):(0,s.J)(ke)((0,Ee.D)(G,be)):k.E}},5403:(bt,He,O)=>{O.d(He,{x:()=>F});var s=O(930);function F(le,Ee,Me,we,be){return new k(le,Ee,Me,we,be)}class k extends s.Lv{constructor(Ee,Me,we,be,ke,G){super(Ee),this.onFinalize=ke,this.shouldUnsubscribe=G,this._next=Me?function($){try{Me($)}catch(Q){Ee.error(Q)}}:super._next,this._error=be?function($){try{be($)}catch(Q){Ee.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch($){Ee.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Me}=this;super.unsubscribe(),!Me&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},4004:(bt,He,O)=>{O.d(He,{U:()=>k});var s=O(4482),F=O(5403);function k(le,Ee){return(0,s.e)((Me,we)=>{let be=0;Me.subscribe((0,F.x)(we,ke=>{we.next(le.call(Ee,ke,be++))}))})}},8189:(bt,He,O)=>{O.d(He,{J:()=>k});var s=O(5577),F=O(4671);function k(le=1/0){return(0,s.z)(F.y,le)}},5577:(bt,He,O)=>{O.d(He,{z:()=>be});var s=O(4004),F=O(8421),k=O(4482),le=O(9672),Ee=O(5403),we=O(576);function be(ke,G,$=1/0){return(0,we.m)(G)?be((Q,Ue)=>(0,s.U)((Re,Se)=>G(Q,Re,Ue,Se))((0,F.Xf)(ke(Q,Ue))),$):("number"==typeof G&&($=G),(0,k.e)((Q,Ue)=>function Me(ke,G,$,Q,Ue,Re,Se,Qe){const oe=[];let de=0,rt=0,it=!1;const Oe=()=>{it&&!oe.length&&!de&&G.complete()},De=Be=>de<Q?me(Be):oe.push(Be),me=Be=>{Re&&G.next(Be),de++;let te=!1;(0,F.Xf)($(Be,rt++)).subscribe((0,Ee.x)(G,ie=>{Ue?.(ie),Re?De(ie):G.next(ie)},()=>{te=!0},void 0,()=>{if(te)try{for(de--;oe.length&&de<Q;){const ie=oe.shift();Se?(0,le.f)(G,Se,()=>me(ie)):me(ie)}Oe()}catch(ie){G.error(ie)}}))};return ke.subscribe((0,Ee.x)(G,De,()=>{it=!0,Oe()})),()=>{Qe?.()}}(Q,Ue,ke,$)))}},5363:(bt,He,O)=>{O.d(He,{Q:()=>le});var s=O(9672),F=O(4482),k=O(5403);function le(Ee,Me=0){return(0,F.e)((we,be)=>{we.subscribe((0,k.x)(be,ke=>(0,s.f)(be,Ee,()=>be.next(ke),Me),()=>(0,s.f)(be,Ee,()=>be.complete(),Me),ke=>(0,s.f)(be,Ee,()=>be.error(ke),Me)))})}},3099:(bt,He,O)=>{O.d(He,{B:()=>Ee});var s=O(8421),F=O(7579),k=O(930),le=O(4482);function Ee(we={}){const{connector:be=(()=>new F.x),resetOnError:ke=!0,resetOnComplete:G=!0,resetOnRefCountZero:$=!0}=we;return Q=>{let Ue,Re,Se,Qe=0,oe=!1,de=!1;const rt=()=>{Re?.unsubscribe(),Re=void 0},it=()=>{rt(),Ue=Se=void 0,oe=de=!1},Oe=()=>{const De=Ue;it(),De?.unsubscribe()};return(0,le.e)((De,me)=>{Qe++,!de&&!oe&&rt();const Be=Se=Se??be();me.add(()=>{Qe--,0===Qe&&!de&&!oe&&(Re=Me(Oe,$))}),Be.subscribe(me),!Ue&&Qe>0&&(Ue=new k.Hp({next:te=>Be.next(te),error:te=>{de=!0,rt(),Re=Me(it,ke,te),Be.error(te)},complete:()=>{oe=!0,rt(),Re=Me(it,G),Be.complete()}}),(0,s.Xf)(De).subscribe(Ue))})(Q)}}function Me(we,be,...ke){if(!0===be)return void we();if(!1===be)return;const G=new k.Hp({next:()=>{G.unsubscribe(),we()}});return be(...ke).subscribe(G)}},9468:(bt,He,O)=>{O.d(He,{R:()=>F});var s=O(4482);function F(k,le=0){return(0,s.e)((Ee,Me)=>{Me.add(k.schedule(()=>Ee.subscribe(Me),le))})}},3410:(bt,He,O)=>{O.d(He,{z:()=>s});const s={setTimeout(F,k,...le){const{delegate:Ee}=s;return Ee?.setTimeout?Ee.setTimeout(F,k,...le):setTimeout(F,k,...le)},clearTimeout(F){const{delegate:k}=s;return(k?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(bt,He,O)=>{O.d(He,{h:()=>F});const F=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bt,He,O)=>{O.d(He,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(bt,He,O)=>{O.d(He,{_6:()=>Me,jO:()=>le,yG:()=>Ee});var s=O(576),F=O(3532);function k(we){return we[we.length-1]}function le(we){return(0,s.m)(k(we))?we.pop():void 0}function Ee(we){return(0,F.K)(k(we))?we.pop():void 0}function Me(we,be){return"number"==typeof k(we)?we.pop():be}},8737:(bt,He,O)=>{function s(F,k){if(F){const le=F.indexOf(k);0<=le&&F.splice(le,1)}}O.d(He,{P:()=>s})},3888:(bt,He,O)=>{function s(F){const le=F(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}O.d(He,{d:()=>s})},2806:(bt,He,O)=>{O.d(He,{O:()=>le,x:()=>k});var s=O(2416);let F=null;function k(Ee){if(s.v.useDeprecatedSynchronousErrorHandling){const Me=!F;if(Me&&(F={errorThrown:!1,error:null}),Ee(),Me){const{errorThrown:we,error:be}=F;if(F=null,we)throw be}}else Ee()}function le(Ee){s.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=Ee)}},9672:(bt,He,O)=>{function s(F,k,le,Ee=0,Me=!1){const we=k.schedule(function(){le(),Me?F.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(F.add(we),!Me)return we}O.d(He,{f:()=>s})},4671:(bt,He,O)=>{function s(F){return F}O.d(He,{y:()=>s})},1144:(bt,He,O)=>{O.d(He,{z:()=>s});const s=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(bt,He,O)=>{O.d(He,{D:()=>F});var s=O(576);function F(k){return Symbol.asyncIterator&&(0,s.m)(k?.[Symbol.asyncIterator])}},576:(bt,He,O)=>{function s(F){return"function"==typeof F}O.d(He,{m:()=>s})},3670:(bt,He,O)=>{O.d(He,{c:()=>k});var s=O(8822),F=O(576);function k(le){return(0,F.m)(le[s.L])}},6495:(bt,He,O)=>{O.d(He,{T:()=>k});var s=O(2202),F=O(576);function k(le){return(0,F.m)(le?.[s.h])}},8239:(bt,He,O)=>{O.d(He,{t:()=>F});var s=O(576);function F(k){return(0,s.m)(k?.then)}},3260:(bt,He,O)=>{O.d(He,{L:()=>le,Q:()=>k});var s=O(655),F=O(576);function k(Ee){return(0,s.FC)(this,arguments,function*(){const we=Ee.getReader();try{for(;;){const{value:be,done:ke}=yield(0,s.qq)(we.read());if(ke)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(be)}}finally{we.releaseLock()}})}function le(Ee){return(0,F.m)(Ee?.getReader)}},3532:(bt,He,O)=>{O.d(He,{K:()=>F});var s=O(576);function F(k){return k&&(0,s.m)(k.schedule)}},4482:(bt,He,O)=>{O.d(He,{A:()=>F,e:()=>k});var s=O(576);function F(le){return(0,s.m)(le?.lift)}function k(le){return Ee=>{if(F(Ee))return Ee.lift(function(Me){try{return le(Me,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(bt,He,O)=>{function s(){}O.d(He,{Z:()=>s})},9635:(bt,He,O)=>{O.d(He,{U:()=>k,z:()=>F});var s=O(4671);function F(...le){return k(le)}function k(le){return 0===le.length?s.y:1===le.length?le[0]:function(Me){return le.reduce((we,be)=>be(we),Me)}}},7849:(bt,He,O)=>{O.d(He,{h:()=>k});var s=O(2416),F=O(3410);function k(le){F.z.setTimeout(()=>{const{onUnhandledError:Ee}=s.v;if(!Ee)throw le;Ee(le)})}},4532:(bt,He,O)=>{function s(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(He,{z:()=>s})},655:(bt,He,O)=>{function le(K,Y){var ae={};for(var ne in K)Object.prototype.hasOwnProperty.call(K,ne)&&Y.indexOf(ne)<0&&(ae[ne]=K[ne]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(ne=Object.getOwnPropertySymbols(K);Le<ne.length;Le++)Y.indexOf(ne[Le])<0&&Object.prototype.propertyIsEnumerable.call(K,ne[Le])&&(ae[ne[Le]]=K[ne[Le]])}return ae}function be(K,Y,ae,ne){return new(ae||(ae=Promise))(function(ze,ht){function Jt(hn){try{je(ne.next(hn))}catch(Zn){ht(Zn)}}function Ut(hn){try{je(ne.throw(hn))}catch(Zn){ht(Zn)}}function je(hn){hn.done?ze(hn.value):function Le(ze){return ze instanceof ae?ze:new ae(function(ht){ht(ze)})}(hn.value).then(Jt,Ut)}je((ne=ne.apply(K,Y||[])).next())})}function oe(K){return this instanceof oe?(this.v=K,this):new oe(K)}function de(K,Y,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,ne=ae.apply(K,Y||[]),ze=[];return Le={},ht("next"),ht("throw"),ht("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function ht(pn){ne[pn]&&(Le[pn]=function(Xt){return new Promise(function(Bt,kt){ze.push([pn,Xt,Bt,kt])>1||Jt(pn,Xt)})})}function Jt(pn,Xt){try{!function Ut(pn){pn.value instanceof oe?Promise.resolve(pn.value.v).then(je,hn):Zn(ze[0][2],pn)}(ne[pn](Xt))}catch(Bt){Zn(ze[0][3],Bt)}}function je(pn){Jt("next",pn)}function hn(pn){Jt("throw",pn)}function Zn(pn,Xt){pn(Xt),ze.shift(),ze.length&&Jt(ze[0][0],ze[0][1])}}function it(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,Y=K[Symbol.asyncIterator];return Y?Y.call(K):(K=function Q(K){var Y="function"==typeof Symbol&&Symbol.iterator,ae=Y&&K[Y],ne=0;if(ae)return ae.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&ne>=K.length&&(K=void 0),{value:K&&K[ne++],done:!K}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),ae={},ne("next"),ne("throw"),ne("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function ne(ze){ae[ze]=K[ze]&&function(ht){return new Promise(function(Jt,Ut){!function Le(ze,ht,Jt,Ut){Promise.resolve(Ut).then(function(je){ze({value:je,done:Jt})},ht)}(Jt,Ut,(ht=K[ze](ht)).done,ht.value)})}}}O.d(He,{FC:()=>de,KL:()=>it,_T:()=>le,mG:()=>be,qq:()=>oe})},4650:(bt,He,O)=>{O.d(He,{$8M:()=>g4,$Z:()=>Qp,AFp:()=>Lt,ALo:()=>Gm,AaK:()=>be,AsE:()=>C6,BQk:()=>Q4,CHM:()=>T5,CRH:()=>dw,CZH:()=>fc,CqO:()=>Bg,D6c:()=>Z7,EJc:()=>Js,EiD:()=>Sd,EpF:()=>N2,F$t:()=>jg,F4k:()=>X0,FYo:()=>xp,FiY:()=>Es,G48:()=>Fw,Gf:()=>uw,GfV:()=>X3,Gpc:()=>$,Hsn:()=>ru,Ikx:()=>Mu,JOm:()=>ur,JVY:()=>Uy,KtG:()=>Xa,L6k:()=>By,LAX:()=>$y,LFG:()=>Wn,LMc:()=>Qw,LSH:()=>Td,Lbi:()=>b7,Lck:()=>S6,MAs:()=>$s,MGl:()=>J4,MMx:()=>n7,NdJ:()=>m6,OlP:()=>yn,Oqu:()=>Hf,PXZ:()=>yv,Q6J:()=>h6,QGY:()=>bf,QP$:()=>Ne,QbO:()=>Vw,Qsj:()=>ib,QtT:()=>Hm,R0b:()=>$r,RDi:()=>vd,Rgc:()=>x6,SBq:()=>V4,SDv:()=>Qf,Sil:()=>tr,Suo:()=>_7,TTD:()=>Ai,TgZ:()=>W4,Tol:()=>em,Udp:()=>v6,VKq:()=>Pu,W1O:()=>nv,WLB:()=>Ru,X6Q:()=>z7,XFs:()=>Je,Xpm:()=>ve,Xts:()=>xd,Y36:()=>ca,YKP:()=>Vm,YNc:()=>Rg,Yjl:()=>P,Yz7:()=>Xt,Z0I:()=>e1,ZZ4:()=>Sa,_Bn:()=>Im,_UZ:()=>g6,_Vd:()=>I4,_c5:()=>q7,_uU:()=>om,aQg:()=>z6,c2e:()=>er,cJS:()=>kt,cg1:()=>wu,dDg:()=>T7,dqk:()=>Vt,eBb:()=>jy,eFA:()=>r8,ekj:()=>du,eoX:()=>E7,evT:()=>Np,f3M:()=>Y5,g9A:()=>uv,h0i:()=>cc,hGG:()=>u8,hij:()=>gu,iGM:()=>Ys,ifc:()=>gt,ip1:()=>dt,jDz:()=>Lm,kEZ:()=>u7,kL8:()=>y6,l5B:()=>Pm,lG2:()=>Z,lcZ:()=>f7,lnq:()=>If,lqb:()=>sa,lri:()=>mv,mCW:()=>Ki,n5z:()=>K1,oAB:()=>Qt,oJD:()=>Y3,oxw:()=>Sf,pB0:()=>up,pQV:()=>Jf,q3G:()=>In,q4F:()=>Od,qLn:()=>Yi,qOj:()=>Lg,qZA:()=>K4,qbA:()=>d7,qzn:()=>x4,rWj:()=>vv,s9C:()=>iu,sBO:()=>Bw,sIi:()=>u6,s_b:()=>ju,soG:()=>h2,tb:()=>dv,tp0:()=>Ri,uIk:()=>f6,vHH:()=>Se,vpe:()=>H1,wAp:()=>ft,xi3:()=>Uu,xp6:()=>Pp,ynx:()=>Y4,z2F:()=>mc,z3N:()=>Zi,zSh:()=>Hd,zs3:()=>oa});var s=O(7579),F=O(727),k=O(9751),le=O(6451),Ee=O(3099);function Me(a){for(let c in a)if(a[c]===Me)return c;throw Error("Could not find renamed property on target object.")}function we(a,c){for(const u in c)c.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=c[u])}function be(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(be).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function ke(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const G=Me({__forward_ref__:Me});function $(a){return a.__forward_ref__=$,a.toString=function(){return be(this())},a}function Q(a){return Ue(a)?a():a}function Ue(a){return"function"==typeof a&&a.hasOwnProperty(G)&&a.__forward_ref__===$}class Se extends Error{constructor(c,u){super(function Qe(a,c){return`NG0${Math.abs(a)}${c?": "+c.trim():""}`}(c,u)),this.code=c}}function oe(a){return"string"==typeof a?a:null==a?"":String(a)}function De(a,c){throw new Se(-201,!1)}function je(a,c,u,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${u} ${f} ${c} <=Actual]`))}function Xt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function kt(a){return{providers:a.providers||[],imports:a.imports||[]}}function G2(a){return B1(a,q2)||B1(a,_1)}function e1(a){return null!==G2(a)}function B1(a,c){return a.hasOwnProperty(c)?a[c]:null}function v1(a){return a&&(a.hasOwnProperty(Z2)||a.hasOwnProperty(_i))?a[Z2]:null}const q2=Me({\u0275prov:Me}),Z2=Me({\u0275inj:Me}),_1=Me({ngInjectableDef:Me}),_i=Me({ngInjectorDef:Me});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let C2;function Tn(a){const c=C2;return C2=a,c}function sr(a,c,u){const f=G2(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&Je.Optional?null:void 0!==c?c:void De(be(a))}function An(a){return{toString:a}.toString()}var Nn=(()=>((Nn=Nn||{})[Nn.OnPush=0]="OnPush",Nn[Nn.Default=1]="Default",Nn))(),gt=(()=>{return(a=gt||(gt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",gt;var a})();const Vt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),W2={},xt=[],K2=Me({\u0275cmp:Me}),zt=Me({\u0275dir:Me}),t1=Me({\u0275pipe:Me}),Wt=Me({\u0275mod:Me}),E2=Me({\u0275fac:Me}),Ln=Me({__NG_ELEMENT_ID__:Me});let We=0;function ve(a){return An(()=>{const u=!0===a.standalone,f={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||xt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||gt.Emulated,id:"c"+We++,styles:a.styles||xt,_:null,setInput:null,schemas:a.schemas||null,tView:null},g=a.dependencies,C=a.features;return h.inputs=R(a.inputs,f),h.outputs=R(a.outputs),C&&C.forEach(M=>M(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(wt).filter(At):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(ee).filter(At):null,h})}function wt(a){return N(a)||L(a)}function At(a){return null!==a}function Qt(a){return An(()=>({type:a.type,bootstrap:a.bootstrap||xt,declarations:a.declarations||xt,imports:a.imports||xt,exports:a.exports||xt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function R(a,c){if(null==a)return W2;const u={};for(const f in a)if(a.hasOwnProperty(f)){let h=a[f],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=f,c&&(c[h]=g)}return u}const Z=ve;function P(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function N(a){return a[K2]||null}function L(a){return a[zt]||null}function ee(a){return a[t1]||null}function Ne(a){const c=N(a)||L(a)||ee(a);return null!==c&&c.standalone}function nt(a,c){const u=a[Wt]||null;if(!u&&!0===c)throw new Error(`Type ${be(a)} does not have '\u0275mod' property.`);return u}function b2(a){return Array.isArray(a)&&"object"==typeof a[1]}function ar(a){return Array.isArray(a)&&!0===a[1]}function Ti(a){return 0!=(8&a.flags)}function Za(a){return 2==(2&a.flags)}function gs(a){return 1==(1&a.flags)}function r1(a){return null!==a.template}function Wa(a){return 0!=(256&a[2])}function x2(a,c){return a.hasOwnProperty(E2)?a[E2]:null}class xi{constructor(c,u,f){this.previousValue=c,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function Ai(){return Rl}function Rl(a){return a.type.prototype.ngOnChanges&&(a.setInput=o3),s3}function s3(){const a=vs(this),c=a?.current;if(c){const u=a.previous;if(u===W2)a.previous=c;else for(let f in c)u[f]=c[f];a.current=null,this.ngOnChanges(c)}}function o3(a,c,u,f){const h=vs(a)||function Y2(a,c){return a[Fl]=c}(a,{previous:W2,current:null}),g=h.current||(h.current={}),C=h.previous,M=this.declaredInputs[u],S=C[M];g[M]=new xi(S&&S.currentValue,c,C===W2),a[f]=c}Ai.ngInherit=!0;const Fl="__ngSimpleChanges__";function vs(a){return a[Fl]||null}function zn(a){for(;Array.isArray(a);)a=a[0];return a}function xo(a,c){return zn(c[a])}function z2(a,c){return zn(c[a.index])}function _s(a,c){return a.data[c]}function $1(a,c){return a[c]}function sn(a,c){const u=c[a];return b2(u)?u:u[0]}function G1(a){return 64==(64&a[2])}function s1(a,c){return null==c?null:a[c]}function Ao(a){a[18]=0}function No(a,c){a[5]+=c;let u=a,f=a[3];for(;null!==f&&(1===c&&1===u[5]||-1===c&&0===u[5]);)f[5]+=c,u=f,f=f[3]}const It={lFrame:v3(null),bindingsEnabled:!0};function Ho(){return It.bindingsEnabled}function Te(){return It.lFrame.lView}function qt(){return It.lFrame.tView}function T5(a){return It.lFrame.contextLView=a,a[8]}function Xa(a){return It.lFrame.contextLView=null,a}function u2(){let a=e4();for(;null!==a&&64===a.type;)a=a.parent;return a}function e4(){return It.lFrame.currentTNode}function t4(){const a=It.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}function Mr(a,c){const u=It.lFrame;u.currentTNode=a,u.isParent=c}function d3(){return It.lFrame.isParent}function n4(){It.lFrame.isParent=!1}function t2(){const a=It.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function o1(){return It.lFrame.bindingIndex}function Vo(){return It.lFrame.bindingIndex++}function q1(a){const c=It.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,u}function x5(a){It.lFrame.inI18n=a}function $l(a,c){const u=It.lFrame;u.bindingIndex=u.bindingRootIndex=a,r4(c)}function r4(a){It.lFrame.currentDirectiveIndex=a}function p3(){return It.lFrame.currentQueryIndex}function g3(a){It.lFrame.currentQueryIndex=a}function m3(a){const c=a[1];return 2===c.type?c.declTNode:1===c.type?a[6]:null}function A5(a,c,u){if(u&Je.SkipSelf){let h=c,g=a;for(;!(h=h.parent,null!==h||u&Je.Host||(h=m3(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;c=h,a=g}const f=It.lFrame=N5();return f.currentTNode=c,f.lView=a,!0}function i4(a){const c=N5(),u=a[1];It.lFrame=c,c.currentTNode=u.firstChild,c.lView=a,c.tView=u,c.contextLView=a,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function N5(){const a=It.lFrame,c=null===a?null:a.child;return null===c?v3(a):c}function v3(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function H5(){const a=It.lFrame;return It.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Gl=H5;function ys(){const a=H5();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Hn(){return It.lFrame.selectedIndex}function y1(a){It.lFrame.selectedIndex=a}function En(){const a=It.lFrame;return _s(a.tView,a.selectedIndex)}function Lo(a,c){for(let u=c.directiveStart,f=c.directiveEnd;u<f;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:M,ngAfterViewInit:S,ngAfterViewChecked:T,ngOnDestroy:A}=g;C&&(a.contentHooks||(a.contentHooks=[])).push(-u,C),M&&((a.contentHooks||(a.contentHooks=[])).push(u,M),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,M)),S&&(a.viewHooks||(a.viewHooks=[])).push(-u,S),T&&((a.viewHooks||(a.viewHooks=[])).push(u,T),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,T)),null!=A&&(a.destroyHooks||(a.destroyHooks=[])).push(u,A)}}function zo(a,c,u){s4(a,c,3,u)}function Ii(a,c,u,f){(3&a[2])===u&&s4(a,c,u,f)}function C3(a,c){let u=a[2];(3&u)===c&&(u&=2047,u+=1,a[2]=u)}function s4(a,c,u,f){const g=f??-1,C=c.length-1;let M=0;for(let S=void 0!==f?65535&a[18]:0;S<C;S++)if("number"==typeof c[S+1]){if(M=c[S],null!=f&&M>=f)break}else c[S]<0&&(a[18]+=65536),(M<g||-1==g)&&(ql(a,u,c,S),a[18]=(4294901760&a[18])+S+2),S++}function ql(a,c,u,f){const h=u[f]<0,g=u[f+1],M=a[h?-u[f]:u[f]];if(h){if(a[2]>>11<a[18]>>16&&(3&a[2])===c){a[2]+=2048;try{g.call(M)}finally{}}}else try{g.call(M)}finally{}}class wr{constructor(c,u,f){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function b1(a,c,u){let f=0;for(;f<u.length;){const h=u[f];if("number"==typeof h){if(0!==h)break;f++;const g=u[f++],C=u[f++],M=u[f++];a.setAttribute(c,C,M,g)}else{const g=h,C=u[++f];S3(g)?a.setProperty(c,g,C):a.setAttribute(c,g,C),f++}}return f}function w3(a){return 3===a||4===a||6===a}function S3(a){return 64===a.charCodeAt(0)}function Oo(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let u=-1;for(let f=0;f<c.length;f++){const h=c[f];"number"==typeof h?u=h:0===u||Zl(a,u,h,null,-1===u||2===u?c[++f]:null)}}return a}function Zl(a,c,u,f,h){let g=0,C=a.length;if(-1===c)C=-1;else for(;g<a.length;){const M=a[g++];if("number"==typeof M){if(M===c){C=-1;break}if(M>c){C=g-1;break}}}for(;g<a.length;){const M=a[g];if("number"==typeof M)break;if(M===u){if(null===f)return void(null!==h&&(a[g+1]=h));if(f===a[g+1])return void(a[g+2]=h)}g++,null!==f&&g++,null!==h&&g++}-1!==C&&(a.splice(C,0,c),g=C+1),a.splice(g++,0,u),null!==f&&a.splice(g++,0,f),null!==h&&a.splice(g++,0,h)}function R5(a){return-1!==a}function Vi(a){return 32767&a}function Z1(a,c){let u=function F5(a){return a>>16}(a),f=c;for(;u>0;)f=f[15],u--;return f}let D3=!0;function c4(a){const c=D3;return D3=a,c}let Wl=0;const kr={};function Li(a,c){const u=l4(a,c);if(-1!==u)return u;const f=c[1];f.firstCreatePass&&(a.injectorIndex=c.length,T3(f.data,a),T3(c,null),T3(f.blueprint,null));const h=Po(a,c),g=a.injectorIndex;if(R5(h)){const C=Vi(h),M=Z1(h,c),S=M[1].data;for(let T=0;T<8;T++)c[g+T]=M[C+T]|S[C+T]}return c[g+8]=h,g}function T3(a,c){a.push(0,0,0,0,0,0,0,0,c)}function l4(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function Po(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,f=null,h=c;for(;null!==h;){if(f=p4(h),null===f)return-1;if(u++,h=h[15],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return-1}function Ro(a,c,u){!function B5(a,c,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(Ln)&&(f=u[Ln]),null==f&&(f=u[Ln]=Wl++);const h=255&f;c.data[a+(h>>5)]|=1<<h}(a,c,u)}function u4(a,c,u){if(u&Je.Optional||void 0!==a)return a;De()}function zi(a,c,u,f){if(u&Je.Optional&&void 0===f&&(f=null),0==(u&(Je.Self|Je.Host))){const h=a[9],g=Tn(void 0);try{return h?h.get(c,f,u&Je.Optional):sr(c,f,u&Je.Optional)}finally{Tn(g)}}return u4(f,0,u)}function d4(a,c,u,f=Je.Default,h){if(null!==a){if(1024&c[2]){const C=function $5(a,c,u,f,h){let g=a,C=c;for(;null!==g&&null!==C&&1024&C[2]&&!(256&C[2]);){const M=Kl(g,C,u,f|Je.Self,kr);if(M!==kr)return M;let S=g.parent;if(!S){const T=C[21];if(T){const A=T.get(u,kr,f);if(A!==kr)return A}S=p4(C),C=C[15]}g=S}return h}(a,c,u,f,kr);if(C!==kr)return C}const g=Kl(a,c,u,f,kr);if(g!==kr)return g}return zi(c,u,f,h)}function Kl(a,c,u,f,h){const g=function j5(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(Ln)?a[Ln]:void 0;return"number"==typeof c?c>=0?255&c:Jl:c}(u);if("function"==typeof g){if(!A5(c,a,f))return f&Je.Host?u4(h,0,f):zi(c,u,f,h);try{const C=g(f);if(null!=C||f&Je.Optional)return C;De()}finally{Gl()}}else if("number"==typeof g){let C=null,M=l4(a,c),S=-1,T=f&Je.Host?c[16][6]:null;for((-1===M||f&Je.SkipSelf)&&(S=-1===M?Po(a,c):c[M+8],-1!==S&&Ql(f,!1)?(C=c[1],M=Vi(S),c=Z1(S,c)):M=-1);-1!==M;){const A=c[1];if(f4(g,M,A.data)){const V=Yl(M,c,u,C,f,T);if(V!==kr)return V}S=c[M+8],-1!==S&&Ql(f,c[1].data[M+8]===T)&&f4(g,M,c)?(C=A,M=Vi(S),c=Z1(S,c)):M=-1}}return h}function Yl(a,c,u,f,h,g){const C=c[1],M=C.data[a+8],A=Uo(M,C,u,null==f?Za(M)&&D3:f!=C&&0!=(3&M.type),h&Je.Host&&g===M);return null!==A?W1(c,C,A,M):kr}function Uo(a,c,u,f,h){const g=a.providerIndexes,C=c.data,M=1048575&g,S=a.directiveStart,A=g>>20,j=h?M+A:a.directiveEnd;for(let X=f?M:M+A;X<j;X++){const pe=C[X];if(X<S&&u===pe||X>=S&&pe.type===u)return X}if(h){const X=C[S];if(X&&r1(X)&&X.type===u)return S}return null}function W1(a,c,u,f){let h=a[u];const g=c.data;if(function y3(a){return a instanceof wr}(h)){const C=h;C.resolving&&function rt(a,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new Se(-200,`Circular dependency in DI detected for ${a}${u}`)}(function de(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():oe(a)}(g[u]));const M=c4(C.canSeeViewProviders);C.resolving=!0;const S=C.injectImpl?Tn(C.injectImpl):null;A5(a,f,Je.Default);try{h=a[u]=C.factory(void 0,g,a,f),c.firstCreatePass&&u>=f.directiveStart&&function bs(a,c,u){const{ngOnChanges:f,ngOnInit:h,ngDoCheck:g}=c.type.prototype;if(f){const C=Rl(c);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,C),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,C)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],c)}finally{null!==S&&Tn(S),c4(M),C.resolving=!1,Gl()}}return h}function f4(a,c,u){return!!(u[c+(a>>5)]&1<<a)}function Ql(a,c){return!(a&Je.Self||a&Je.Host&&c)}class Bo{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,f){return d4(this._tNode,this._lView,c,f,u)}}function Jl(){return new Bo(u2(),Te())}function K1(a){return An(()=>{const c=a.prototype.constructor,u=c[E2]||h4(c),f=Object.prototype;let h=Object.getPrototypeOf(a.prototype).constructor;for(;h&&h!==f;){const g=h[E2]||h4(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function h4(a){return Ue(a)?()=>{const c=h4(Q(a));return c&&c()}:x2(a)}function p4(a){const c=a[1],u=c.type;return 2===u?c.declTNode:1===u?a[6]:null}function g4(a){return function Fo(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const u=a.attrs;if(u){const f=u.length;let h=0;for(;h<f;){const g=u[h];if(w3(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<f&&"string"==typeof u[h];)h++;else{if(g===c)return u[h+1];h+=2}}}return null}(u2(),a)}const jo="__parameters__";function $o(a,c,u){return An(()=>{const f=function Xl(a){return function(...u){if(a){const f=a(...u);for(const h in f)this[h]=f[h]}}}(c);function h(...g){if(this instanceof h)return f.apply(this,g),this;const C=new h(...g);return M.annotation=C,M;function M(S,T,A){const V=S.hasOwnProperty(jo)?S[jo]:Object.defineProperty(S,jo,{value:[]})[jo];for(;V.length<=A;)V.push(null);return(V[A]=V[A]||[]).push(C),S}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=a,h.annotationCls=h,h})}class yn{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Xt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function en(a,c){void 0===c&&(c=a);for(let u=0;u<a.length;u++){let f=a[u];Array.isArray(f)?(c===a&&(c=a.slice(0,u)),en(f,c)):c!==a&&c.push(f)}return c}function r2(a,c){a.forEach(u=>Array.isArray(u)?r2(u,c):c(u))}function Or(a,c,u){c>=a.length?a.push(u):a.splice(c,0,u)}function vn(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function fn(a,c){const u=[];for(let f=0;f<a;f++)u.push(c);return u}function lr(a,c,u){let f=Y1(a,c);return f>=0?a[1|f]=u:(f=~f,function t0(a,c,u,f){let h=a.length;if(h==c)a.push(u,f);else if(1===h)a.push(f,a[0]),a[0]=u;else{for(h--,a.push(a[h-1],a[h]);h>c;)a[h]=a[h-2],h--;a[c]=u,a[c+1]=f}}(a,f,c,u)),f}function x3(a,c){const u=Y1(a,c);if(u>=0)return a[1|u]}function Y1(a,c){return function A3(a,c,u){let f=0,h=a.length>>u;for(;h!==f;){const g=f+(h-f>>1),C=a[g<<u];if(c===C)return g<<u;C>c?h=g:f=g+1}return~(h<<u)}(a,c,1)}const M1={},kn="__NG_DI_FLAG__",Q1="ngTempTokenPath",Ds=/\n/gm,Zo="__source";let J1;function X1(a){const c=J1;return J1=a,c}function r0(a,c=Je.Default){if(void 0===J1)throw new Se(-203,!1);return null===J1?sr(a,void 0,c):J1.get(a,c&Je.Optional?null:void 0,c)}function Wn(a,c=Je.Default){return(function l2(){return C2}()||r0)(Q(a),c)}function Y5(a,c=Je.Default){return"number"!=typeof c&&(c=0|(c.optional&&8)|(c.host&&1)|(c.self&&2)|(c.skipSelf&&4)),Wn(a,c)}function s0(a){const c=[];for(let u=0;u<a.length;u++){const f=Q(a[u]);if(Array.isArray(f)){if(0===f.length)throw new Se(900,!1);let h,g=Je.Default;for(let C=0;C<f.length;C++){const M=f[C],S=q9(M);"number"==typeof S?-1===S?h=M.token:g|=S:h=M}c.push(Wn(h,g))}else c.push(Wn(f))}return c}function Ts(a,c){return a[kn]=c,a.prototype[kn]=c,a}function q9(a){return a[kn]}const Es=Ts($o("Optional"),8),Ri=Ts($o("SkipSelf"),4);var ur=(()=>((ur=ur||{})[ur.Important=1]="Important",ur[ur.DashCase=2]="DashCase",ur))();const h0=/^>|^->|<!--|-->|--!>|<!-$/g,_n=/(<|>)/;const ji=new Map;let p0=0;const m="__ngContext__";function _(a,c){b2(c)?(a[m]=c[20],function Tr(a){ji.set(a[20],a)}(c)):a[m]=c}let Yo;function Kn(a,c){return Yo(a,c)}function $i(a){const c=a[3];return ar(c)?c[3]:c}function Jo(a){return m0(a[13])}function Xo(a){return m0(a[4])}function m0(a){for(;null!==a&&!ar(a);)a=a[4];return a}function Gi(a,c,u,f,h){if(null!=f){let g,C=!1;ar(f)?g=f:b2(f)&&(C=!0,f=f[0]);const M=zn(f);0===a&&null!==u?null==h?X9(c,u,M):Os(c,u,M,h||null,!0):1===a&&null!==u?Os(c,u,M,h||null,!0):2===a?fd(c,M,C):3===a&&c.destroyNode(M),null!=g&&function E4(a,c,u,f,h){const g=u[7];g!==zn(u)&&Gi(c,a,f,g,h);for(let M=10;M<u.length;M++){const S=u[M];j3(S[1],S,a,c,f,g)}}(c,a,g,u,h)}}function S4(a,c){return a.createText(c)}function ks(a,c,u){a.setValue(c,u)}function Kt(a,c){return a.createComment(function w1(a){return a.replace(h0,c=>c.replace(_n,"\u200b$1\u200b"))}(c))}function ea(a,c,u){return a.createElement(c,u)}function R3(a,c){const u=a[9],f=u.indexOf(c),h=c[3];512&c[2]&&(c[2]&=-513,No(h,-1)),u.splice(f,1)}function na(a,c){if(a.length<=10)return;const u=10+c,f=a[u];if(f){const h=f[17];null!==h&&h!==a&&R3(h,f),c>0&&(a[u-1][4]=f[4]);const g=vn(a,10+c);!function Ay(a,c){j3(a,c,c[11],2,null,null),c[0]=null,c[6]=null}(f[1],f);const C=g[19];null!==C&&C.detachView(g[1]),f[3]=null,f[4]=null,f[2]&=-65}return f}function cd(a,c){if(!(128&c[2])){const u=c[11];u.destroyNode&&j3(a,c,u,3,null,null),function J9(a){let c=a[13];if(!c)return D4(a[1],a);for(;c;){let u=null;if(b2(c))u=c[13];else{const f=c[10];f&&(u=f)}if(!u){for(;c&&!c[4]&&c!==a;)b2(c)&&D4(c[1],c),c=c[3];null===c&&(c=a),b2(c)&&D4(c[1],c),u=c&&c[4]}c=u}}(c)}}function D4(a,c){if(!(128&c[2])){c[2]&=-65,c[2]|=128,function ld(a,c){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let f=0;f<u.length;f+=2){const h=c[u[f]];if(!(h instanceof wr)){const g=u[f+1];if(Array.isArray(g))for(let C=0;C<g.length;C+=2){const M=h[g[C]],S=g[C+1];try{S.call(M)}finally{}}else try{g.call(h)}finally{}}}}(a,c),function Iy(a,c){const u=a.cleanup,f=c[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const C=u[g+1],M="function"==typeof C?C(c):zn(c[C]),S=f[h=u[g+2]],T=u[g+3];"boolean"==typeof T?M.removeEventListener(u[g],S,T):T>=0?f[h=T]():f[h=-T].unsubscribe(),g+=2}else{const C=f[h=u[g+1]];u[g].call(C)}if(null!==f){for(let g=h+1;g<f.length;g++)(0,f[g])();c[7]=null}}(a,c),1===c[1].type&&c[11].destroy();const u=c[17];if(null!==u&&ar(c[3])){u!==c[3]&&R3(u,c);const f=c[19];null!==f&&f.detachView(a)}!function ei(a){ji.delete(a[20])}(c)}}function F3(a,c,u){return ud(a,c.parent,u)}function ud(a,c,u){let f=c;for(;null!==f&&40&f.type;)f=(c=f).parent;if(null===f)return u[0];if(2&f.flags){const h=a.data[f.directiveStart].encapsulation;if(h===gt.None||h===gt.Emulated)return null}return z2(f,u)}function Os(a,c,u,f,h){a.insertBefore(c,u,f,h)}function X9(a,c,u){a.appendChild(c,u)}function ep(a,c,u,f,h){null!==f?Os(a,c,u,f,h):X9(a,c,u)}function v0(a,c){return a.parentNode(c)}function tp(a,c,u){return rp(a,c,u)}function np(a,c,u){return 40&a.type?z2(a,u):null}let U3,qi,md,q3,rp=np;function B3(a,c){rp=a,U3=c}function _0(a,c,u,f){const h=F3(a,f,c),g=c[11],M=tp(f.parent||c[6],f,c);if(null!=h)if(Array.isArray(u))for(let S=0;S<u.length;S++)ep(g,h,u[S],M,!1);else ep(g,h,u,M,!1);void 0!==U3&&U3(g,f,c,u,h)}function ti(a,c){if(null!==c){const u=c.type;if(3&u)return z2(c,a);if(4&u)return ip(-1,a[c.index]);if(8&u){const f=c.child;if(null!==f)return ti(a,f);{const h=a[c.index];return ar(h)?ip(-1,h):zn(h)}}if(32&u)return Kn(c,a)()||zn(a[c.index]);{const f=C0(a,c);return null!==f?Array.isArray(f)?f[0]:ti($i(a[16]),f):ti(a,c.next)}}return null}function C0(a,c){return null!==c?a[16][6].projection[c.projection]:null}function ip(a,c){const u=10+a+1;if(u<c.length){const f=c[u],h=f[1].firstChild;if(null!==h)return ti(f,h)}return c[7]}function fd(a,c,u){const f=v0(a,c);f&&function Vy(a,c,u,f){a.removeChild(c,u,f)}(a,f,c,u)}function hd(a,c,u,f,h,g,C){for(;null!=u;){const M=f[u.index],S=u.type;if(C&&0===c&&(M&&_(zn(M),f),u.flags|=4),64!=(64&u.flags))if(8&S)hd(a,c,u.child,f,h,g,!1),Gi(c,a,h,M,g);else if(32&S){const T=Kn(u,f);let A;for(;A=T();)Gi(c,a,h,A,g);Gi(c,a,h,M,g)}else 16&S?T4(a,c,f,u,h,g):Gi(c,a,h,M,g);u=C?u.projectionNext:u.next}}function j3(a,c,u,f,h,g){hd(u,f,a.firstChild,c,h,g,!1)}function T4(a,c,u,f,h,g){const C=u[16],S=C[6].projection[f.projection];if(Array.isArray(S))for(let T=0;T<S.length;T++)Gi(c,a,h,S[T],g);else hd(a,c,S,C[3],h,g,!0)}function pd(a,c,u){a.setAttribute(c,"style",u)}function y0(a,c,u){""===u?a.removeAttribute(c,"class"):a.setAttribute(c,"class",u)}function ra(a){return function gd(){if(void 0===qi&&(qi=null,Vt.trustedTypes))try{qi=Vt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return qi}()?.createHTML(a)||a}function vd(a){md=a}function cp(){return void 0!==md?md:typeof document<"u"?document:void 0}function ni(a){return function b0(){if(void 0===q3&&(q3=null,Vt.trustedTypes))try{q3=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return q3}()?.createHTML(a)||a}class ri{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class lp extends ri{getTypeName(){return"HTML"}}class ky extends ri{getTypeName(){return"Style"}}class Oy extends ri{getTypeName(){return"Script"}}class Py extends ri{getTypeName(){return"URL"}}class Ry extends ri{getTypeName(){return"ResourceURL"}}function Zi(a){return a instanceof ri?a.changingThisBreaksApplicationSecurity:a}function x4(a,c){const u=function Fy(a){return a instanceof ri&&a.getTypeName()||null}(a);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===c}function Uy(a){return new lp(a)}function By(a){return new ky(a)}function jy(a){return new Oy(a)}function $y(a){return new Py(a)}function up(a){return new Ry(a)}function dp(a){const c=new _d(a);return function Cd(){try{return!!(new window.DOMParser).parseFromString(ra(""),"text/html")}catch{return!1}}()?new fp(c):c}class fp{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(ra(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch{return null}}}class _d{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const f=this.inertDocument.createElement("body");u.appendChild(f)}}getInertBodyElement(c){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ra(c),u;const f=this.inertDocument.createElement("body");return f.innerHTML=ra(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(c){const u=c.attributes;for(let h=u.length-1;0<h;h--){const C=u.item(h).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&c.removeAttribute(C)}let f=c.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Wi=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ki(a){return(a=String(a)).match(Wi)?a:"unsafe:"+a}function ii(a){const c={};for(const u of a.split(","))c[u]=!0;return c}function A4(...a){const c={};for(const u of a)for(const f in u)u.hasOwnProperty(f)&&(c[f]=!0);return c}const hp=ii("area,br,col,hr,img,wbr"),Er=ii("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yd=ii("rp,rt"),Z3=A4(hp,A4(Er,ii("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),A4(yd,ii("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),A4(yd,Er)),w0=ii("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mp=A4(w0,ii("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ii("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),W3=ii("script,style,template");class qy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!Z3.hasOwnProperty(u))return this.sanitizedSomething=!0,!W3.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=c.attributes;for(let h=0;h<f.length;h++){const g=f.item(h),C=g.name,M=C.toLowerCase();if(!mp.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let S=g.value;w0[M]&&(S=Ki(S)),this.buf.push(" ",C,'="',wd(S),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();Z3.hasOwnProperty(u)&&!hp.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(wd(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const Zy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Md=/([^\#-~ |!])/g;function wd(a){return a.replace(/&/g,"&amp;").replace(Zy,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(Md,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let K3;function Sd(a,c){let u=null;try{K3=K3||dp(a);let f=c?String(c):"";u=K3.getInertBodyElement(f);let h=5,g=f;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,f=g,g=u.innerHTML,u=K3.getInertBodyElement(f)}while(f!==g);return ra((new qy).sanitizeChildren(S0(u)||u))}finally{if(u){const f=S0(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function S0(a){return"content"in a&&function Wy(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function Y3(a){const c=Q3();return c?ni(c.sanitize(In.HTML,a)||""):x4(a,"HTML")?ni(Zi(a)):Sd(cp(),oe(a))}function Td(a){const c=Q3();return c?c.sanitize(In.URL,a)||"":x4(a,"URL")?Zi(a):Ki(oe(a))}function Q3(){const a=Te();return a&&a[12]}const xd=new yn("ENVIRONMENT_INITIALIZER"),yp=new yn("INJECTOR",-1),D0=new yn("INJECTOR_DEF_TYPES");class Rr{get(c,u=M1){if(u===M1){const f=new Error(`NullInjectorError: No provider for ${be(c)}!`);throw f.name="NullInjectorError",f}return u}}function bp(...a){return{\u0275providers:N4(0,a)}}function N4(a,...c){const u=[],f=new Set;let h;return r2(c,g=>{const C=g;Ad(C,u,[],f)&&(h||(h=[]),h.push(C))}),void 0!==h&&Mp(h,u),u}function Mp(a,c){for(let u=0;u<a.length;u++){const{providers:h}=a[u];r2(h,g=>{c.push(g)})}}function Ad(a,c,u,f){if(!(a=Q(a)))return!1;let h=null,g=v1(a);const C=!g&&N(a);if(g||C){if(C&&!C.standalone)return!1;h=a}else{const S=a.ngModule;if(g=v1(S),!g)return!1;h=S}const M=f.has(h);if(C){if(M)return!1;if(f.add(h),C.dependencies){const S="function"==typeof C.dependencies?C.dependencies():C.dependencies;for(const T of S)Ad(T,c,u,f)}}else{if(!g)return!1;{if(null!=g.imports&&!M){let T;f.add(h);try{r2(g.imports,A=>{Ad(A,c,u,f)&&(T||(T=[]),T.push(A))})}finally{}void 0!==T&&Mp(T,c)}if(!M){const T=x2(h)||(()=>new h);c.push({provide:h,useFactory:T,deps:xt},{provide:D0,useValue:h,multi:!0},{provide:xd,useValue:()=>Wn(h),multi:!0})}const S=g.providers;null==S||M||r2(S,A=>{c.push(A)})}}return h!==a&&void 0!==a.providers}const T0=Me({provide:String,useValue:Me});function Nd(a){return null!==a&&"object"==typeof a&&T0 in a}function D1(a){return"function"==typeof a}const Hd=new yn("Set Injector scope."),Rs={},J3={};let Id;function E0(){return void 0===Id&&(Id=new Rr),Id}class sa{}class Sp extends sa{constructor(c,u,f,h){super(),this.parent=u,this.source=f,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ld(c,C=>this.processProvider(C)),this.records.set(yp,Fs(void 0,this)),h.has("environment")&&this.records.set(sa,Fs(void 0,this));const g=this.records.get(Hd);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(D0.multi,xt,Je.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();for(const c of this._onDestroyHooks)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(c){this._onDestroyHooks.push(c)}runInContext(c){this.assertNotDestroyed();const u=X1(this),f=Tn(void 0);try{return c()}finally{X1(u),Tn(f)}}get(c,u=M1,f=Je.Default){this.assertNotDestroyed();const h=X1(this),g=Tn(void 0);try{if(!(f&Je.SkipSelf)){let M=this.records.get(c);if(void 0===M){const S=function Jy(a){return"function"==typeof a||"object"==typeof a&&a instanceof yn}(c)&&G2(c);M=S&&this.injectableDefInScope(S)?Fs(Vd(c),Rs):null,this.records.set(c,M)}if(null!=M)return this.hydrate(c,M)}return(f&Je.Self?E0():this.parent).get(c,u=f&Je.Optional&&u===M1?null:u)}catch(C){if("NullInjectorError"===C.name){if((C[Q1]=C[Q1]||[]).unshift(be(c)),h)throw C;return function Z9(a,c,u,f){const h=a[Q1];throw c[Zo]&&h.unshift(c[Zo]),a.message=function o0(a,c,u,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let h=be(c);if(Array.isArray(c))h=c.map(be).join(" -> ");else if("object"==typeof c){let g=[];for(let C in c)if(c.hasOwnProperty(C)){let M=c[C];g.push(C+":"+("string"==typeof M?JSON.stringify(M):be(M)))}h=`{${g.join(", ")}}`}return`${u}${f?"("+f+")":""}[${h}]: ${a.replace(Ds,"\n  ")}`}("\n"+a.message,h,u,f),a.ngTokenPath=h,a[Q1]=null,a}(C,c,"R3InjectorError",this.source)}throw C}finally{Tn(g),X1(h)}}resolveInjectorInitializers(){const c=X1(this),u=Tn(void 0);try{const f=this.get(xd.multi,xt,Je.Self);for(const h of f)h()}finally{X1(c),Tn(u)}}toString(){const c=[],u=this.records;for(const f of u.keys())c.push(be(f));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(c){let u=D1(c=Q(c))?c:Q(c&&c.provide);const f=function oN(a){return Nd(a)?Fs(void 0,a.useValue):Fs(Dp(a),Rs)}(c);if(D1(c)||!0!==c.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Fs(void 0,Rs,!0),h.factory=()=>s0(h.multi),this.records.set(u,h)),u=c,h.multi.push(c)}this.records.set(u,f)}hydrate(c,u){return u.value===Rs&&(u.value=J3,u.value=u.factory()),"object"==typeof u.value&&u.value&&function H4(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=Q(c.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Vd(a){const c=G2(a),u=null!==c?c.factory:x2(a);if(null!==u)return u;if(a instanceof yn)throw new Se(204,!1);if(a instanceof Function)return function Qy(a){const c=a.length;if(c>0)throw fn(c,"?"),new Se(204,!1);const u=function Rn(a){const c=a&&(a[q2]||a[_1]);if(c){const u=function j1(a){if(a.hasOwnProperty("name"))return a.name;const c=(""+a).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),c}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Se(204,!1)}function Dp(a,c,u){let f;if(D1(a)){const h=Q(a);return x2(h)||Vd(h)}if(Nd(a))f=()=>Q(a.useValue);else if(function ia(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...s0(a.deps||[]));else if(function wp(a){return!(!a||!a.useExisting)}(a))f=()=>Wn(Q(a.useExisting));else{const h=Q(a&&(a.useClass||a.provide));if(!function x0(a){return!!a.deps}(a))return x2(h)||Vd(h);f=()=>new h(...s0(a.deps))}return f}function Fs(a,c,u=!1){return{factory:a,value:c,multi:u?[]:void 0}}function Xy(a){return!!a.\u0275providers}function Ld(a,c){for(const u of a)Array.isArray(u)?Ld(u,c):Xy(u)?Ld(u.\u0275providers,c):c(u)}class Tp{}class nb{resolveComponentFactory(c){throw function tb(a){const c=Error(`No component factory found for ${be(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let I4=(()=>{class a{}return a.NULL=new nb,a})();function rb(){return Us(u2(),Te())}function Us(a,c){return new V4(z2(a,c))}let V4=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=rb,a})();function zd(a){return a instanceof V4?a.nativeElement:a}class xp{}let ib=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function sb(){const a=Te(),u=sn(u2().index,a);return(b2(u)?u:a)[11]}(),a})(),ob=(()=>{class a{}return a.\u0275prov=Xt({token:a,providedIn:"root",factory:()=>null}),a})();class X3{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const Od=new X3("14.2.12"),A0={};function H0(a){return a.ngOriginalError}class Yi{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c);this._console.error("ERROR",c),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&H0(c);for(;u&&H0(u);)u=H0(u);return u||null}}function Np(a){return a.ownerDocument}function Qi(a){return a instanceof Function?a():a}function Ip(a,c,u){let f=a.length;for(;;){const h=a.indexOf(c,u);if(-1===h)return h;if(0===h||a.charCodeAt(h-1)<=32){const g=c.length;if(h+g===f||a.charCodeAt(h+g)<=32)return h}u=h+1}}const Pd="ng-template";function Vp(a,c,u){let f=0;for(;f<a.length;){let h=a[f++];if(u&&"class"===h){if(h=a[f],-1!==Ip(h.toLowerCase(),c,0))return!0}else if(1===h){for(;f<a.length&&"string"==typeof(h=a[f++]);)if(h.toLowerCase()===c)return!0;return!1}}return!1}function Rd(a){return 4===a.type&&a.value!==Pd}function Lp(a,c,u){return c===(4!==a.type||u?a.value:Pd)}function gb(a,c,u){let f=4;const h=a.attrs||[],g=function _b(a){for(let c=0;c<a.length;c++)if(w3(a[c]))return c;return a.length}(h);let C=!1;for(let M=0;M<c.length;M++){const S=c[M];if("number"!=typeof S){if(!C)if(4&f){if(f=2|1&f,""!==S&&!Lp(a,S,u)||""===S&&1===c.length){if(T1(f))return!1;C=!0}}else{const T=8&f?S:c[++M];if(8&f&&null!==a.attrs){if(!Vp(a.attrs,T,u)){if(T1(f))return!1;C=!0}continue}const V=mb(8&f?"class":S,h,Rd(a),u);if(-1===V){if(T1(f))return!1;C=!0;continue}if(""!==T){let j;j=V>g?"":h[V+1].toLowerCase();const X=8&f?j:null;if(X&&-1!==Ip(X,T,0)||2&f&&T!==j){if(T1(f))return!1;C=!0}}}}else{if(!C&&!T1(f)&&!T1(S))return!1;if(C&&T1(S))continue;C=!1,f=S|1&f}}return T1(f)||C}function T1(a){return 0==(1&a)}function mb(a,c,u,f){if(null===c)return-1;let h=0;if(f||!u){let g=!1;for(;h<c.length;){const C=c[h];if(C===a)return h;if(3===C||6===C)g=!0;else{if(1===C||2===C){let M=c[++h];for(;"string"==typeof M;)M=c[++h];continue}if(4===C)break;if(0===C){h+=4;continue}}h+=g?1:2}return-1}return function kp(a,c){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const f=a[u];if("number"==typeof f)return-1;if(f===c)return u;u++}return-1}(c,a)}function zp(a,c,u=!1){for(let f=0;f<c.length;f++)if(gb(a,c[f],u))return!0;return!1}function Fd(a,c){e:for(let u=0;u<c.length;u++){const f=c[u];if(a.length===f.length){for(let h=0;h<a.length;h++)if(a[h]!==f[h])continue e;return!0}}return!1}function Ud(a,c){return a?":not("+c.trim()+")":c}function Op(a){let c=a[0],u=1,f=2,h="",g=!1;for(;u<a.length;){let C=a[u];if("string"==typeof C)if(2&f){const M=a[++u];h+="["+C+(M.length>0?'="'+M+'"':"")+"]"}else 8&f?h+="."+C:4&f&&(h+=" "+C);else""!==h&&!T1(C)&&(c+=Ud(g,h),h=""),f=C,g=g||!T1(f);u++}return""!==h&&(c+=Ud(g,h)),c}const Pt={};function Pp(a){Rp(qt(),Te(),Hn()+a,!1)}function Rp(a,c,u,f){if(!f)if(3==(3&c[2])){const g=a.preOrderCheckHooks;null!==g&&zo(c,g,u)}else{const g=a.preOrderHooks;null!==g&&Ii(c,g,0,u)}y1(u)}function Bp(a,c=null,u=null,f){const h=jp(a,c,u,f);return h.resolveInjectorInitializers(),h}function jp(a,c=null,u=null,f,h=new Set){const g=[u||xt,bp(a)];return f=f||("object"==typeof a?void 0:be(a)),new Sp(g,c||E0(),f||null,h)}let oa=(()=>{class a{static create(u,f){if(Array.isArray(u))return Bp({name:""},f,u,"");{const h=u.name??"";return Bp({name:h},u.parent,u.providers,h)}}}return a.THROW_IF_NOT_FOUND=M1,a.NULL=new Rr,a.\u0275prov=Xt({token:a,providedIn:"any",factory:()=>Wn(yp)}),a.__NG_ELEMENT_ID__=-1,a})();function ca(a,c=Je.Default){const u=Te();return null===u?Wn(a,c):d4(u2(),u,Q(a),c)}function Qp(){throw new Error("invalid")}function t6(a,c){return a<<17|c<<2}function x1(a){return a>>17&32767}function Kd(a){return 2|a}function Ji(a){return(131068&a)>>2}function P0(a,c){return-131069&a|c<<2}function tg(a){return 1|a}function Xd(a,c){const u=a.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const h=u[f],g=u[f+1];if(-1!==g){const C=a.data[g];g3(h),C.contentQueries(2,c[g],g)}}}function i6(a,c,u,f,h,g,C,M,S,T,A){const V=c.blueprint.slice();return V[0]=h,V[2]=76|f,(null!==A||a&&1024&a[2])&&(V[2]|=1024),Ao(V),V[3]=V[15]=a,V[8]=u,V[10]=C||a&&a[10],V[11]=M||a&&a[11],V[12]=S||a&&a[12]||null,V[9]=T||a&&a[9]||null,V[6]=g,V[20]=function od(){return p0++}(),V[21]=A,V[16]=2==c.type?a[16]:V,V}function ua(a,c,u,f,h){let g=a.data[c];if(null===g)g=ef(a,c,u,f,h),function jl(){return It.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=f,g.attrs=h;const C=t4();g.injectorIndex=null===C?-1:C.injectorIndex}return Mr(g,!0),g}function ef(a,c,u,f,h){const g=e4(),C=d3(),S=a.data[c]=function Lb(a,c,u,f,h,g){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?g:g&&g.parent,u,c,f,h);return null===a.firstChild&&(a.firstChild=S),null!==g&&(C?null==g.child&&null!==S.parent&&(g.child=S):null===g.next&&(g.next=S)),S}function R4(a,c,u,f){if(0===u)return-1;const h=c.length;for(let g=0;g<u;g++)c.push(f),a.blueprint.push(f),a.data.push(null);return h}function Xi(a,c,u){i4(c);try{const f=a.viewQuery;null!==f&&G0(1,f,u);const h=a.template;null!==h&&F0(a,c,h,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Xd(a,c),a.staticViewQueries&&G0(2,a.viewQuery,u);const g=a.components;null!==g&&function la(a,c){for(let u=0;u<c.length;u++)SN(a,c[u])}(c,g)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{c[2]&=-5,ys()}}function F4(a,c,u,f){const h=c[2];if(128!=(128&h)){i4(c);try{Ao(c),function Io(a){return It.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&F0(a,c,u,2,f);const C=3==(3&h);if(C){const T=a.preOrderCheckHooks;null!==T&&zo(c,T,null)}else{const T=a.preOrderHooks;null!==T&&Ii(c,T,0,null),C3(c,0)}if(function Fb(a){for(let c=Jo(a);null!==c;c=Xo(c)){if(!c[2])continue;const u=c[9];for(let f=0;f<u.length;f++){const h=u[f],g=h[3];0==(512&h[2])&&No(g,1),h[2]|=512}}}(c),function df(a){for(let c=Jo(a);null!==c;c=Xo(c))for(let u=10;u<c.length;u++){const f=c[u],h=f[1];G1(f)&&F4(h,f,h.template,f[8])}}(c),null!==a.contentQueries&&Xd(a,c),C){const T=a.contentCheckHooks;null!==T&&zo(c,T)}else{const T=a.contentHooks;null!==T&&Ii(c,T,1),C3(c,1)}!function Ib(a,c){const u=a.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const h=u[f];if(h<0)y1(~h);else{const g=h,C=u[++f],M=u[++f];$l(C,g),M(2,c[g])}}}finally{y1(-1)}}(a,c);const M=a.components;null!==M&&function Vb(a,c){for(let u=0;u<c.length;u++)ff(a,c[u])}(c,M);const S=a.viewQuery;if(null!==S&&G0(2,S,f),C){const T=a.viewCheckHooks;null!==T&&zo(c,T)}else{const T=a.viewHooks;null!==T&&Ii(c,T,2),C3(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),c[2]&=-41,512&c[2]&&(c[2]&=-513,No(c[3],-1))}finally{ys()}}}function F0(a,c,u,f,h){const g=Hn(),C=2&f;try{y1(-1),C&&c.length>22&&Rp(a,c,22,!1),u(f,h)}finally{y1(g)}}function s6(a,c,u){if(Ti(c)){const h=c.directiveEnd;for(let g=c.directiveStart;g<h;g++){const C=a.data[g];C.contentQueries&&C.contentQueries(1,u[g],g)}}}function o6(a,c,u){!Ho()||(function af(a,c,u,f){const h=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||Li(u,c),_(f,c);const C=u.initialInputs;for(let M=h;M<g;M++){const S=a.data[M],T=r1(S);T&&Pb(c,u,S);const A=W1(c,a,M,u);_(A,c),null!==C&&uf(0,M-h,A,S,0,C),T&&(sn(u.index,c)[8]=A)}}(a,c,u,z2(u,c)),128==(128&u.flags)&&function Ob(a,c,u){const f=u.directiveStart,h=u.directiveEnd,g=u.index,C=function U9(){return It.lFrame.currentDirectiveIndex}();try{y1(g);for(let M=f;M<h;M++){const S=a.data[M],T=c[M];r4(M),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&j0(S,T)}}finally{y1(-1),r4(C)}}(a,c,u))}function a6(a,c,u=z2){const f=c.localNames;if(null!==f){let h=c.index+1;for(let g=0;g<f.length;g+=2){const C=f[g+1],M=-1===C?u(c,a):a[C];a[h++]=M}}}function U0(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=da(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function da(a,c,u,f,h,g,C,M,S,T){const A=22+f,V=A+h,j=function tf(a,c){const u=[];for(let f=0;f<c;f++)u.push(f<a?null:Pt);return u}(A,V),X="function"==typeof T?T():T;return j[1]={type:a,blueprint:j,template:u,queries:null,viewQuery:M,declTNode:c,data:j.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:S,consts:X,incompleteFirstPass:!1}}function mg(a,c,u,f){const h=Ag(c);null===u?h.push(f):(h.push(u),a.firstCreatePass&&Ng(a).push(f,h.length-1))}function vg(a,c,u){for(let f in a)if(a.hasOwnProperty(f)){const h=a[f];(u=null===u?{}:u).hasOwnProperty(f)?u[f].push(c,h):u[f]=[c,h]}return u}function B0(a,c){const f=c.directiveEnd,h=a.data,g=c.attrs,C=[];let M=null,S=null;for(let T=c.directiveStart;T<f;T++){const A=h[T],V=A.inputs,j=null===g||Rd(c)?null:Rb(V,g);C.push(j),M=vg(V,T,M),S=vg(A.outputs,T,S)}null!==M&&(M.hasOwnProperty("class")&&(c.flags|=16),M.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=C,c.inputs=M,c.outputs=S}function dr(a,c,u,f,h,g,C,M){const S=z2(c,u);let A,T=c.inputs;!M&&null!=T&&(A=T[f])?(Z0(a,u,A,f,h),Za(c)&&rf(u,c.index)):3&c.type&&(f=function zb(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),h=null!=C?C(h,c.value||"",f):h,g.setProperty(S,f,h))}function rf(a,c){const u=sn(c,a);16&u[2]||(u[2]|=32)}function c6(a,c,u,f){let h=!1;if(Ho()){const g=function yg(a,c,u){const f=a.directiveRegistry;let h=null;if(f)for(let g=0;g<f.length;g++){const C=f[g];zp(u,C.selectors,!1)&&(h||(h=[]),Ro(Li(u,c),a,C.type),r1(C)?(bg(a,u),h.unshift(C)):h.push(C))}return h}(a,c,u),C=null===f?null:{"":-1};if(null!==g){h=!0,wg(u,a.data.length,g.length);for(let A=0;A<g.length;A++){const V=g[A];V.providersResolver&&V.providersResolver(V)}let M=!1,S=!1,T=R4(a,c,g.length,null);for(let A=0;A<g.length;A++){const V=g[A];u.mergedAttrs=Oo(u.mergedAttrs,V.hostAttrs),Sg(a,u,c,T,V),Mg(T,V,C),null!==V.contentQueries&&(u.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(u.flags|=128);const j=V.type.prototype;!M&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),M=!0),!S&&(j.ngOnChanges||j.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),S=!0),T++}B0(a,u)}C&&function cf(a,c,u){if(c){const f=a.localNames=[];for(let h=0;h<c.length;h+=2){const g=u[c[h+1]];if(null==g)throw new Se(-301,!1);f.push(c[h],g)}}}(u,f,C)}return u.mergedAttrs=Oo(u.mergedAttrs,u.attrs),h}function Cg(a,c,u,f,h,g){const C=g.hostBindings;if(C){let M=a.hostBindingOpCodes;null===M&&(M=a.hostBindingOpCodes=[]);const S=~c.index;(function sf(a){let c=a.length;for(;c>0;){const u=a[--c];if("number"==typeof u&&u<0)return u}return 0})(M)!=S&&M.push(S),M.push(f,h,C)}}function j0(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function bg(a,c){c.flags|=2,(a.components||(a.components=[])).push(c.index)}function Mg(a,c,u){if(u){if(c.exportAs)for(let f=0;f<c.exportAs.length;f++)u[c.exportAs[f]]=a;r1(c)&&(u[""]=a)}}function wg(a,c,u){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+u,a.providerIndexes=c}function Sg(a,c,u,f,h){a.data[f]=h;const g=h.factory||(h.factory=x2(h.type)),C=new wr(g,r1(h),ca);a.blueprint[f]=C,u[f]=C,Cg(a,c,0,f,R4(a,u,h.hostVars,Pt),h)}function Pb(a,c,u){const f=z2(c,a),h=U0(u),g=a[10],C=gf(a,i6(a,h,null,u.onPush?32:16,f,c,g,g.createRenderer(f,u),null,null,null));a[c.index]=C}function lf(a,c,u,f,h,g,C){if(null==g)a.removeAttribute(c,h,u);else{const M=null==C?oe(g):C(g,f||"",h);a.setAttribute(c,h,M,u)}}function uf(a,c,u,f,h,g){const C=g[c];if(null!==C){const M=f.setInput;for(let S=0;S<C.length;){const T=C[S++],A=C[S++],V=C[S++];null!==M?f.setInput(u,V,T,A):u[A]=V}}}function Rb(a,c){let u=null,f=0;for(;f<c.length;){const h=c[f];if(0!==h)if(5!==h){if("number"==typeof h)break;a.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,a[h],c[f+1])),f+=2}else f+=2;else f+=4}return u}function Tg(a,c,u,f){return new Array(a,!0,!1,c,null,0,f,u,null,null)}function ff(a,c){const u=sn(c,a);if(G1(u)){const f=u[1];48&u[2]?F4(f,u,f.template,u[8]):u[5]>0&&hf(u)}}function hf(a){for(let f=Jo(a);null!==f;f=Xo(f))for(let h=10;h<f.length;h++){const g=f[h];if(G1(g))if(512&g[2]){const C=g[1];F4(C,g,C.template,g[8])}else g[5]>0&&hf(g)}const u=a[1].components;if(null!==u)for(let f=0;f<u.length;f++){const h=sn(u[f],a);G1(h)&&h[5]>0&&hf(h)}}function SN(a,c){const u=sn(c,a),f=u[1];(function pf(a,c){for(let u=c.length;u<a.blueprint.length;u++)c.push(a.blueprint[u])})(f,u),Xi(f,u,u[8])}function gf(a,c){return a[13]?a[14][4]=c:a[13]=c,a[14]=c,c}function Eg(a){for(;a;){a[2]|=32;const c=$i(a);if(Wa(a)&&!c)return a;a=c}return null}function $0(a,c,u,f=!0){const h=c[10];h.begin&&h.begin();try{F4(a,c,a.template,u)}catch(C){throw f&&q0(c,C),C}finally{h.end&&h.end()}}function G0(a,c,u){g3(0),c(a,u)}function Ag(a){return a[7]||(a[7]=[])}function Ng(a){return a.cleanup||(a.cleanup=[])}function q0(a,c){const u=a[9],f=u?u.get(Yi,null):null;f&&f.handleError(c)}function Z0(a,c,u,f,h){for(let g=0;g<u.length;){const C=u[g++],M=u[g++],S=c[C],T=a.data[C];null!==T.setInput?T.setInput(S,h,f,M):S[M]=h}}function es(a,c,u){const f=xo(c,a);ks(a[11],f,u)}function l6(a,c,u){let f=u?a.styles:null,h=u?a.classes:null,g=0;if(null!==c)for(let C=0;C<c.length;C++){const M=c[C];"number"==typeof M?g=M:1==g?h=ke(h,M):2==g&&(f=ke(f,M+": "+c[++C]+";"))}u?a.styles=f:a.stylesWithoutHost=f,u?a.classes=h:a.classesWithoutHost=h}function W0(a,c,u,f,h=!1){for(;null!==u;){const g=c[u.index];if(null!==g&&f.push(zn(g)),ar(g))for(let M=10;M<g.length;M++){const S=g[M],T=S[1].firstChild;null!==T&&W0(S[1],S,T,f)}const C=u.type;if(8&C)W0(a,c,u.child,f);else if(32&C){const M=Kn(u,c);let S;for(;S=M();)f.push(S)}else if(16&C){const M=C0(c,u);if(Array.isArray(M))f.push(...M);else{const S=$i(c[16]);W0(S[1],S,M,f,!0)}}u=h?u.projectionNext:u.next}return f}class A2{constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,u=c[1];return W0(u,c,u.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(ar(c)){const u=c[8],f=u?u.indexOf(this):-1;f>-1&&(na(c,f),vn(u,f))}this._attachedToViewContainer=!1}cd(this._lView[1],this._lView)}onDestroy(c){mg(this._lView[1],this._lView,null,c)}markForCheck(){Eg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){$0(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ny(a,c){j3(a,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=c}}class Ub extends A2{constructor(c){super(c),this._view=c}detectChanges(){const c=this._view;$0(c[1],c,c[8],!1)}checkNoChanges(){}get context(){return null}}class mf extends I4{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=N(c);return new fa(u,this.ngModule)}}function Ig(a){const c=[];for(let u in a)a.hasOwnProperty(u)&&c.push({propName:a[u],templateName:u});return c}class Bb{constructor(c,u){this.injector=c,this.parentInjector=u}get(c,u,f){const h=this.injector.get(c,A0,f);return h!==A0||u===A0?h:this.parentInjector.get(c,u,f)}}class fa extends Tp{constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function uN(a){return a.map(Op).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Ig(this.componentDef.inputs)}get outputs(){return Ig(this.componentDef.outputs)}create(c,u,f,h){let g=(h=h||this.ngModule)instanceof sa?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const C=g?new Bb(c,g):c,M=C.get(xp,null);if(null===M)throw new Se(407,!1);const S=C.get(ob,null),T=M.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",V=f?function nf(a,c,u){return a.selectRootElement(c,u===gt.ShadowDom)}(T,f,this.componentDef.encapsulation):ea(T,A,function Vg(a){const c=a.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(A)),j=this.componentDef.onPush?288:272,X=da(0,null,null,1,0,null,null,null,null,null),pe=i6(null,X,null,j,null,null,M,T,S,C,null);let Fe,$e;i4(pe);try{const ct=function jb(a,c,u,f,h,g){const C=u[1];u[22]=a;const S=ua(C,22,2,"#host",null),T=S.mergedAttrs=c.hostAttrs;null!==T&&(l6(S,T,!0),null!==a&&(b1(h,a,T),null!==S.classes&&y0(h,a,S.classes),null!==S.styles&&pd(h,a,S.styles)));const A=f.createRenderer(a,c),V=i6(u,U0(c),null,c.onPush?32:16,u[22],S,f,A,g||null,null,null);return C.firstCreatePass&&(Ro(Li(S,u),C,c.type),bg(C,S),wg(S,u.length,1)),gf(u,V),u[22]=V}(V,this.componentDef,pe,M,T);if(V)if(f)b1(T,V,["ng-version",Od.full]);else{const{attrs:Ct,classes:_e}=function Cb(a){const c=[],u=[];let f=1,h=2;for(;f<a.length;){let g=a[f];if("string"==typeof g)2===h?""!==g&&c.push(g,a[++f]):8===h&&u.push(g);else{if(!T1(h))break;h=g}f++}return{attrs:c,classes:u}}(this.componentDef.selectors[0]);Ct&&b1(T,V,Ct),_e&&_e.length>0&&y0(T,V,_e.join(" "))}if($e=_s(X,22),void 0!==u){const Ct=$e.projection=[];for(let _e=0;_e<this.ngContentSelectors.length;_e++){const Et=u[_e];Ct.push(null!=Et?Array.from(Et):null)}}Fe=function _f(a,c,u,f){const h=u[1],g=function kb(a,c,u){const f=u2();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Sg(a,f,c,R4(a,c,1,null),u),B0(a,f));const h=W1(c,a,f.directiveStart,f);_(h,c);const g=z2(f,c);return g&&_(g,c),h}(h,u,c);if(a[8]=u[8]=g,null!==f)for(const M of f)M(g,c);if(c.contentQueries){const M=u2();c.contentQueries(1,g,M.directiveStart)}const C=u2();return!h.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(y1(C.index),Cg(u[1],C,0,C.directiveStart,C.directiveEnd,c),j0(c,g)),g}(ct,this.componentDef,pe,[AN]),Xi(X,pe,null)}finally{ys()}return new vf(this.componentType,Fe,Us($e,pe),pe,$e)}}class vf extends class eb{}{constructor(c,u,f,h,g){super(),this.location=f,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new Ub(h),this.componentType=c}setInput(c,u){const f=this._tNode.inputs;let h;if(null!==f&&(h=f[c])){const g=this._rootLView;Z0(g[1],g,h,c,u),rf(g,this._tNode.index)}}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function AN(){const a=u2();Lo(Te()[1],a)}function Lg(a){let c=function $b(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const f=[a];for(;c;){let h;if(r1(a))h=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Se(903,!1);h=c.\u0275dir}if(h){if(u){f.push(h);const C=a;C.inputs=U4(a.inputs),C.declaredInputs=U4(a.declaredInputs),C.outputs=U4(a.outputs);const M=h.hostBindings;M&&qb(a,M);const S=h.viewQuery,T=h.contentQueries;if(S&&HN(a,S),T&&Gb(a,T),we(a.inputs,h.inputs),we(a.declaredInputs,h.declaredInputs),we(a.outputs,h.outputs),r1(h)&&h.data.animation){const A=a.data;A.animation=(A.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let C=0;C<g.length;C++){const M=g[C];M&&M.ngInherit&&M(a),M===Lg&&(u=!1)}}c=Object.getPrototypeOf(c)}!function NN(a){let c=0,u=null;for(let f=a.length-1;f>=0;f--){const h=a[f];h.hostVars=c+=h.hostVars,h.hostAttrs=Oo(h.hostAttrs,u=Oo(u,h.hostAttrs))}}(f)}function U4(a){return a===W2?{}:a===xt?[]:a}function HN(a,c){const u=a.viewQuery;a.viewQuery=u?(f,h)=>{c(f,h),u(f,h)}:c}function Gb(a,c){const u=a.contentQueries;a.contentQueries=u?(f,h,g)=>{c(f,h,g),u(f,h,g)}:c}function qb(a,c){const u=a.hostBindings;a.hostBindings=u?(f,h)=>{c(f,h),u(f,h)}:c}let K0=null;function ha(){if(!K0){const a=Vt.Symbol;if(a&&a.iterator)K0=a.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<c.length;++u){const f=c[u];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(K0=f)}}}return K0}function u6(a){return!!ts(a)&&(Array.isArray(a)||!(a instanceof Map)&&ha()in a)}function ts(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function li(a,c,u){return a[c]=u}function J2(a,c,u){return!Object.is(a[c],u)&&(a[c]=u,!0)}function pa(a,c,u,f){const h=J2(a,c,u);return J2(a,c+1,f)||h}function Q0(a,c,u,f,h){const g=pa(a,c,u,f);return J2(a,c+2,h)||g}function A1(a,c,u,f,h,g){const C=pa(a,c,u,f);return pa(a,c+2,h,g)||C}function f6(a,c,u,f){const h=Te();return J2(h,Vo(),c)&&(qt(),function ci(a,c,u,f,h,g){const C=z2(a,c);lf(c[11],C,g,a.value,u,f,h)}(En(),h,a,c,u,f)),f6}function js(a,c,u,f){return J2(a,Vo(),u)?c+oe(u)+f:Pt}function Rg(a,c,u,f,h,g,C,M){const S=Te(),T=qt(),A=a+22,V=T.firstCreatePass?function Xb(a,c,u,f,h,g,C,M,S){const T=c.consts,A=ua(c,a,4,C||null,s1(T,M));c6(c,u,A,s1(T,S)),Lo(c,A);const V=A.tViews=da(2,A,f,h,g,c.directiveRegistry,c.pipeRegistry,null,c.schemas,T);return null!==c.queries&&(c.queries.template(c,A),V.queries=c.queries.embeddedTView(A)),A}(A,T,S,c,u,f,h,g,C):T.data[A];Mr(V,!1);const j=S[11].createComment("");_0(T,S,j,V),_(j,S),gf(S,S[A]=Tg(j,S,j,V)),gs(V)&&o6(T,S,V),null!=C&&a6(S,V,M)}function $s(a){return $1(function f3(){return It.lFrame.contextLView}(),22+a)}function h6(a,c,u){const f=Te();return J2(f,Vo(),c)&&dr(qt(),En(),f,a,c,f[11],u,!1),h6}function p6(a,c,u,f,h){const C=h?"class":"style";Z0(a,u,c.inputs[C],C,f)}function W4(a,c,u,f){const h=Te(),g=qt(),C=22+a,M=h[11],S=h[C]=ea(M,c,function _3(){return It.lFrame.currentNamespace}()),T=g.firstCreatePass?function Fg(a,c,u,f,h,g,C){const M=c.consts,T=ua(c,a,2,h,s1(M,g));return c6(c,u,T,s1(M,C)),null!==T.attrs&&l6(T,T.attrs,!1),null!==T.mergedAttrs&&l6(T,T.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,T),T}(C,g,h,0,c,u,f):g.data[C];Mr(T,!0);const A=T.mergedAttrs;null!==A&&b1(M,S,A);const V=T.classes;null!==V&&y0(M,S,V);const j=T.styles;return null!==j&&pd(M,S,j),64!=(64&T.flags)&&_0(g,h,S,T),0===function c3(){return It.lFrame.elementDepthCount}()&&_(S,h),function D5(){It.lFrame.elementDepthCount++}(),gs(T)&&(o6(g,h,T),s6(g,T,h)),null!==f&&a6(h,T),W4}function K4(){let a=u2();d3()?n4():(a=a.parent,Mr(a,!1));const c=a;!function l3(){It.lFrame.elementDepthCount--}();const u=qt();return u.firstCreatePass&&(Lo(u,a),Ti(a)&&u.queries.elementEnd(a)),null!=c.classesWithoutHost&&function o4(a){return 0!=(16&a.flags)}(c)&&p6(u,c,Te(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function a4(a){return 0!=(32&a.flags)}(c)&&p6(u,c,Te(),c.stylesWithoutHost,!1),K4}function g6(a,c,u,f){return W4(a,c,u,f),K4(),g6}function Y4(a,c,u){const f=Te(),h=qt(),g=a+22,C=h.firstCreatePass?function tM(a,c,u,f,h){const g=c.consts,C=s1(g,f),M=ua(c,a,8,"ng-container",C);return null!==C&&l6(M,C,!0),c6(c,u,M,s1(g,h)),null!==c.queries&&c.queries.elementStart(c,M),M}(g,h,f,c,u):h.data[g];Mr(C,!0);const M=f[g]=f[11].createComment("");return _0(h,f,M,C),_(M,f),gs(C)&&(o6(h,f,C),s6(h,C,f)),null!=u&&a6(f,C),Y4}function Q4(){let a=u2();const c=qt();return d3()?n4():(a=a.parent,Mr(a,!1)),c.firstCreatePass&&(Lo(c,a),Ti(a)&&c.queries.elementEnd(a)),Q4}function N2(){return Te()}function bf(a){return!!a&&"function"==typeof a.then}function X0(a){return!!a&&"function"==typeof a.subscribe}const Bg=X0;function m6(a,c,u,f){const h=Te(),g=qt(),C=u2();return function eu(a,c,u,f,h,g,C,M){const S=gs(f),A=a.firstCreatePass&&Ng(a),V=c[8],j=Ag(c);let X=!0;if(3&f.type||M){const $e=z2(f,c),ct=M?M($e):$e,Ct=j.length,_e=M?an=>M(zn(an[f.index])):f.index;let Et=null;if(!M&&S&&(Et=function wf(a,c,u,f){const h=a.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const C=h[g];if(C===u&&h[g+1]===f){const M=c[7],S=h[g+2];return M.length>S?M[S]:null}"string"==typeof C&&(g+=2)}return null}(a,c,h,f.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=g,Et.__ngLastListenerFn__=g,X=!1;else{g=nu(f,c,V,g,!1);const an=u.listen(ct,h,g);j.push(g,an),A&&A.push(h,_e,Ct,Ct+1)}}else g=nu(f,c,V,g,!1);const pe=f.outputs;let Fe;if(X&&null!==pe&&(Fe=pe[h])){const $e=Fe.length;if($e)for(let ct=0;ct<$e;ct+=2){const Vn=c[Fe[ct]][Fe[ct+1]].subscribe(g),f1=j.length;j.push(g,Vn),A&&A.push(h,f.index,f1,-(f1+1))}}}(g,h,h[11],C,a,c,0,f),m6}function tu(a,c,u,f){try{return!1!==u(f)}catch(h){return q0(a,h),!1}}function nu(a,c,u,f,h){return function g(C){if(C===Function)return f;Eg(2&a.flags?sn(a.index,c):c);let S=tu(c,0,f,C),T=g.__ngNextListenerFn__;for(;T;)S=tu(c,0,T,C)&&S,T=T.__ngNextListenerFn__;return h&&!1===S&&(C.preventDefault(),C.returnValue=!1),S}}function Sf(a=1){return function Hi(a){return(It.lFrame.contextLView=function I5(a,c){for(;a>0;)c=c[15],a--;return c}(a,It.lFrame.contextLView))[8]}(a)}function nM(a,c){let u=null;const f=function vb(a){const c=a.attrs;if(null!=c){const u=c.indexOf(5);if(0==(1&u))return c[u+1]}return null}(a);for(let h=0;h<c.length;h++){const g=c[h];if("*"!==g){if(null===f?zp(a,g,!0):Fd(f,g))return h}else u=h}return u}function jg(a){const c=Te()[16][6];if(!c.projection){const f=c.projection=fn(a?a.length:1,null),h=f.slice();let g=c.child;for(;null!==g;){const C=a?nM(g,a):0;null!==C&&(h[C]?h[C].projectionNext=g:f[C]=g,h[C]=g),g=g.next}}}function ru(a,c=0,u){const f=Te(),h=qt(),g=ua(h,22+a,16,null,u||null);null===g.projection&&(g.projection=c),n4(),64!=(64&g.flags)&&function $3(a,c,u){T4(c[11],0,c,u,F3(a,u,c),tp(u.parent||c[6],u,c))}(h,f,g)}function iu(a,c,u){return J4(a,"",c,"",u),iu}function J4(a,c,u,f,h){const g=Te(),C=js(g,c,u,f);return C!==Pt&&dr(qt(),En(),g,a,C,g[11],h,!1),J4}function Zg(a,c,u,f,h){const g=a[u+1],C=null===c;let M=f?x1(g):Ji(g),S=!1;for(;0!==M&&(!1===S||C);){const A=a[M+1];Wg(a[M],c)&&(S=!0,a[M+1]=f?tg(A):Kd(A)),M=f?x1(A):Ji(A)}S&&(a[u+1]=f?Kd(g):tg(g))}function Wg(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&Y1(a,c)>=0}const M2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cu(a){return a.substring(M2.key,M2.keyEnd)}function lu(a,c){const u=M2.textEnd;return u===c?-1:(c=M2.keyEnd=function Qg(a,c,u){for(;c<u&&a.charCodeAt(c)>32;)c++;return c}(a,M2.key=c,u),Gs(a,c,u))}function Gs(a,c,u){for(;c<u&&a.charCodeAt(c)<=32;)c++;return c}function v6(a,c,u){return d1(a,c,u,!1),v6}function du(a,c){return d1(a,c,null,!0),du}function em(a){!function Br(a,c,u,f){const h=qt(),g=q1(2);h.firstUpdatePass&&fu(h,null,g,f);const C=Te();if(u!==Pt&&J2(C,g,u)){const M=h.data[Hn()];if(Nf(M,f)&&!tm(h,g)){let S=f?M.classesWithoutHost:M.stylesWithoutHost;null!==S&&(u=ke(S,u||"")),p6(h,M,C,u,f)}else!function lM(a,c,u,f,h,g,C,M){h===Pt&&(h=xt);let S=0,T=0,A=0<h.length?h[0]:null,V=0<g.length?g[0]:null;for(;null!==A||null!==V;){const j=S<h.length?h[S+1]:void 0,X=T<g.length?g[T+1]:void 0;let Fe,pe=null;A===V?(S+=2,T+=2,j!==X&&(pe=V,Fe=X)):null===V||null!==A&&A<V?(S+=2,pe=A):(T+=2,pe=V,Fe=X),null!==pe&&im(a,c,u,f,pe,Fe,C,M),A=S<h.length?h[S]:null,V=T<g.length?g[T]:null}}(h,M,C,C[11],C[g+1],C[g+1]=function pu(a,c,u){if(null==u||""===u)return xt;const f=[],h=Zi(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)a(f,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&a(f,g,h[g]);else"string"==typeof h&&c(f,h);return f}(a,c,u),f,g)}}(lr,di,a,!0)}function di(a,c){for(let u=function Kg(a){return function Yg(a){M2.key=0,M2.keyEnd=0,M2.value=0,M2.valueEnd=0,M2.textEnd=a.length}(a),lu(a,Gs(a,0,M2.textEnd))}(c);u>=0;u=lu(c,u))lr(a,cu(c),!0)}function d1(a,c,u,f){const h=Te(),g=qt(),C=q1(2);g.firstUpdatePass&&fu(g,a,C,f),c!==Pt&&J2(h,C,c)&&im(g,g.data[Hn()],h,h[11],a,h[C+1]=function k2(a,c){return null==a||("string"==typeof c?a+=c:"object"==typeof a&&(a=be(Zi(a)))),a}(c,u),f,C)}function tm(a,c){return c>=a.expandoStartIndex}function fu(a,c,u,f){const h=a.data;if(null===h[u+1]){const g=h[Hn()],C=tm(a,u);Nf(g,f)&&null===c&&!C&&(c=!1),c=function cM(a,c,u,f){const h=function h3(a){const c=It.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}(a);let g=f?c.residualClasses:c.residualStyles;if(null===h)0===(f?c.classBindings:c.styleBindings)&&(u=hu(u=nm(null,a,c,u,f),c.attrs,f),g=null);else{const C=c.directiveStylingLast;if(-1===C||a[C]!==h)if(u=nm(h,a,c,u,f),null===g){let S=function zN(a,c,u){const f=u?c.classBindings:c.styleBindings;if(0!==Ji(f))return a[x1(f)]}(a,c,f);void 0!==S&&Array.isArray(S)&&(S=nm(null,a,c,S[1],f),S=hu(S,c.attrs,f),function kN(a,c,u,f){a[x1(u?c.classBindings:c.styleBindings)]=f}(a,c,f,S))}else g=function Af(a,c,u){let f;const h=c.directiveEnd;for(let g=1+c.directiveStylingLast;g<h;g++)f=hu(f,a[g].hostAttrs,u);return hu(f,c.attrs,u)}(a,c,f)}return void 0!==g&&(f?c.residualClasses=g:c.residualStyles=g),u}(h,g,c,f),function rM(a,c,u,f,h,g){let C=g?c.classBindings:c.styleBindings,M=x1(C),S=Ji(C);a[f]=u;let A,T=!1;if(Array.isArray(u)){const V=u;A=V[1],(null===A||Y1(V,A)>0)&&(T=!0)}else A=u;if(h)if(0!==S){const j=x1(a[M+1]);a[f+1]=t6(j,M),0!==j&&(a[j+1]=P0(a[j+1],f)),a[M+1]=function Sb(a,c){return 131071&a|c<<17}(a[M+1],f)}else a[f+1]=t6(M,0),0!==M&&(a[M+1]=P0(a[M+1],f)),M=f;else a[f+1]=t6(S,0),0===M?M=f:a[S+1]=P0(a[S+1],f),S=f;T&&(a[f+1]=Kd(a[f+1])),Zg(a,A,f,!0),Zg(a,A,f,!1),function iM(a,c,u,f,h){const g=h?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof c&&Y1(g,c)>=0&&(u[f+1]=tg(u[f+1]))}(c,A,a,f,g),C=t6(M,S),g?c.classBindings=C:c.styleBindings=C}(h,g,c,u,C,f)}}function nm(a,c,u,f,h){let g=null;const C=u.directiveEnd;let M=u.directiveStylingLast;for(-1===M?M=u.directiveStart:M++;M<C&&(g=c[M],f=hu(f,g.hostAttrs,h),g!==a);)M++;return null!==a&&(u.directiveStylingLast=M),f}function hu(a,c,u){const f=u?1:2;let h=-1;if(null!==c)for(let g=0;g<c.length;g++){const C=c[g];"number"==typeof C?h=C:h===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),lr(a,C,!!u||c[++g]))}return void 0===a?null:a}function im(a,c,u,f,h,g,C,M){if(!(3&c.type))return;const S=a.data,T=S[M+1];_6(function eg(a){return 1==(1&a)}(T)?sm(S,c,u,h,Ji(T),C):void 0)||(_6(g)||function Xp(a){return 2==(2&a)}(T)&&(g=sm(S,null,u,h,M,C)),function sp(a,c,u,f,h){if(c)h?a.addClass(u,f):a.removeClass(u,f);else{let g=-1===f.indexOf("-")?void 0:ur.DashCase;null==h?a.removeStyle(u,f,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=ur.Important),a.setStyle(u,f,h,g))}}(f,C,xo(Hn(),u),h,g))}function sm(a,c,u,f,h,g){const C=null===c;let M;for(;h>0;){const S=a[h],T=Array.isArray(S),A=T?S[1]:S,V=null===A;let j=u[h+1];j===Pt&&(j=V?xt:void 0);let X=V?x3(j,f):A===f?j:void 0;if(T&&!_6(X)&&(X=x3(S,f)),_6(X)&&(M=X,C))return M;const pe=a[h+1];h=C?x1(pe):Ji(pe)}if(null!==c){let S=g?c.residualClasses:c.residualStyles;null!=S&&(M=x3(S,f))}return M}function _6(a){return void 0!==a}function Nf(a,c){return 0!=(a.flags&(c?16:32))}function om(a,c=""){const u=Te(),f=qt(),h=a+22,g=f.firstCreatePass?ua(f,h,1,c,null):f.data[h],C=u[h]=S4(u[11],c);_0(f,u,C,g),Mr(g,!1)}function Hf(a){return gu("",a,""),Hf}function gu(a,c,u){const f=Te(),h=js(f,a,c,u);return h!==Pt&&es(f,Hn(),h),gu}function C6(a,c,u,f,h){const g=Te(),C=function j4(a,c,u,f,h,g){const M=pa(a,o1(),u,h);return q1(2),M?c+oe(u)+f+oe(h)+g:Pt}(g,a,c,u,f,h);return C!==Pt&&es(g,Hn(),C),C6}function If(a,c,u,f,h,g,C){const M=Te(),S=function $4(a,c,u,f,h,g,C,M){const T=Q0(a,o1(),u,h,C);return q1(3),T?c+oe(u)+f+oe(h)+g+oe(C)+M:Pt}(M,a,c,u,f,h,g,C);return S!==Pt&&es(M,Hn(),S),If}function Mu(a,c,u){const f=Te();return J2(f,Vo(),c)&&dr(qt(),En(),f,a,c,f[11],u,!0),Mu}const ns=void 0;var Rf=["en",[["a","p"],["AM","PM"],ns],[["AM","PM"],ns,ns],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ns,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ns,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ns,"{1} 'at' {0}",ns],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bM(a){const u=Math.floor(Math.abs(a)),f=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let X4={};function wu(a){const c=function Uf(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=Ff(c);if(u)return u;const f=c.split("-")[0];if(u=Ff(f),u)return u;if("en"===f)return Rf;throw new Se(701,!1)}function y6(a){return wu(a)[ft.PluralCase]}function Ff(a){return a in X4||(X4[a]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[a]),X4[a]}var ft=(()=>((ft=ft||{})[ft.LocaleId=0]="LocaleId",ft[ft.DayPeriodsFormat=1]="DayPeriodsFormat",ft[ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",ft[ft.DaysFormat=3]="DaysFormat",ft[ft.DaysStandalone=4]="DaysStandalone",ft[ft.MonthsFormat=5]="MonthsFormat",ft[ft.MonthsStandalone=6]="MonthsStandalone",ft[ft.Eras=7]="Eras",ft[ft.FirstDayOfWeek=8]="FirstDayOfWeek",ft[ft.WeekendRange=9]="WeekendRange",ft[ft.DateFormat=10]="DateFormat",ft[ft.TimeFormat=11]="TimeFormat",ft[ft.DateTimeFormat=12]="DateTimeFormat",ft[ft.NumberSymbols=13]="NumberSymbols",ft[ft.NumberFormats=14]="NumberFormats",ft[ft.CurrencyCode=15]="CurrencyCode",ft[ft.CurrencySymbol=16]="CurrencySymbol",ft[ft.CurrencyName=17]="CurrencyName",ft[ft.Currencies=18]="Currencies",ft[ft.Directionality=19]="Directionality",ft[ft.PluralCase=20]="PluralCase",ft[ft.ExtraData=21]="ExtraData",ft))();const ON=["zero","one","two","few","many"],ec="en-US",Su={marker:"element"},Du={marker:"ICU"};var Pn=(()=>((Pn=Pn||{})[Pn.SHIFT=2]="SHIFT",Pn[Pn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Pn[Pn.COMMENT=2]="COMMENT",Pn))();let DM=ec;function TM(a){(function Ut(a,c){null==a&&je(c,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(DM=a.toLowerCase().replace(/_/g,"-"))}function EM(a,c,u){const f=c.insertBeforeIndex,h=Array.isArray(f)?f[0]:f;return null===h?np(a,0,u):zn(u[h])}function vm(a,c,u,f,h){const g=c.insertBeforeIndex;if(Array.isArray(g)){let C=f,M=null;if(3&c.type||(M=C,C=h),null!==C&&0==(2&c.flags))for(let S=1;S<g.length;S++)Os(a,C,u[g[S]],M,!1)}}function xM(a,c){if(a.push(c),a.length>1)for(let u=a.length-2;u>=0;u--){const f=a[u];Bf(f)||_m(f,c)&&null===AM(f)&&NM(f,c.index)}}function Bf(a){return!(64&a.type)}function _m(a,c){return Bf(c)||a.index>c.index}function AM(a){const c=a.insertBeforeIndex;return Array.isArray(c)?c[0]:c}function NM(a,c){const u=a.insertBeforeIndex;Array.isArray(u)?u[0]=c:(B3(EM,vm),a.insertBeforeIndex=c)}function Zs(a,c){const u=a.data[c];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function IM(a,c,u){const f=ef(a,u,64,null,null);return xM(c,f),f}function tc(a,c){const u=c[a.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function nc(a){return a>>>17}function jf(a){return(131070&a)>>>1}let Tu=0,Ws=0;function ic(a,c,u,f){const h=u[11];let C,g=null;for(let M=0;M<c.length;M++){const S=c[M];if("string"==typeof S){const T=c[++M];null===u[T]&&(u[T]=S4(h,S))}else if("number"==typeof S)switch(1&S){case 0:const T=nc(S);let A,V;if(null===g&&(g=T,C=v0(h,f)),T===g?(A=f,V=C):(A=null,V=zn(u[T])),null!==V){const Fe=jf(S);Os(h,V,u[Fe],A,!1);const ct=Zs(a,Fe);if(null!==ct&&"object"==typeof ct){const Ct=tc(ct,u);null!==Ct&&ic(a,ct.create[Ct],u,u[ct.anchorIdx])}}break;case 1:const X=c[++M],pe=c[++M];lf(h,xo(S>>>1,u),null,null,X,pe,null)}else switch(S){case Du:const T=c[++M],A=c[++M];null===u[A]&&_(u[A]=Kt(h,T),u);break;case Su:const V=c[++M],j=c[++M];null===u[j]&&_(u[j]=ea(h,V,null),u)}}}function Eu(a,c,u,f,h){for(let g=0;g<u.length;g++){const C=u[g],M=u[++g];if(C&h){let S="";for(let T=g+1;T<=g+M;T++){const A=u[T];if("string"==typeof A)S+=A;else if("number"==typeof A)if(A<0)S+=oe(c[f-A]);else{const V=A>>>2;switch(3&A){case 1:const j=u[++T],X=u[++T],pe=a.data[V];"string"==typeof pe?lf(c[11],c[V],null,pe,j,S,X):dr(a,pe,c,j,S,c[11],X,!1);break;case 0:const Fe=c[V];null!==Fe&&ks(c[11],Fe,S);break;case 2:$f(a,Zs(a,V),c,S);break;case 3:xu(a,Zs(a,V),f,c)}}}}else{const S=u[g+1];if(S>0&&3==(3&S)){const A=Zs(a,S>>>2);c[A.currentCaseLViewIndex]<0&&xu(a,A,f,c)}}g+=M}}function xu(a,c,u,f){let h=f[c.currentCaseLViewIndex];if(null!==h){let g=Tu;h<0&&(h=f[c.currentCaseLViewIndex]=~h,g=-1),Eu(a,f,c.update[h],u,g)}}function $f(a,c,u,f){const h=function Gf(a,c){let u=a.cases.indexOf(c);if(-1===u)switch(a.type){case 1:{const f=function SM(a,c){const u=y6(c)(parseInt(a,10)),f=ON[u];return void 0!==f?f:"other"}(c,function RN(){return DM}());u=a.cases.indexOf(f),-1===u&&"other"!==f&&(u=a.cases.indexOf("other"));break}case 0:u=a.cases.indexOf("other")}return-1===u?null:u}(c,f);if(tc(c,u)!==h&&(Au(a,c,u),u[c.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const C=u[c.anchorIdx];C&&ic(a,c.create[h],u,C)}}function Au(a,c,u){let f=tc(c,u);if(null!==f){const h=c.remove[f];for(let g=0;g<h.length;g++){const C=h[g];if(C>0){const M=xo(C,u);null!==M&&fd(u[11],M)}else Au(a,Zs(a,~C),u)}}}function qf(){const a=[];let u,f,c=-1;function g(M,S){c=0;const T=tc(M,S);f=null!==T?M.remove[T]:xt}function C(){if(c<f.length){const M=f[c++];return M>0?u[M]:(a.push(c,f),g(u[1].data[~M],u),C())}return 0===a.length?null:(f=a.pop(),c=a.pop(),C())}return function h(M,S){for(u=S;a.length;)a.pop();return g(M.value,S),C}}const _a=/\ufffd(\d+):?\d*\ufffd/gi,Mm=/\ufffd(\d+)\ufffd/,wm=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ca=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,zM=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ya=/\uE500/g;function Nr(a,c,u,f,h,g,C){const M=R4(a,f,1,null);let S=M<<Pn.SHIFT,T=t4();c===T&&(T=null),null===T&&(S|=Pn.APPEND_EAGERLY),C&&(S|=Pn.COMMENT,function u1(a){void 0===Yo&&(Yo=a())}(qf)),h.push(S,null===g?"":g);const A=ef(a,M,C?32:1,null===g?"":g,null);xM(u,A);const V=A.index;return Mr(A,!1),null!==T&&c!==T&&function Cm(a,c){let u=a.insertBeforeIndex;null===u?(B3(EM,vm),u=a.insertBeforeIndex=[null,c]):(function he(a,c,u){a!=c&&je(u,a,c,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(c))}(T,V),A}function kM(a,c,u,f,h,g,C){const M=C.match(_a),S=Nr(a,c,u,g,f,M?null:C,!1);M&&X2(h,C,S.index,null,0,null)}function X2(a,c,u,f,h,g){const C=a.length,M=C+1;a.push(null,null);const S=C+2,T=c.split(_a);let A=0;for(let V=0;V<T.length;V++){const j=T[V];if(1&V){const X=h+parseInt(j,10);a.push(-1-X),A|=w6(X)}else""!==j&&a.push(j)}return a.push(u<<2|(f?1:0)),f&&a.push(f,g),a[C]=A,a[M]=a.length-S,A}function w6(a){return 1<<Math.min(a,31)}function Sm(a){let c,g,u="",f=0,h=!1;for(;null!==(c=Ca.exec(a));)h?c[0]===`\ufffd/*${g}\ufffd`&&(f=c.index,h=!1):(u+=a.substring(f,c.index+c[0].length),g=c[1],h=!0);return u+=a.slice(f),u}function Dm(a,c,u,f,h,g){let C=0;const M={type:h.type,currentCaseLViewIndex:R4(a,c,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function $N(a,c,u){a.push(w6(c.mainBinding),2,-1-c.mainBinding,u<<2|2)})(u,h,g),function HM(a,c,u){const f=a.data[c];null===f?a.data[c]=u:f.value=u}(a,g,M);const S=h.values;for(let T=0;T<S.length;T++){const A=S[T],V=[];for(let j=0;j<A.length;j++){const X=A[j];if("string"!=typeof X){const pe=V.push(X)-1;A[j]=`\x3c!--\ufffd${pe}\ufffd--\x3e`}}C=RM(a,M,c,u,f,h.cases[T],A.join(""),V)|C}C&&function UM(a,c,u){a.push(c,1,u<<2|3)}(u,C,g)}function PM(a){const c=[],u=[];let f=1,h=0;const g=Wf(a=a.replace(wm,function(C,M,S){return f="select"===S?0:1,h=parseInt(M.slice(1),10),""}));for(let C=0;C<g.length;){let M=g[C++].trim();1===f&&(M=M.replace(/\s*(?:=)?(\w+)\s*/,"$1")),M.length&&c.push(M);const S=Wf(g[C++]);c.length>u.length&&u.push(S)}return{type:f,mainBinding:h,cases:c,values:u}}function Wf(a){if(!a)return[];let c=0;const u=[],f=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(a);){const M=g.index;if("}"==g[0]){if(u.pop(),0==u.length){const S=a.substring(c,M);wm.test(S)?f.push(PM(S)):f.push(S),c=M+1}}else{if(0==u.length){const S=a.substring(c,M);f.push(S),c=M+1}u.push("{")}}const C=a.substring(c);return f.push(C),f}function RM(a,c,u,f,h,g,C,M){const S=[],T=[],A=[];c.cases.push(g),c.create.push(S),c.remove.push(T),c.update.push(A);const j=dp(cp()).getInertBodyElement(C),X=S0(j)||j;return X?Tm(a,c,u,f,S,T,A,X,h,M,0):0}function Tm(a,c,u,f,h,g,C,M,S,T,A){let V=0,j=M.firstChild;for(;j;){const X=R4(a,u,1,null);switch(j.nodeType){case Node.ELEMENT_NODE:const pe=j,Fe=pe.tagName.toLowerCase();if(Z3.hasOwnProperty(Fe)){Em(h,Su,Fe,S,X),a.data[X]=Fe;const _e=pe.attributes;for(let Et=0;Et<_e.length;Et++){const an=_e.item(Et),Vn=an.name.toLowerCase();an.value.match(_a)?mp.hasOwnProperty(Vn)&&X2(C,an.value,X,an.name,0,w0[Vn]?Ki:null):GN(h,X,an)}V=Tm(a,c,u,f,h,g,C,j,X,T,A+1)|V,FM(g,X,A)}break;case Node.TEXT_NODE:const $e=j.textContent||"",ct=$e.match(_a);Em(h,null,ct?"":$e,S,X),FM(g,X,A),ct&&(V=X2(C,$e,X,null,0,null)|V);break;case Node.COMMENT_NODE:const Ct=Mm.exec(j.textContent||"");if(Ct){const Et=T[parseInt(Ct[1],10)];Em(h,Du,"",S,X),Dm(a,u,f,S,Et,X),jN(g,X,A)}}j=j.nextSibling}return V}function FM(a,c,u){0===u&&a.push(c)}function jN(a,c,u){0===u&&(a.push(~c),a.push(c))}function Em(a,c,u,f,h){null!==c&&a.push(c),a.push(u,h,function VM(a,c,u){return a|c<<17|u<<1}(0,f,h))}function GN(a,c,u){a.push(c<<1|1,u.name,u.value)}function Am(a,c,u=-1){const f=qt(),h=Te(),g=22+a,C=s1(f.consts,c),M=t4();f.firstCreatePass&&function UN(a,c,u,f,h,g){const C=t4(),M=[],S=[],T=[[]];h=function Zf(a,c){if(function BN(a){return-1===a}(c))return Sm(a);{const u=a.indexOf(`:${c}\ufffd`)+2+c.toString().length,f=a.search(new RegExp(`\ufffd\\/\\*\\d+:${c}\ufffd`));return Sm(a.substring(u,f))}}(h,g);const A=function FN(a){return a.replace(ya," ")}(h).split(zM);for(let V=0;V<A.length;V++){let j=A[V];if(0==(1&V)){const X=Wf(j);for(let pe=0;pe<X.length;pe++){let Fe=X[pe];if(0==(1&pe)){const $e=Fe;""!==$e&&kM(a,C,T[0],M,S,u,$e)}else{const $e=Fe;if("object"!=typeof $e)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Dm(a,u,S,c,$e,Nr(a,C,T[0],u,M,"",!0).index)}}}else{const X=47===j.charCodeAt(0),Fe=(j.charCodeAt(X?1:0),22+Number.parseInt(j.substring(X?2:1)));if(X)T.shift(),Mr(t4(),!1);else{const $e=IM(a,T[0],Fe);T.unshift([]),Mr($e,!0)}}}a.data[f]={create:M,update:S}}(f,null===M?0:M.index,h,g,C,u);const S=f.data[g],A=ud(f,M===h[6]?null:M,h);(function rc(a,c,u,f){const h=a[11];for(let g=0;g<c.length;g++){const C=c[g++],M=c[g],S=(C&Pn.COMMENT)===Pn.COMMENT,T=(C&Pn.APPEND_EAGERLY)===Pn.APPEND_EAGERLY,A=C>>>Pn.SHIFT;let V=a[A];null===V&&(V=a[A]=S?h.createComment(M):S4(h,M)),T&&null!==u&&Os(h,u,V,f,!1)}})(h,S.create,A,M&&8&M.type?h[M.index]:null),x5(!0)}function Qf(a,c,u){Am(a,c,u),function Nm(){x5(!1)}()}function Jf(a){return function LM(a){a&&(Tu|=1<<Math.min(Ws,31)),Ws++}(J2(Te(),Vo(),a)),Jf}function Hm(a){!function b6(a,c,u){if(Ws>0){const f=a.data[u];Eu(a,c,Array.isArray(f)?f:f.update,o1()-Ws-1,Tu)}Tu=0,Ws=0}(qt(),Te(),a+22)}function oc(a,c,u,f,h){if(a=Q(a),Array.isArray(a))for(let g=0;g<a.length;g++)oc(a[g],c,u,f,h);else{const g=qt(),C=Te();let M=D1(a)?a:Q(a.provide),S=Dp(a);const T=u2(),A=1048575&T.providerIndexes,V=T.directiveStart,j=T.providerIndexes>>20;if(D1(a)||!a.multi){const X=new wr(S,h,ca),pe=ac(M,c,h?A:A+j,V);-1===pe?(Ro(Li(T,C),g,M),Hu(g,a,c.length),c.push(M),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(X),C.push(X)):(u[pe]=X,C[pe]=X)}else{const X=ac(M,c,A+j,V),pe=ac(M,c,A,A+j),Fe=X>=0&&u[X],$e=pe>=0&&u[pe];if(h&&!$e||!h&&!Fe){Ro(Li(T,C),g,M);const ct=function WM(a,c,u,f,h){const g=new wr(a,u,ca);return g.multi=[],g.index=c,g.componentProviders=0,Iu(g,h,f&&!u),g}(h?e7:Xf,u.length,h,f,S);!h&&$e&&(u[pe].providerFactory=ct),Hu(g,a,c.length,0),c.push(M),T.directiveStart++,T.directiveEnd++,h&&(T.providerIndexes+=1048576),u.push(ct),C.push(ct)}else Hu(g,a,X>-1?X:pe,Iu(u[h?pe:X],S,!h&&f));!h&&f&&$e&&u[pe].componentProviders++}}}function Hu(a,c,u,f){const h=D1(c),g=function Yy(a){return!!a.useClass}(c);if(h||g){const S=(g?Q(c.useClass):c).prototype.ngOnDestroy;if(S){const T=a.destroyHooks||(a.destroyHooks=[]);if(!h&&c.multi){const A=T.indexOf(u);-1===A?T.push(u,[f,S]):T[A+1].push(f,S)}else T.push(u,S)}}}function Iu(a,c,u){return u&&a.componentProviders++,a.multi.push(c)-1}function ac(a,c,u,f){for(let h=u;h<f;h++)if(c[h]===a)return h;return-1}function Xf(a,c,u,f){return t7(this.multi,[])}function e7(a,c,u,f){const h=this.multi;let g;if(this.providerFactory){const C=this.providerFactory.componentProviders,M=W1(u,u[1],this.providerFactory.index,f);g=M.slice(0,C),t7(h,g);for(let S=C;S<M.length;S++)g.push(M[S])}else g=[],t7(h,g);return g}function t7(a,c){for(let u=0;u<a.length;u++)c.push((0,a[u])());return c}function Im(a,c=[]){return u=>{u.providersResolver=(f,h)=>function fr(a,c,u){const f=qt();if(f.firstCreatePass){const h=r1(a);oc(u,f.data,f.blueprint,h,!0),oc(c,f.data,f.blueprint,h,!1)}}(f,h?h(a):a,c)}}class cc{}class Vm{}function S6(a,c){return new D6(a,c??null)}class D6 extends cc{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mf(this);const f=nt(c);this._bootstrapComponents=Qi(f.bootstrap),this._r3Injector=jp(c,u,[{provide:cc,useValue:this},{provide:I4,useValue:this.componentFactoryResolver}],be(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Vu extends Vm{constructor(c){super(),this.moduleType=c}create(c){return new D6(this.moduleType,c)}}class YM extends cc{constructor(c,u,f){super(),this.componentFactoryResolver=new mf(this),this.instance=null;const h=new Sp([...c,{provide:cc,useValue:this},{provide:I4,useValue:this.componentFactoryResolver}],u||E0(),f,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function n7(a,c,u=null){return new YM(a,c,u).injector}let QM=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const f=N4(0,u.type),h=f.length>0?n7([f],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=Xt({token:a,providedIn:"environment",factory:()=>new a(Wn(sa))}),a})();function Lm(a){a.getStandaloneInjector=c=>c.get(QM).getOrCreateStandaloneInjector(a)}function Pu(a,c,u,f){return Fm(Te(),t2(),a,c,u,f)}function Ru(a,c,u,f,h){return Um(Te(),t2(),a,c,u,f,h)}function u7(a,c,u,f,h,g){return function Bm(a,c,u,f,h,g,C,M){const S=c+u;return Q0(a,S,h,g,C)?li(a,S+3,M?f.call(M,h,g,C):f(h,g,C)):E6(a,S+3)}(Te(),t2(),a,c,u,f,h,g)}function Pm(a,c,u,f,h,g,C){return function jm(a,c,u,f,h,g,C,M,S){const T=c+u;return A1(a,T,h,g,C,M)?li(a,T+4,S?f.call(S,h,g,C,M):f(h,g,C,M)):E6(a,T+4)}(Te(),t2(),a,c,u,f,h,g,C)}function d7(a,c,u,f,h,g,C,M){const S=t2()+a,T=Te(),A=A1(T,S,u,f,h,g);return J2(T,S+4,C)||A?li(T,S+5,M?c.call(M,u,f,h,g,C):c(u,f,h,g,C)):function d6(a,c){return a[c]}(T,S+5)}function E6(a,c){const u=a[c];return u===Pt?void 0:u}function Fm(a,c,u,f,h,g){const C=c+u;return J2(a,C,h)?li(a,C+1,g?f.call(g,h):f(h)):E6(a,C+1)}function Um(a,c,u,f,h,g,C){const M=c+u;return pa(a,M,h,g)?li(a,M+2,C?f.call(C,h,g):f(h,g)):E6(a,M+2)}function Gm(a,c){const u=qt();let f;const h=a+22;u.firstCreatePass?(f=function Fu(a,c){if(c)for(let u=c.length-1;u>=0;u--){const f=c[u];if(a===f.name)return f}}(c,u.pipeRegistry),u.data[h]=f,f.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,f.onDestroy)):f=u.data[h];const g=f.factory||(f.factory=x2(f.type)),C=Tn(ca);try{const M=c4(!1),S=g();return c4(M),function eM(a,c,u,f){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),c[u]=f}(u,Te(),h,S),S}finally{Tn(C)}}function f7(a,c,u){const f=a+22,h=Te(),g=$1(h,f);return uc(h,f)?Fm(h,t2(),c,g.transform,u,g):g.transform(u)}function Uu(a,c,u,f){const h=a+22,g=Te(),C=$1(g,h);return uc(g,h)?Um(g,t2(),c,C.transform,u,f,C):C.transform(u,f)}function uc(a,c){return a[1].data[c].pure}function Bu(a){return c=>{setTimeout(a,void 0,c)}}const H1=class qm extends s.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,f){let h=c,g=u||(()=>null),C=f;if(c&&"object"==typeof c){const S=c;h=S.next?.bind(S),g=S.error?.bind(S),C=S.complete?.bind(S)}this.__isAsync&&(g=Bu(g),h&&(h=Bu(h)),C&&(C=Bu(C)));const M=super.subscribe({next:h,error:g,complete:C});return c instanceof F.w0&&c.add(M),M}};function Zm(){return this._results[ha()]()}class Wm{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ha(),f=Wm.prototype;f[u]||(f[u]=Zm)}get changes(){return this._changes||(this._changes=new H1)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const f=this;f.dirty=!1;const h=en(c);(this._changesDetected=!function Un(a,c,u){if(a.length!==c.length)return!1;for(let f=0;f<a.length;f++){let h=a[f],g=c[f];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(f._results,h,u))&&(f._results=h,f.length=h.length,f.last=h[this.length-1],f.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let x6=(()=>{class a{}return a.__NG_ELEMENT_ID__=h7,a})();const WN=x6,KN=class extends WN{constructor(c,u,f){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(c,u){const f=this._declarationTContainer.tViews,h=i6(this._declarationLView,f,c,16,null,f.declTNode,null,null,null,null,u||null);h[17]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[19];return null!==C&&(h[19]=C.createEmbeddedView(f)),Xi(f,h,c),new A2(h)}};function h7(){return p7(u2(),Te())}function p7(a,c){return 4&a.type?new KN(c,a,Us(a,c)):null}let ju=(()=>{class a{}return a.__NG_ELEMENT_ID__=Km,a})();function Km(){return aw(u2(),Te())}const ow=ju,g7=class extends ow{constructor(c,u,f){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=f}get element(){return Us(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){const c=Po(this._hostTNode,this._hostLView);if(R5(c)){const u=Z1(c,this._hostLView),f=Vi(c);return new Bo(u[1].data[f+8],u)}return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=$u(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,u,f){let h,g;"number"==typeof f?h=f:null!=f&&(h=f.index,g=f.injector);const C=c.createEmbeddedView(u||{},g);return this.insert(C,h),C}createComponent(c,u,f,h,g){const C=c&&!function on(a){return"function"==typeof a}(c);let M;if(C)M=u;else{const V=u||{};M=V.index,f=V.injector,h=V.projectableNodes,g=V.environmentInjector||V.ngModuleRef}const S=C?c:new fa(N(c)),T=f||this.parentInjector;if(!g&&null==S.ngModule){const j=(C?T:this.parentInjector).get(sa,null);j&&(g=j)}const A=S.create(T,h,void 0,g);return this.insert(A.hostView,M),A}insert(c,u){const f=c._lView,h=f[1];if(function S5(a){return ar(a[3])}(f)){const A=this.indexOf(c);if(-1!==A)this.detach(A);else{const V=f[3],j=new g7(V,V[6],V[3]);j.detach(j.indexOf(c))}}const g=this._adjustIndex(u),C=this._lContainer;!function ad(a,c,u,f){const h=10+f,g=u.length;f>0&&(u[h-1][4]=c),f<g-10?(c[4]=u[h],Or(u,10+f,c)):(u.push(c),c[4]=null),c[3]=u;const C=c[17];null!==C&&u!==C&&function Hy(a,c){const u=a[9];c[16]!==c[3][3][16]&&(a[2]=!0),null===u?a[9]=[c]:u.push(c)}(C,c);const M=c[19];null!==M&&M.insertView(a),c[2]|=64}(h,f,C,g);const M=ip(g,C),S=f[11],T=v0(S,C[7]);return null!==T&&function ta(a,c,u,f,h,g){f[0]=h,f[6]=c,j3(a,f,u,1,h,g)}(h,C[6],S,f,T,M),c.attachToViewContainerRef(),Or(Ks(C),g,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=$u(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),f=na(this._lContainer,u);f&&(vn(Ks(this._lContainer),u),cd(f[1],f))}detach(c){const u=this._adjustIndex(c,-1),f=na(this._lContainer,u);return f&&null!=vn(Ks(this._lContainer),u)?new A2(f):null}_adjustIndex(c,u=0){return c??this.length+u}};function $u(a){return a[8]}function Ks(a){return a[8]||(a[8]=[])}function aw(a,c){let u;const f=c[a.index];if(ar(f))u=f;else{let h;if(8&a.type)h=zn(f);else{const g=c[11];h=g.createComment("");const C=z2(a,c);Os(g,v0(g,C),h,function Ly(a,c){return a.nextSibling(c)}(g,C),!1)}c[a.index]=u=Tg(f,c,h,a),gf(c,u)}return new g7(u,a,c)}class Ym{constructor(c){this.queryList=c,this.matches=null}clone(){return new Ym(this.queryList)}setDirty(){this.queryList.setDirty()}}class v7{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const f=null!==c.contentQueries?c.contentQueries[0]:u.length,h=[];for(let g=0;g<f;g++){const C=u.getByIndex(g);h.push(this.queries[C.indexInDeclarationView].clone())}return new v7(h)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==qu(c,u).matches&&this.queries[u].setDirty()}}class Qm{constructor(c,u,f=null){this.predicate=c,this.flags=u,this.read=f}}class Jm{constructor(c=[]){this.queries=c}elementStart(c,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let f=0;f<this.length;f++){const h=null!==u?u.length:0,g=this.getByIndex(f).embeddedTView(c,h);g&&(g.indexInDeclarationView=f,null!==u?u.push(g):u=[g])}return null!==u?new Jm(u):null}template(c,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Xm{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new Xm(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=c.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let h=0;h<f.length;h++){const g=f[h];this.matchTNodeWithReadOption(c,u,cw(u,g)),this.matchTNodeWithReadOption(c,u,Uo(u,c,g,!1,!1))}else f===x6?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,Uo(u,c,f,!1,!1))}matchTNodeWithReadOption(c,u,f){if(null!==f){const h=this.metadata.read;if(null!==h)if(h===V4||h===ju||h===x6&&4&u.type)this.addMatch(u.index,-2);else{const g=Uo(u,c,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,f)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function cw(a,c){const u=a.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===c)return u[f+1];return null}function XN(a,c,u,f){return-1===u?function JN(a,c){return 11&a.type?Us(a,c):4&a.type?p7(a,c):null}(c,a):-2===u?function eH(a,c,u){return u===V4?Us(c,a):u===x6?p7(c,a):u===ju?aw(c,a):void 0}(a,c,f):W1(a,a[1],u,c)}function lw(a,c,u,f){const h=c[19].queries[f];if(null===h.matches){const g=a.data,C=u.matches,M=[];for(let S=0;S<C.length;S+=2){const T=C[S];M.push(T<0?null:XN(c,g[T],C[S+1],u.metadata.read))}h.matches=M}return h.matches}function ev(a,c,u,f){const h=a.queries.getByIndex(u),g=h.matches;if(null!==g){const C=lw(a,c,h,u);for(let M=0;M<g.length;M+=2){const S=g[M];if(S>0)f.push(C[M/2]);else{const T=g[M+1],A=c[-S];for(let V=10;V<A.length;V++){const j=A[V];j[17]===j[3]&&ev(j[1],j,T,f)}if(null!==A[9]){const V=A[9];for(let j=0;j<V.length;j++){const X=V[j];ev(X[1],X,T,f)}}}}}return f}function Ys(a){const c=Te(),u=qt(),f=p3();g3(f+1);const h=qu(u,f);if(a.dirty&&function w5(a){return 4==(4&a[2])}(c)===(2==(2&h.metadata.flags))){if(null===h.matches)a.reset([]);else{const g=h.crossesNgTemplate?ev(u,c,f,[]):lw(u,c,h,f);a.reset(g,zd),a.notifyOnChanges()}return!0}return!1}function uw(a,c,u){const f=qt();f.firstCreatePass&&(Gu(f,new Qm(a,c,u),-1),2==(2&c)&&(f.staticViewQueries=!0)),Hr(f,Te(),c)}function _7(a,c,u,f){const h=qt();if(h.firstCreatePass){const g=u2();Gu(h,new Qm(c,u,f),g.index),function tH(a,c){const u=a.contentQueries||(a.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,c)}(h,a),2==(2&u)&&(h.staticContentQueries=!0)}Hr(h,Te(),u)}function dw(){return function tv(a,c){return a[19].queries[c].queryList}(Te(),p3())}function Hr(a,c,u){const f=new Wm(4==(4&u));mg(a,c,f,f.destroy),null===c[19]&&(c[19]=new v7),c[19].queries.push(new Ym(f))}function Gu(a,c,u){null===a.queries&&(a.queries=new Jm),a.queries.track(new Xm(c,u))}function qu(a,c){return a.queries.getByIndex(c)}function nv(a,c){return p7(a,c)}function Wu(...a){}const dt=new yn("Application Initializer");let fc=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Wu,this.reject=Wu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,h)=>{this.resolve=f,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(bf(g))u.push(g);else if(Bg(g)){const C=new Promise((M,S)=>{g.subscribe({complete:M,error:S})});u.push(C)}}Promise.all(u).then(()=>{f()}).catch(h=>{this.reject(h)}),0===u.length&&f(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Wn(dt,8))},a.\u0275prov=Xt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Lt=new yn("AppId",{providedIn:"root",factory:function N6(){return`${Ma()}${Ma()}${Ma()}`}});function Ma(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uv=new yn("Platform Initializer"),b7=new yn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dv=new yn("appBootstrapListener"),Vw=new yn("AnimationModuleType");let er=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Xt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const h2=new yn("LocaleId",{providedIn:"root",factory:()=>Y5(h2,Je.Optional|Je.SkipSelf)||function Ku(){return typeof $localize<"u"&&$localize.locale||ec}()}),Js=new yn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hv{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let tr=(()=>{class a{compileModuleSync(u){return new Vu(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),g=Qi(nt(u).declarations).reduce((C,M)=>{const S=N(M);return S&&C.push(new fa(S)),C},[]);return new hv(f,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Xt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const kw=(()=>Promise.resolve(0))();function w7(a){typeof Zone>"u"?kw.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class $r{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new H1(!1),this.onMicrotaskEmpty=new H1(!1),this.onStable=new H1(!1),this.onError=new H1(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!f&&u,h.shouldCoalesceRunChangeDetection=f,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function hc(){let a=Vt.requestAnimationFrame,c=Vt.cancelAnimationFrame;if(typeof Zone<"u"&&a&&c){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function gv(a){const c=()=>{!function Ow(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Vt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,pc(a),a.isCheckStableRunning=!0,Qu(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),pc(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,h,g,C,M)=>{try{return Ju(a),u.invokeTask(h,g,C,M)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&c(),Xu(a)}},onInvoke:(u,f,h,g,C,M,S)=>{try{return Ju(a),u.invoke(h,g,C,M,S)}finally{a.shouldCoalesceRunChangeDetection&&c(),Xu(a)}},onHasTask:(u,f,h,g)=>{u.hasTask(h,g),f===h&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,pc(a),Qu(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,f,h,g)=>(u.handleError(h,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$r.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if($r.isInAngularZone())throw new Se(909,!1)}run(c,u,f){return this._inner.run(c,u,f)}runTask(c,u,f,h){const g=this._inner,C=g.scheduleEventTask("NgZoneEvent: "+h,c,S7,Wu,Wu);try{return g.runTask(C,u,f)}finally{g.cancelTask(C)}}runGuarded(c,u,f){return this._inner.runGuarded(c,u,f)}runOutsideAngular(c){return this._outer.run(c)}}const S7={};function Qu(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function pc(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Ju(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Xu(a){a._nesting--,Qu(a)}class D7{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new H1,this.onMicrotaskEmpty=new H1,this.onStable=new H1,this.onError=new H1}run(c,u,f){return c.apply(u,f)}runGuarded(c,u,f){return c.apply(u,f)}runOutsideAngular(c){return c()}runTask(c,u,f,h){return c.apply(u,f)}}const mv=new yn(""),vv=new yn("");let wa,T7=(()=>{class a{constructor(u,f,h){this._ngZone=u,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wa||(function Pw(a){wa=a}(h),h.addToWindow(f)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$r.assertNotInAngularZone(),w7(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())w7(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,h){let g=-1;f&&f>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==g),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,f,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,f,h){return[]}}return a.\u0275fac=function(u){return new(u||a)(Wn($r),Wn(E7),Wn(vv))},a.\u0275prov=Xt({token:a,factory:a.\u0275fac}),a})(),E7=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return wa?.findTestabilityInTree(this,u,f)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=Xt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Xs=null;const gc=new yn("AllowMultipleToken"),x7=new yn("PlatformDestroyListeners");class yv{constructor(c,u){this.name=c,this.token=u}}function r8(a,c,u=[]){const f=`Platform: ${c}`,h=new yn(f);return(g=[])=>{let C=H7();if(!C||C.injector.get(gc,!1)){const M=[...u,...g,{provide:h,useValue:!0}];a?a(M):function bv(a){if(Xs&&!Xs.get(gc,!1))throw new Se(400,!1);Xs=a;const c=a.get(I7);(function n8(a){const c=a.get(uv,null);c&&c.forEach(u=>u())})(a)}(function N7(a=[],c){return oa.create({name:c,providers:[{provide:Hd,useValue:"platform"},{provide:x7,useValue:new Set([()=>Xs=null])},...a]})}(M,f))}return function A7(a){const c=H7();if(!c)throw new Se(401,!1);return c}()}}function H7(){return Xs?.get(I7)??null}let I7=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const h=function i8(a,c){let u;return u="noop"===a?new D7:("zone.js"===a?void 0:a)||new $r(c),u}(f?.ngZone,function V7(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(f)),g=[{provide:$r,useValue:h}];return h.run(()=>{const C=oa.create({providers:g,parent:this.injector,name:u.moduleType.name}),M=u.create(C),S=M.injector.get(Yi,null);if(!S)throw new Se(402,!1);return h.runOutsideAngular(()=>{const T=h.onError.subscribe({next:A=>{S.handleError(A)}});M.onDestroy(()=>{vc(this._modules,M),T.unsubscribe()})}),function L7(a,c,u){try{const f=u();return bf(f)?f.catch(h=>{throw c.runOutsideAngular(()=>a.handleError(h)),h}):f}catch(f){throw c.runOutsideAngular(()=>a.handleError(f)),f}}(S,h,()=>{const T=M.injector.get(fc);return T.runInitializers(),T.donePromise.then(()=>(TM(M.injector.get(h2,ec)||ec),this._moduleDoBootstrap(M),M))})})}bootstrapModule(u,f=[]){const h=wv({},f);return function e8(a,c,u){const f=new Vu(u);return Promise.resolve(f)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const f=u.injector.get(mc);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>f.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Se(403,!1);u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const u=this._injector.get(x7,null);u&&(u.forEach(f=>f()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Wn(oa))},a.\u0275prov=Xt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function wv(a,c){return Array.isArray(c)?c.reduce(wv,a):{...a,...c}}let mc=(()=>{class a{constructor(u,f,h){this._zone=u,this._injector=f,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new k.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),C=new k.y(M=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{$r.assertNotInAngularZone(),w7(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{$r.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{S.unsubscribe(),T.unsubscribe()}});this.isStable=(0,le.T)(g,C.pipe((0,Ee.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,f){const h=u instanceof Tp;if(!this._injector.get(fc).done)throw!h&&Ne(u),new Se(405,false);let C;C=h?u:this._injector.get(I4).resolveComponentFactory(u),this.componentTypes.push(C.componentType);const M=function Cv(a){return a.isBoundToModule}(C)?void 0:this._injector.get(cc),T=C.create(oa.NULL,[],f||C.selector,M),A=T.location.nativeElement,V=T.injector.get(mv,null);return V?.registerApplication(A),T.onDestroy(()=>{this.detachView(T.hostView),vc(this.components,T),V?.unregisterApplication(A)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;vc(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(dv,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>vc(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Se(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(Wn($r),Wn(sa),Wn(Yi))},a.\u0275prov=Xt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function vc(a,c){const u=a.indexOf(c);u>-1&&a.splice(u,1)}let I2=!0,I6=!1;function z7(){return I6=!0,I2}function Fw(){if(I6)throw new Error("Cannot enable prod mode after platform setup.");I2=!1}let Bw=(()=>{class a{}return a.__NG_ELEMENT_ID__=Dv,a})();function Dv(a){return function k7(a,c,u){if(Za(a)&&!u){const f=sn(a.index,c);return new A2(f,f)}return 47&a.type?new A2(c[16],c):null}(u2(),Te(),16==(16&a))}class B7{constructor(){}supports(c){return u6(c)}create(c){return new xv(c)}}const V6=(a,c)=>c;class xv{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||V6}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,f=this._removalsHead,h=0,g=null;for(;u||f;){const C=!f||u&&u.currentIndex<L6(f,h,g)?u:f,M=L6(C,h,g),S=C.currentIndex;if(C===f)h--,f=f._nextRemoved;else if(u=u._next,null==C.previousIndex)h++;else{g||(g=[]);const T=M-h,A=S-h;if(T!=A){for(let j=0;j<T;j++){const X=j<g.length?g[j]:g[j]=0,pe=X+j;A<=pe&&pe<T&&(g[j]=X+1)}g[C.previousIndex]=A-T}}M!==S&&c(C,M,S)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!u6(c))throw new Se(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let h,g,C,u=this._itHead,f=!1;if(Array.isArray(c)){this.length=c.length;for(let M=0;M<this.length;M++)g=c[M],C=this._trackByFn(M,g),null!==u&&Object.is(u.trackById,C)?(f&&(u=this._verifyReinsertion(u,g,C,M)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,C,M),f=!0),u=u._next}else h=0,function Y0(a,c){if(Array.isArray(a))for(let u=0;u<a.length;u++)c(a[u]);else{const u=a[ha()]();let f;for(;!(f=u.next()).done;)c(f.value)}}(c,M=>{C=this._trackByFn(h,M),null!==u&&Object.is(u.trackById,C)?(f&&(u=this._verifyReinsertion(u,M,C,h)),Object.is(u.item,M)||this._addIdentityChange(u,M)):(u=this._mismatch(u,M,C,h),f=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,f,h){let g;return null===c?g=this._itTail:(g=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,g,h)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(f,h))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,g,h)):c=this._addAfter(new pr(u,f),g,h),c}_verifyReinsertion(c,u,f,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==g?c=this._reinsertAfter(g,c._prev,h):c.currentIndex!=h&&(c.currentIndex=h,this._addToMoves(c,h)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const h=c._prevRemoved,g=c._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(c,u,f),this._addToMoves(c,f),c}_moveAfter(c,u,f){return this._unlink(c),this._insertAfter(c,u,f),this._addToMoves(c,f),c}_addAfter(c,u,f){return this._insertAfter(c,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,f){const h=null===u?this._itHead:u._next;return c._next=h,c._prev=u,null===h?this._itTail=c:h._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new Mc),this._linkedRecords.put(c),c.currentIndex=f,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,f=c._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mc),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class pr{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Av{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,c))return f;return null}remove(c){const u=c._prevDup,f=c._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class Mc{constructor(){this.map=new Map}put(c){const u=c.trackById;let f=this.map.get(u);f||(f=new Av,this.map.set(u,f)),f.add(c)}get(c,u){const h=this.map.get(c);return h?h.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function L6(a,c,u){const f=a.previousIndex;if(null===f)return f;let h=0;return u&&f<u.length&&(h=u[f]),f+c+h}class j7{constructor(){}supports(c){return c instanceof Map||ts(c)}create(){return new $7}}class $7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||ts(c)))throw new Se(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(f,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,f);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const f=c._prev;return u._next=c,u._prev=f,c._prev=u,f&&(f._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const h=this._records.get(c);this._maybeAddToChanges(h,u);const g=h._prev,C=h._next;return g&&(g._next=C),C&&(C._prev=g),h._next=null,h._prev=null,h}const f=new Nv(c);return this._records.set(c,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(f=>u(c[f],f))}}class Nv{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function G7(){return new Sa([new B7])}let Sa=(()=>{class a{constructor(u){this.factories=u}static create(u,f){if(null!=f){const h=f.factories.slice();u=u.concat(h)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||G7()),deps:[[a,new Ri,new Es]]}}find(u){const f=this.factories.find(h=>h.supports(u));if(null!=f)return f;throw new Se(901,!1)}}return a.\u0275prov=Xt({token:a,providedIn:"root",factory:G7}),a})();function c8(){return new z6([new j7])}let z6=(()=>{class a{constructor(u){this.factories=u}static create(u,f){if(f){const h=f.factories.slice();u=u.concat(h)}return new a(u)}static extend(u){return{provide:a,useFactory:f=>a.create(u,f||c8()),deps:[[a,new Ri,new Es]]}}find(u){const f=this.factories.find(h=>h.supports(u));if(f)return f;throw new Se(901,!1)}}return a.\u0275prov=Xt({token:a,providedIn:"root",factory:c8}),a})();const q7=r8(null,"core",[]);let u8=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Wn(mc))},a.\u0275mod=Qt({type:a}),a.\u0275inj=kt({}),a})();function Z7(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function Qw(a,c){const u=N(a),f=c.elementInjector||E0();return new fa(u).create(f,c.projectableNodes,c.hostElement,c.environmentInjector)}},3942:(bt,He,O)=>{O.d(He,{Z:()=>Se});var s=O(2090),F=O(4859),k=O(9681),le=O(1877);class Ee{constructor(oe,de){this._delegate=oe,this.firebase=de,(0,k._addComponent)(oe,new F.wA("app-compat",()=>this,"PUBLIC")),this.container=oe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this._delegate.automaticDataCollectionEnabled=oe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(oe=>{this._delegate.checkDestroyed(),oe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(oe,de=k._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(oe);return!it.isInitialized()&&"EXPLICIT"===(null===(rt=it.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&it.initialize(),it.getImmediate({identifier:de})}_removeServiceInstance(oe,de=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(oe).clearInstance(de)}_addComponent(oe){(0,k._addComponent)(this._delegate,oe)}_addOrOverwriteComponent(oe){(0,k._addOrOverwriteComponent)(this._delegate,oe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ke(){const Qe=function be(Qe){const oe={},de={__esModule:!0,initializeApp:function Oe(te,ie={}){const he=k.initializeApp(te,ie);if((0,s.r3)(oe,he.name))return oe[he.name];const K=new Qe(he,de);return oe[he.name]=K,K},app:it,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function me(te){const ie=te.name,he=ie.replace("-compat","");if(k._registerComponent(te)&&"PUBLIC"===te.type){const K=(Y=it())=>{if("function"!=typeof Y[he])throw we.create("invalid-app-argument",{appName:ie});return Y[he]()};void 0!==te.serviceProps&&(0,s.ZB)(K,te.serviceProps),de[he]=K,Qe.prototype[he]=function(...Y){return this._getService.bind(this,ie).apply(this,te.multipleInstances?Y:[])}}return"PUBLIC"===te.type?de[he]:null},removeApp:function rt(te){delete oe[te]},useAsService:function Be(te,ie){return"serverAuth"===ie?null:ie},modularAPIs:k}};function it(te){if(!(0,s.r3)(oe,te=te||k._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:te});return oe[te]}return de.default=de,Object.defineProperty(de,"apps",{get:function De(){return Object.keys(oe).map(te=>oe[te])}}),it.App=Qe,de}(Ee);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:ke,extendNamespace:function oe(de){(0,s.ZB)(Qe,de)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),Qe}(),$=new le.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Se=G;!function Re(Qe){(0,k.registerVersion)("@firebase/app-compat","0.2.0",Qe)}()},9681:(bt,He,O)=>{O.r(He),O.d(He,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>v1,_DEFAULT_ENTRY_NAME:()=>Ut,_addComponent:()=>pn,_addOrOverwriteComponent:()=>Xt,_apps:()=>hn,_clearComponents:()=>e1,_components:()=>Zn,_getProvider:()=>kt,_registerComponent:()=>Bt,_removeServiceInstance:()=>G2,deleteApp:()=>_i,getApp:()=>Z2,getApps:()=>_1,initializeApp:()=>q2,onLog:()=>l2,registerVersion:()=>C2,setLogLevel:()=>Tn});var s=O(5861),F=O(4859),k=O(1877),le=O(2090),Ee=O(8766);class Me{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function we(We){return"VERSION"===We.getComponent()?.type}(Xe)){const wt=Xe.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter(Xe=>Xe).join(" ")}}const be="@firebase/app",G=new k.Yd("@firebase/app"),Ut="[DEFAULT]",je={[be]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,Zn=new Map;function pn(We,ve){try{We.container.addComponent(ve)}catch(Xe){G.debug(`Component ${ve.name} failed to register with FirebaseApp ${We.name}`,Xe)}}function Xt(We,ve){We.container.addOrOverwriteComponent(ve)}function Bt(We){const ve=We.name;if(Zn.has(ve))return G.debug(`There were multiple attempts to register component ${ve}.`),!1;Zn.set(ve,We);for(const Xe of hn.values())pn(Xe,We);return!0}function kt(We,ve){const Xe=We.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),We.container.getProvider(ve)}function G2(We,ve,Xe=Ut){kt(We,ve).clearInstance(Xe)}function e1(){Zn.clear()}const Rn=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class j1{constructor(ve,Xe,wt){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new F.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw Rn.create("app-deleted",{appName:this._name})}}const v1="9.15.0";function q2(We,ve={}){let Xe=We;"object"!=typeof ve&&(ve={name:ve});const wt=Object.assign({name:Ut,automaticDataCollectionEnabled:!1},ve),At=wt.name;if("string"!=typeof At||!At)throw Rn.create("bad-app-name",{appName:String(At)});if(Xe||(Xe=(0,le.aH)()),!Xe)throw Rn.create("no-options");const Qt=hn.get(At);if(Qt){if((0,le.vZ)(Xe,Qt.options)&&(0,le.vZ)(wt,Qt.config))return Qt;throw Rn.create("duplicate-app",{appName:At})}const B=new F.H0(At);for(const Z of Zn.values())B.addComponent(Z);const R=new j1(Xe,wt,B);return hn.set(At,R),R}function Z2(We=Ut){const ve=hn.get(We);if(!ve&&We===Ut)return q2();if(!ve)throw Rn.create("no-app",{appName:We});return ve}function _1(){return Array.from(hn.values())}function _i(We){return Je.apply(this,arguments)}function Je(){return(Je=(0,s.Z)(function*(We){const ve=We.name;hn.has(ve)&&(hn.delete(ve),yield Promise.all(We.container.getProviders().map(Xe=>Xe.delete())),We.isDeleted=!0)})).apply(this,arguments)}function C2(We,ve,Xe){var wt;let At=null!==(wt=je[We])&&void 0!==wt?wt:We;Xe&&(At+=`-${Xe}`);const Qt=At.match(/\s|\//),B=ve.match(/\s|\//);if(Qt||B){const R=[`Unable to register library "${At}" with version "${ve}":`];return Qt&&R.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Qt&&B&&R.push("and"),B&&R.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void G.warn(R.join(" "))}Bt(new F.wA(`${At}-version`,()=>({library:At,version:ve}),"VERSION"))}function l2(We,ve){if(null!==We&&"function"!=typeof We)throw Rn.create("invalid-log-argument");(0,k.Am)(We,ve)}function Tn(We){(0,k.Ub)(We)}const An="firebase-heartbeat-store";let Nn=null;function mn(){return Nn||(Nn=(0,Ee.X3)("firebase-heartbeat-database",1,{upgrade:(We,ve)=>{0===ve&&We.createObjectStore(An)}}).catch(We=>{throw Rn.create("idb-open",{originalErrorMessage:We.message})})),Nn}function gt(){return(gt=(0,s.Z)(function*(We){try{return(yield mn()).transaction(An).objectStore(An).get(y2(We))}catch(ve){if(ve instanceof le.ZR)G.warn(ve.message);else{const Xe=Rn.create("idb-get",{originalErrorMessage:ve?.message});G.warn(Xe.message)}}})).apply(this,arguments)}function Vt(We,ve){return or.apply(this,arguments)}function or(){return(or=(0,s.Z)(function*(We,ve){try{const wt=(yield mn()).transaction(An,"readwrite");return yield wt.objectStore(An).put(ve,y2(We)),wt.done}catch(Xe){if(Xe instanceof le.ZR)G.warn(Xe.message);else{const wt=Rn.create("idb-set",{originalErrorMessage:Xe?.message});G.warn(wt.message)}}})).apply(this,arguments)}function y2(We){return`${We.name}!${We.options.appId}`}class K2{constructor(ve){this.container=ve,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new Wt(Xe),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var ve=this;return(0,s.Z)(function*(){const wt=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=zt();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==At&&!ve._heartbeatsCache.heartbeats.some(Qt=>Qt.date===At))return ve._heartbeatsCache.heartbeats.push({date:At,agent:wt}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(Qt=>{const B=new Date(Qt.date).valueOf();return Date.now()-B<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,s.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const Xe=zt(),{heartbeatsToSend:wt,unsentEntries:At}=function t1(We,ve=1024){const Xe=[];let wt=We.slice();for(const At of We){const Qt=Xe.find(B=>B.agent===At.agent);if(Qt){if(Qt.dates.push(At.date),E2(Xe)>ve){Qt.dates.pop();break}}else if(Xe.push({agent:At.agent,dates:[At.date]}),E2(Xe)>ve){Xe.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:wt}}(ve._heartbeatsCache.heartbeats),Qt=(0,le.L)(JSON.stringify({version:2,heartbeats:wt}));return ve._heartbeatsCache.lastSentHeartbeatDate=Xe,At.length>0?(ve._heartbeatsCache.heartbeats=At,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),Qt})()}}function zt(){return(new Date).toISOString().substring(0,10)}class Wt{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,s.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function pt(We){return gt.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var Xe=this;return(0,s.Z)(function*(){var wt;if(yield Xe._canUseIndexedDBPromise){const Qt=yield Xe.read();return Vt(Xe.app,{lastSentHeartbeatDate:null!==(wt=ve.lastSentHeartbeatDate)&&void 0!==wt?wt:Qt.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var Xe=this;return(0,s.Z)(function*(){var wt;if(yield Xe._canUseIndexedDBPromise){const Qt=yield Xe.read();return Vt(Xe.app,{lastSentHeartbeatDate:null!==(wt=ve.lastSentHeartbeatDate)&&void 0!==wt?wt:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,...ve.heartbeats]})}})()}}function E2(We){return(0,le.L)(JSON.stringify({version:2,heartbeats:We})).length}!function Ln(We){Bt(new F.wA("platform-logger",ve=>new Me(ve),"PRIVATE")),Bt(new F.wA("heartbeat",ve=>new K2(ve),"PRIVATE")),C2(be,"0.9.0",We),C2(be,"0.9.0","esm2017"),C2("fire-js","")}("")},4859:(bt,He,O)=>{O.d(He,{H0:()=>be,wA:()=>k});var s=O(5861),F=O(2090);class k{constructor(G,$,Q){this.name=G,this.instanceFactory=$,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const le="[DEFAULT]";class Ee{constructor(G,$){this.name=G,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const $=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has($)){const Q=new F.BH;if(this.instancesDeferred.set($,Q),this.isInitialized($)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:$});Ue&&Q.resolve(Ue)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(G){var $;const Q=this.normalizeInstanceIdentifier(G?.identifier),Ue=null!==($=G?.optional)&&void 0!==$&&$;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Re){if(Ue)return null;throw Re}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function we(ke){return"EAGER"===ke.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[$,Q]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier($);try{const Re=this.getOrInitializeService({instanceIdentifier:Ue});Q.resolve(Re)}catch{}}}}clearInstance(G=le){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,s.Z)(function*(){const $=Array.from(G.instances.values());yield Promise.all([...$.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...$.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=le){return this.instances.has(G)}getOptions(G=le){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:$={}}=G,Q=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:Q,options:$});for(const[Re,Se]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Re)&&Se.resolve(Ue);return Ue}onInit(G,$){var Q;const Ue=this.normalizeInstanceIdentifier($),Re=null!==(Q=this.onInitCallbacks.get(Ue))&&void 0!==Q?Q:new Set;Re.add(G),this.onInitCallbacks.set(Ue,Re);const Se=this.instances.get(Ue);return Se&&G(Se,Ue),()=>{Re.delete(G)}}invokeOnInitCallbacks(G,$){const Q=this.onInitCallbacks.get($);if(Q)for(const Ue of Q)try{Ue(G,$)}catch{}}getOrInitializeService({instanceIdentifier:G,options:$={}}){let Q=this.instances.get(G);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ke=G,ke===le?void 0:ke),options:$}),this.instances.set(G,Q),this.instancesOptions.set(G,$),this.invokeOnInitCallbacks(Q,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,Q)}catch{}var ke;return Q||null}normalizeInstanceIdentifier(G=le){return this.component?this.component.multipleInstances?G:le:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class be{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const $=this.getProvider(G.name);if($.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);$.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const $=new Ee(G,this);return this.providers.set(G,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(bt,He,O)=>{O.d(He,{Am:()=>ke,Ub:()=>be,Yd:()=>we,in:()=>F});const s=[];var F=(()=>{return(G=F||(F={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",F;var G})();const k={debug:F.DEBUG,verbose:F.VERBOSE,info:F.INFO,warn:F.WARN,error:F.ERROR,silent:F.SILENT},le=F.INFO,Ee={[F.DEBUG]:"log",[F.VERBOSE]:"log",[F.INFO]:"info",[F.WARN]:"warn",[F.ERROR]:"error"},Me=(G,$,...Q)=>{if($<G.logLevel)return;const Ue=(new Date).toISOString(),Re=Ee[$];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Re](`[${Ue}]  ${G.name}:`,...Q)};class we{constructor($){this.name=$,this._logLevel=le,this._logHandler=Me,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in F))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?k[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,F.DEBUG,...$),this._logHandler(this,F.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,F.VERBOSE,...$),this._logHandler(this,F.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,F.INFO,...$),this._logHandler(this,F.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,F.WARN,...$),this._logHandler(this,F.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,F.ERROR,...$),this._logHandler(this,F.ERROR,...$)}}function be(G){s.forEach($=>{$.setLogLevel(G)})}function ke(G,$){for(const Q of s){let Ue=null;$&&$.level&&(Ue=k[$.level]),Q.userLogHandler=null===G?null:(Re,Se,...Qe)=>{const oe=Qe.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch{return null}}).filter(de=>de).join(" ");Se>=(Ue??Re.logLevel)&&G({level:F[Se].toLowerCase(),message:oe,args:Qe,type:Re.name})}}}},9260:(bt,He,O)=>{O.d(He,{Z:()=>s.Z});var s=O(3942);s.Z.registerVersion("firebase","9.15.0","app-compat")},9568:(bt,He,O)=>{O.r(He);var s=O(5861),F=O(3942),k=O(552),le=O(2090),we=(O(9681),O(1877),O(4859));function be(){return window}function $(){return($=(0,s.Z)(function*(P,N,L){var ee;const{BuildInfo:Ne}=be();(0,k.ap)(N.sessionId,"AuthEvent did not contain a session ID");const nt=yield de(N.sessionId),ut={};return(0,k.aq)()?ut.ibi=Ne.packageName:(0,k.ar)()?ut.apn=Ne.packageName:(0,k.as)(P,"operation-not-supported-in-this-environment"),Ne.displayName&&(ut.appDisplayName=Ne.displayName),ut.sessionId=nt,(0,k.at)(P,L,N.type,void 0,null!==(ee=N.eventId)&&void 0!==ee?ee:void 0,ut)})).apply(this,arguments)}function Ue(){return(Ue=(0,s.Z)(function*(P){const{BuildInfo:N}=be(),L={};(0,k.aq)()?L.iosBundleId=N.packageName:(0,k.ar)()?L.androidPackageName=N.packageName:(0,k.as)(P,"operation-not-supported-in-this-environment"),yield(0,k.au)(P,L)})).apply(this,arguments)}function Qe(){return(Qe=(0,s.Z)(function*(P,N,L){const{cordova:ee}=be();let Ne=()=>{};try{yield new Promise((nt,ut)=>{let Ce=null;function Ie(){var Ot;nt();const dn=null===(Ot=ee.plugins.browsertab)||void 0===Ot?void 0:Ot.close;"function"==typeof dn&&dn(),"function"==typeof L?.close&&L.close()}function Nt(){Ce||(Ce=window.setTimeout(()=>{ut((0,k.aw)(P,"redirect-cancelled-by-user"))},2e3))}function un(){"visible"===document?.visibilityState&&Nt()}N.addPassiveListener(Ie),document.addEventListener("resume",Nt,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",un,!1),Ne=()=>{N.removePassiveListener(Ie),document.removeEventListener("resume",Nt,!1),document.removeEventListener("visibilitychange",un,!1),Ce&&window.clearTimeout(Ce)}})}finally{Ne()}})).apply(this,arguments)}function de(P){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(function*(P){const N=it(P),L=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(L)).map(Ne=>Ne.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function it(P){if((0,k.ap)(/[0-9a-zA-Z]+/.test(P),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(P);const N=new ArrayBuffer(P.length),L=new Uint8Array(N);for(let ee=0;ee<P.length;ee++)L[ee]=P.charCodeAt(ee);return L}class De extends k.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(N=>{this.resolveInialized=N})}addPassiveListener(N){this.passiveListeners.add(N)}removePassiveListener(N){this.passiveListeners.delete(N)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(N){return this.resolveInialized(),this.passiveListeners.forEach(L=>L(N)),super.onEvent(N)}initialized(){var N=this;return(0,s.Z)(function*(){yield N.initPromise})()}}function te(P){return ie.apply(this,arguments)}function ie(){return(ie=(0,s.Z)(function*(P){const N=yield Y()._get(ae(P));return N&&(yield Y()._remove(ae(P))),N})).apply(this,arguments)}function K(){const P=[],N="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let L=0;L<20;L++){const ee=Math.floor(Math.random()*N.length);P.push(N.charAt(ee))}return P.join("")}function Y(){return(0,k.az)(k.b)}function ae(P){return(0,k.aA)("authEvent",P.config.apiKey,P.name)}function ze(P){if(!P?.includes("?"))return{};const[N,...L]=P.split("?");return(0,le.zd)(L.join("?"))}function je(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function Bt(){var P;return(null===(P=self?.location)||void 0===P?void 0:P.protocol)||null}function G2(P=(0,le.z$)()){return!("file:"!==Bt()&&"ionic:"!==Bt()&&"capacitor:"!==Bt()||!P.toLowerCase().match(/iphone|ipad|ipod|android/))}function v1(){try{const P=self.localStorage,N=k.aI();if(P)return P.setItem(N,"1"),P.removeItem(N),!function j1(P=(0,le.z$)()){return function B1(){return(0,le.w1)()&&11===document?.documentMode}()||function Rn(P=(0,le.z$)()){return/Edge\/\d+/.test(P)}(P)}()||(0,le.hl)()}catch{return q2()&&(0,le.hl)()}return!1}function q2(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Z2(){return(function kt(){return"http:"===Bt()||"https:"===Bt()}()||(0,le.ru)()||G2())&&!function e1(){return(0,le.b$)()||(0,le.UG)()}()&&v1()&&!q2()}function _1(){return G2()&&typeof document<"u"}function Je(){return(Je=(0,s.Z)(function*(){return!!_1()&&new Promise(P=>{const N=setTimeout(()=>{P(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(N),P(!0)})})})).apply(this,arguments)}const l2={LOCAL:"local",NONE:"none",SESSION:"session"},Tn=k.ax,sr="persistence";function An(P){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)(function*(P){yield P._initializationPromise;const N=pt(),L=k.aA(sr,P.config.apiKey,P.name);N&&N.setItem(L,P._getPersistence())})).apply(this,arguments)}function pt(){var P;try{return(null===(P=function C2(){return typeof window<"u"?window:null}())||void 0===P?void 0:P.sessionStorage)||null}catch{return null}}const gt=k.ax;class Vt{constructor(){this.browserResolver=k.az(k.k),this.cordovaResolver=k.az(class Jt{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(N){var L=this;return(0,s.Z)(function*(){const ee=N._key();let Ne=L.eventManagers.get(ee);return Ne||(Ne=new De(N),L.eventManagers.set(ee,Ne),L.attachCallbackListeners(N,Ne)),Ne})()}_openPopup(N){(0,k.as)(N,"operation-not-supported-in-this-environment")}_openRedirect(N,L,ee,Ne){var nt=this;return(0,s.Z)(function*(){!function oe(P){var N,L,ee,Ne,nt,ut,Ce,Ie,Nt,un;const Ot=be();(0,k.ax)("function"==typeof(null===(N=Ot?.universalLinks)||void 0===N?void 0:N.subscribe),P,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(typeof(null===(L=Ot?.BuildInfo)||void 0===L?void 0:L.packageName)<"u",P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(nt=null===(Ne=null===(ee=Ot?.cordova)||void 0===ee?void 0:ee.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===nt?void 0:nt.openUrl),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(Ie=null===(Ce=null===(ut=Ot?.cordova)||void 0===ut?void 0:ut.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===Ie?void 0:Ie.isAvailable),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(un=null===(Nt=Ot?.cordova)||void 0===Nt?void 0:Nt.InAppBrowser)||void 0===un?void 0:un.open),P,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(N);const ut=yield nt._initialize(N);yield ut.initialized(),ut.resetRedirect(),(0,k.aD)(),yield nt._originValidation(N);const Ce=function me(P,N,L=null){return{type:N,eventId:L,urlResponse:null,sessionId:K(),postBody:null,tenantId:P.tenantId,error:(0,k.aw)(P,"no-auth-event")}}(N,ee,Ne);yield function Be(P,N){return Y()._set(ae(P),N)}(N,Ce);const Ie=yield function G(P,N,L){return $.apply(this,arguments)}(N,Ce,L),Nt=yield function Re(P){const{cordova:N}=be();return new Promise(L=>{N.plugins.browsertab.isAvailable(ee=>{let Ne=null;ee?N.plugins.browsertab.openUrl(P):Ne=N.InAppBrowser.open(P,(0,k.av)()?"_blank":"_system","location=yes"),L(Ne)})})}(Ie);return function Se(P,N,L){return Qe.apply(this,arguments)}(N,ut,Nt)})()}_isIframeWebStorageSupported(N,L){throw new Error("Method not implemented.")}_originValidation(N){const L=N._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function Q(P){return Ue.apply(this,arguments)}(N)),this.originValidationPromises[L]}attachCallbackListeners(N,L){const{universalLinks:ee,handleOpenURL:Ne,BuildInfo:nt}=be(),ut=setTimeout((0,s.Z)(function*(){yield te(N),L.onEvent(je())}),500),Ce=function(){var un=(0,s.Z)(function*(Ot){clearTimeout(ut);const dn=yield te(N);let n1=null;dn&&Ot?.url&&(n1=function he(P,N){var L,ee;const Ne=function Le(P){const N=ze(P),L=N.link?decodeURIComponent(N.link):void 0,ee=ze(L).link,Ne=N.deep_link_id?decodeURIComponent(N.deep_link_id):void 0;return ze(Ne).link||Ne||ee||L||P}(N);if(Ne.includes("/__/auth/callback")){const nt=ze(Ne),ut=nt.firebaseError?function ne(P){try{return JSON.parse(P)}catch{return null}}(decodeURIComponent(nt.firebaseError)):null,Ce=null===(ee=null===(L=ut?.code)||void 0===L?void 0:L.split("auth/"))||void 0===ee?void 0:ee[1],Ie=Ce?(0,k.aw)(Ce):null;return Ie?{type:P.type,eventId:P.eventId,tenantId:P.tenantId,error:Ie,urlResponse:null,sessionId:null,postBody:null}:{type:P.type,eventId:P.eventId,tenantId:P.tenantId,sessionId:P.sessionId,urlResponse:Ne,postBody:null}}return null}(dn,Ot.url)),L.onEvent(n1||je())});return function(dn){return un.apply(this,arguments)}}();typeof ee<"u"&&"function"==typeof ee.subscribe&&ee.subscribe(null,Ce);const Ie=Ne,Nt=`${nt.packageName.toLowerCase()}://`;be().handleOpenURL=function(){var un=(0,s.Z)(function*(Ot){if(Ot.toLowerCase().startsWith(Nt)&&Ce({url:Ot}),"function"==typeof Ie)try{Ie(Ot)}catch(dn){console.error(dn)}});return function(Ot){return un.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(N){var L=this;return(0,s.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize(N)})()}_openPopup(N,L,ee,Ne){var nt=this;return(0,s.Z)(function*(){return yield nt.selectUnderlyingResolver(),nt.assertedUnderlyingResolver._openPopup(N,L,ee,Ne)})()}_openRedirect(N,L,ee,Ne){var nt=this;return(0,s.Z)(function*(){return yield nt.selectUnderlyingResolver(),nt.assertedUnderlyingResolver._openRedirect(N,L,ee,Ne)})()}_isIframeWebStorageSupported(N,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported(N,L)}_originValidation(N){return this.assertedUnderlyingResolver._originValidation(N)}get _shouldInitProactively(){return _1()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var N=this;return(0,s.Z)(function*(){if(N.underlyingResolver)return;const L=yield function _i(){return Je.apply(this,arguments)}();N.underlyingResolver=L?N.cordovaResolver:N.browserResolver})()}}function or(P){return P.unwrap()}function W2(P){return K2(P)}function K2(P){const{_tokenResponse:N}=P instanceof le.ZR?P.customData:P;if(!N)return null;if(!(P instanceof le.ZR)&&"temporaryProof"in N&&"phoneNumber"in N)return k.P.credentialFromResult(P);const L=N.providerId;if(!L||L===k.o.PASSWORD)return null;let ee;switch(L){case k.o.GOOGLE:ee=k.Q;break;case k.o.FACEBOOK:ee=k.N;break;case k.o.GITHUB:ee=k.T;break;case k.o.TWITTER:ee=k.W;break;default:const{oauthIdToken:Ne,oauthAccessToken:nt,oauthTokenSecret:ut,pendingToken:Ce,nonce:Ie}=N;return nt||ut||Ne||Ce?Ce?L.startsWith("saml.")?k.aL._create(L,Ce):k.J._fromParams({providerId:L,signInMethod:L,pendingToken:Ce,idToken:Ne,accessToken:nt}):new k.U(L).credential({idToken:Ne,accessToken:nt,rawNonce:Ie}):null}return P instanceof le.ZR?ee.credentialFromError(P):ee.credentialFromResult(P)}function zt(P,N){return N.catch(L=>{throw L instanceof le.ZR&&function xt(P,N){var L;const ee=null===(L=N.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===N?.code)N.resolver=new E2(P,k.an(P,N));else if(ee){const Ne=K2(N),nt=N;Ne&&(nt.credential=Ne,nt.tenantId=ee.tenantId||void 0,nt.email=ee.email||void 0,nt.phoneNumber=ee.phoneNumber||void 0)}}(P,L),L}).then(L=>{const Ne=L.user;return{operationType:L.operationType,credential:W2(L),additionalUserInfo:k.al(L),user:Ln.getOrCreate(Ne)}})}function t1(P,N){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(P,N){const L=yield N;return{verificationId:L.verificationId,confirm:ee=>zt(P,L.confirm(ee))}})).apply(this,arguments)}class E2{constructor(N,L){this.resolver=L,this.auth=function y2(P){return P.wrapped()}(N)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(N){return zt(or(this.auth),this.resolver.resolveSignIn(N))}}class Ln{constructor(N){this._delegate=N,this.multiFactor=k.ao(N)}static getOrCreate(N){return Ln.USER_MAP.has(N)||Ln.USER_MAP.set(N,new Ln(N)),Ln.USER_MAP.get(N)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(N){return this._delegate.getIdTokenResult(N)}getIdToken(N){return this._delegate.getIdToken(N)}linkAndRetrieveDataWithCredential(N){return this.linkWithCredential(N)}linkWithCredential(N){var L=this;return(0,s.Z)(function*(){return zt(L.auth,k.Z(L._delegate,N))})()}linkWithPhoneNumber(N,L){var ee=this;return(0,s.Z)(function*(){return t1(ee.auth,k.l(ee._delegate,N,L))})()}linkWithPopup(N){var L=this;return(0,s.Z)(function*(){return zt(L.auth,k.d(L._delegate,N,Vt))})()}linkWithRedirect(N){var L=this;return(0,s.Z)(function*(){return yield An(k.aE(L.auth)),k.g(L._delegate,N,Vt)})()}reauthenticateAndRetrieveDataWithCredential(N){return this.reauthenticateWithCredential(N)}reauthenticateWithCredential(N){var L=this;return(0,s.Z)(function*(){return zt(L.auth,k._(L._delegate,N))})()}reauthenticateWithPhoneNumber(N,L){return t1(this.auth,k.r(this._delegate,N,L))}reauthenticateWithPopup(N){return zt(this.auth,k.e(this._delegate,N,Vt))}reauthenticateWithRedirect(N){var L=this;return(0,s.Z)(function*(){return yield An(k.aE(L.auth)),k.h(L._delegate,N,Vt)})()}sendEmailVerification(N){return k.ab(this._delegate,N)}unlink(N){var L=this;return(0,s.Z)(function*(){return yield k.ak(L._delegate,N),L})()}updateEmail(N){return k.ag(this._delegate,N)}updatePassword(N){return k.ah(this._delegate,N)}updatePhoneNumber(N){return k.u(this._delegate,N)}updateProfile(N){return k.af(this._delegate,N)}verifyBeforeUpdateEmail(N,L){return k.ac(this._delegate,N,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ln.USER_MAP=new WeakMap;const We=k.ax;let ve=(()=>{class P{constructor(L,ee){if(this.app=L,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ne}=L.options;We(Ne,"invalid-api-key",{appName:L.name}),We(Ne,"invalid-api-key",{appName:L.name});const nt=typeof window<"u"?Vt:void 0;this._delegate=ee.initialize({options:{persistence:wt(Ne,L.name),popupRedirectResolver:nt}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ln.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,ee){k.G(this._delegate,L,ee)}applyActionCode(L){return k.a2(this._delegate,L)}checkActionCode(L){return k.a3(this._delegate,L)}confirmPasswordReset(L,ee){return k.a1(this._delegate,L,ee)}createUserWithEmailAndPassword(L,ee){var Ne=this;return(0,s.Z)(function*(){return zt(Ne._delegate,k.a5(Ne._delegate,L,ee))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return k.aa(this._delegate,L)}isSignInWithEmailLink(L){return k.a8(this._delegate,L)}getRedirectResult(){var L=this;return(0,s.Z)(function*(){We(Z2(),L._delegate,"operation-not-supported-in-this-environment");const ee=yield k.j(L._delegate,Vt);return ee?zt(L._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function hn(P,N){(0,k.aE)(P)._logFramework(N)}(this._delegate,L)}onAuthStateChanged(L,ee,Ne){const{next:nt,error:ut,complete:Ce}=Xe(L,ee,Ne);return this._delegate.onAuthStateChanged(nt,ut,Ce)}onIdTokenChanged(L,ee,Ne){const{next:nt,error:ut,complete:Ce}=Xe(L,ee,Ne);return this._delegate.onIdTokenChanged(nt,ut,Ce)}sendSignInLinkToEmail(L,ee){return k.a7(this._delegate,L,ee)}sendPasswordResetEmail(L,ee){return k.a0(this._delegate,L,ee||void 0)}setPersistence(L){var ee=this;return(0,s.Z)(function*(){let Ne;switch(function bo(P,N){Tn(Object.values(l2).includes(N),P,"invalid-persistence-type"),(0,le.b$)()?Tn(N!==l2.SESSION,P,"unsupported-persistence-type"):(0,le.UG)()?Tn(N===l2.NONE,P,"unsupported-persistence-type"):q2()?Tn(N===l2.NONE||N===l2.LOCAL&&(0,le.hl)(),P,"unsupported-persistence-type"):Tn(N===l2.NONE||v1(),P,"unsupported-persistence-type")}(ee._delegate,L),L){case l2.SESSION:Ne=k.a;break;case l2.LOCAL:Ne=(yield k.az(k.i)._isAvailable())?k.i:k.b;break;case l2.NONE:Ne=k.L;break;default:return k.as("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(Ne)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return zt(this._delegate,k.X(this._delegate))}signInWithCredential(L){return zt(this._delegate,k.Y(this._delegate,L))}signInWithCustomToken(L){return zt(this._delegate,k.$(this._delegate,L))}signInWithEmailAndPassword(L,ee){return zt(this._delegate,k.a6(this._delegate,L,ee))}signInWithEmailLink(L,ee){return zt(this._delegate,k.a9(this._delegate,L,ee))}signInWithPhoneNumber(L,ee){return t1(this._delegate,k.s(this._delegate,L,ee))}signInWithPopup(L){var ee=this;return(0,s.Z)(function*(){return We(Z2(),ee._delegate,"operation-not-supported-in-this-environment"),zt(ee._delegate,k.c(ee._delegate,L,Vt))})()}signInWithRedirect(L){var ee=this;return(0,s.Z)(function*(){return We(Z2(),ee._delegate,"operation-not-supported-in-this-environment"),yield An(ee._delegate),k.f(ee._delegate,L,Vt)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return k.a4(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return P.Persistence=l2,P})();function Xe(P,N,L){let ee=P;"function"!=typeof P&&({next:ee,error:N,complete:L}=P);const Ne=ee;return{next:ut=>Ne(ut&&Ln.getOrCreate(ut)),error:N,complete:L}}function wt(P,N){const L=function mn(P,N){const L=pt();if(!L)return[];const ee=k.aA(sr,P,N);switch(L.getItem(ee)){case l2.NONE:return[k.L];case l2.LOCAL:return[k.i,k.a];case l2.SESSION:return[k.a];default:return[]}}(P,N);if(typeof self<"u"&&!L.includes(k.i)&&L.push(k.i),typeof window<"u")for(const ee of[k.b,k.a])L.includes(ee)||L.push(ee);return L.includes(k.L)||L.push(k.L),L}class At{constructor(){this.providerId="phone",this._delegate=new k.P(or(F.Z.auth()))}static credential(N,L){return k.P.credential(N,L)}verifyPhoneNumber(N,L){return this._delegate.verifyPhoneNumber(N,L)}unwrap(){return this._delegate}}At.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,At.PROVIDER_ID=k.P.PROVIDER_ID;const Qt=k.ax;class B{constructor(N,L,ee=F.Z.app()){var Ne;Qt(null===(Ne=ee.options)||void 0===Ne?void 0:Ne.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new k.R(N,L,ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Z(P){P.INTERNAL.registerComponent(new we.wA("auth-compat",N=>{const L=N.getProvider("app-compat").getImmediate(),ee=N.getProvider("auth");return new ve(L,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:At,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:B,TwitterAuthProvider:k.W,Auth:ve,AuthCredential:k.H,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),P.registerVersion("@firebase/auth-compat","0.3.0")}(F.Z)},8766:(bt,He,O)=>{O.d(He,{Lj:()=>Oe,X3:()=>it});var s=O(5861);let k,le;const we=new WeakMap,be=new WeakMap,ke=new WeakMap,G=new WeakMap,$=new WeakMap;let Re={get(ie,he,K){if(ie instanceof IDBTransaction){if("done"===he)return be.get(ie);if("objectStoreNames"===he)return ie.objectStoreNames||ke.get(ie);if("store"===he)return K.objectStoreNames[1]?void 0:K.objectStore(K.objectStoreNames[0])}return de(ie[he])},set:(ie,he,K)=>(ie[he]=K,!0),has:(ie,he)=>ie instanceof IDBTransaction&&("done"===he||"store"===he)||he in ie};function oe(ie){return"function"==typeof ie?function Qe(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Me(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...he){return ie.apply(rt(this),he),de(we.get(this))}:function(...he){return de(ie.apply(rt(this),he))}:function(he,...K){const Y=ie.call(rt(this),he,...K);return ke.set(Y,he.sort?he.sort():[he]),de(Y)}}(ie):(ie instanceof IDBTransaction&&function Ue(ie){if(be.has(ie))return;const he=new Promise((K,Y)=>{const ae=()=>{ie.removeEventListener("complete",ne),ie.removeEventListener("error",Le),ie.removeEventListener("abort",Le)},ne=()=>{K(),ae()},Le=()=>{Y(ie.error||new DOMException("AbortError","AbortError")),ae()};ie.addEventListener("complete",ne),ie.addEventListener("error",Le),ie.addEventListener("abort",Le)});be.set(ie,he)}(ie),((ie,he)=>he.some(K=>ie instanceof K))(ie,function Ee(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,Re):ie)}function de(ie){if(ie instanceof IDBRequest)return function Q(ie){const he=new Promise((K,Y)=>{const ae=()=>{ie.removeEventListener("success",ne),ie.removeEventListener("error",Le)},ne=()=>{K(de(ie.result)),ae()},Le=()=>{Y(ie.error),ae()};ie.addEventListener("success",ne),ie.addEventListener("error",Le)});return he.then(K=>{K instanceof IDBCursor&&we.set(K,ie)}).catch(()=>{}),$.set(he,ie),he}(ie);if(G.has(ie))return G.get(ie);const he=oe(ie);return he!==ie&&(G.set(ie,he),$.set(he,ie)),he}const rt=ie=>$.get(ie);function it(ie,he,{blocked:K,upgrade:Y,blocking:ae,terminated:ne}={}){const Le=indexedDB.open(ie,he),ze=de(Le);return Y&&Le.addEventListener("upgradeneeded",ht=>{Y(de(Le.result),ht.oldVersion,ht.newVersion,de(Le.transaction))}),K&&Le.addEventListener("blocked",()=>K()),ze.then(ht=>{ne&&ht.addEventListener("close",()=>ne()),ae&&ht.addEventListener("versionchange",()=>ae())}).catch(()=>{}),ze}function Oe(ie,{blocked:he}={}){const K=indexedDB.deleteDatabase(ie);return he&&K.addEventListener("blocked",()=>he()),de(K).then(()=>{})}const De=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],Be=new Map;function te(ie,he){if(!(ie instanceof IDBDatabase)||he in ie||"string"!=typeof he)return;if(Be.get(he))return Be.get(he);const K=he.replace(/FromIndex$/,""),Y=he!==K,ae=me.includes(K);if(!(K in(Y?IDBIndex:IDBObjectStore).prototype)||!ae&&!De.includes(K))return;const ne=function(){var Le=(0,s.Z)(function*(ze,...ht){const Jt=this.transaction(ze,ae?"readwrite":"readonly");let Ut=Jt.store;return Y&&(Ut=Ut.index(ht.shift())),(yield Promise.all([Ut[K](...ht),ae&&Jt.done]))[0]});return function(ht){return Le.apply(this,arguments)}}();return Be.set(he,ne),ne}!function Se(ie){Re=ie(Re)}(ie=>({...ie,get:(he,K,Y)=>te(he,K)||ie.get(he,K,Y),has:(he,K)=>!!te(he,K)||ie.has(he,K)}))},5861:(bt,He,O)=>{function s(k,le,Ee,Me,we,be,ke){try{var G=k[be](ke),$=G.value}catch(Q){return void Ee(Q)}G.done?le($):Promise.resolve($).then(Me,we)}function F(k){return function(){var le=this,Ee=arguments;return new Promise(function(Me,we){var be=k.apply(le,Ee);function ke($){s(be,Me,we,ke,G,"next",$)}function G($){s(be,Me,we,ke,G,"throw",$)}ke(void 0)})}}O.d(He,{Z:()=>F})}},bt=>{bt(bt.s=6829)}]);